<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Shine - 热爱生活点滴，分享时刻精彩。</title>
  
  
  <link href="https://blog.shineyu.cn/atom.xml" rel="self"/>
  
  <link href="https://blog.shineyu.cn/"/>
  <updated>2023-03-13T15:07:08.000Z</updated>
  <id>https://blog.shineyu.cn/</id>
  
  <author>
    <name>Shine Yu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>AI绘画之使用mov2mov插件生成视频</title>
    <link href="https://blog.shineyu.cn/sd-webui-mov2mov.html"/>
    <id>https://blog.shineyu.cn/sd-webui-mov2mov.html</id>
    <published>2023-03-12T14:07:08.000Z</published>
    <updated>2023-03-13T15:07:08.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>视频生成是一个很新颖的东西，在 sd webui 中有个插件叫做 <a href="https://github.com/Scholar01/sd-webui-mov2mov">mov2mov</a>，这个插件主要就是实现视频生成的功能的，我也是很有幸的能给这个插件贡献一些代码，并且该作者后面也会衍生其他关于视频动画的产品。</p><h1 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h1><p><img src="/img/mov2mov_eg.gif" alt="使用mov2mov插件生成的视频"></p><h1 id="mov2mov插件的安装"><a href="#mov2mov插件的安装" class="headerlink" title="mov2mov插件的安装"></a>mov2mov插件的安装</h1><p>打开 <strong>sd webui</strong> 的网页，找到页面上方的 <strong>Extensions</strong> 选项卡，点击选项卡后在展示的页面中点击 <strong>Install from URL</strong> 子选项卡，操作如下图：<br><img src="/img/mov2mov1.webp" alt="进入插件安装页面的操作"></p><p>然后在 <strong>URL for extension’s git repository</strong> 输入框内输入mov2mov插件的仓库url，内容如下：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Scholar01/sd-webui-mov2mov</span><br></pre></td></tr></table></figure><p>并且在第二个输入框中输入插件名称，如下：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mov2mov_github</span><br></pre></td></tr></table></figure><p>最后点击下方的 <strong>Install</strong> 安装按钮，等待安装完毕即可，完成操作后如下图：<br><img src="/img/mov2mov2.webp" alt="点击安装插件"></p><p>安装完成后，我们还需要将它启动一下，我们点击 <strong>Installed</strong> 子选项卡，然后勾选 <strong>mov2mov_github</strong>，最后点击上方的 <strong>Apply and restart UI</strong> 按钮即可启用该插件并刷新页面UI了，操作如下图：<br><img src="/img/mov2mov3.webp" alt="设置sd webui启用mov2mov插件"></p><h1 id="使用mov2mov插件生成视频"><a href="#使用mov2mov插件生成视频" class="headerlink" title="使用mov2mov插件生成视频"></a>使用mov2mov插件生成视频</h1><p>首先我们得下载一个视频，最好是12秒以内的，太长的视频，跑起来时间很长，我是3070的显卡，跑一个20多秒的视频需要4个小时多。</p><p>将下载好的视频上传到mov2mov插件中，操作如下：<br><img src="/img/mov2mov_uploadvideo.webp" alt="上传视频"></p><p>上传完视频后做参数的调整，参数如下图：<br><img src="/img/mov2mov_arg.webp" alt="mov2mov参数示例"></p><p>调整完所有想调整的参数后，点击页面右上方的 <strong>Generate按钮</strong> 等待它跑完生成即可，一般都是一个小时起步。</p><h1 id="跟随原视频动作并换衣服"><a href="#跟随原视频动作并换衣服" class="headerlink" title="跟随原视频动作并换衣服"></a>跟随原视频动作并换衣服</h1><p>安装controlnet插件，并将插件的参数配置成如下图，重要的是 <strong>Preprocessor</strong> 和 <strong>Model</strong> 参数选择成 <strong>openpose</strong>：</p><blockquote><p>controlnet插件仓库：<a href="https://github.com/Mikubill/sd-webui-controlnet">https://github.com/Mikubill/sd-webui-controlnet</a><br>安装方式跟安装mov2mov插件的安装方式一样。</p></blockquote><p><img src="/img/controlnet_arg.webp" alt="controlnet插件参数示例"></p><h1 id="跟随原视频动作并锁脸"><a href="#跟随原视频动作并锁脸" class="headerlink" title="跟随原视频动作并锁脸"></a>跟随原视频动作并锁脸</h1><p>先使用一张你想要的人脸的图片，将它的seed记下，粘贴到mov2mov插件的seed参数栏中，再将controlnet的 <strong>Preprocessor</strong> 和 <strong>Model</strong> 参数选择成 <strong>hed</strong> 即可，controlnet参数示例如下图：<br><img src="/img/controlnet_fase_arg.webp" alt="controlnet插件参数示例"></p>]]></content>
    
    
    <summary type="html">AI绘图中的视频生成是通过插件mov2mov实现的，下面将讲解一下如何安装使用mov2mov插件。</summary>
    
    
    
    <category term="人工智能" scheme="https://blog.shineyu.cn/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="AI绘图" scheme="https://blog.shineyu.cn/tags/AI%E7%BB%98%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>AI绘画之生成的图片很糊很灰暗</title>
    <link href="https://blog.shineyu.cn/sd-webui-solve-image-blur.html"/>
    <id>https://blog.shineyu.cn/sd-webui-solve-image-blur.html</id>
    <published>2023-03-12T14:06:08.000Z</published>
    <updated>2023-03-12T14:06:08.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在前面的教程中可以看到一些生成的图片比较灰暗和糊糊的感觉，相信或多或少的小伙伴都会遇到这样的问题，下面就说一下我是如何解决这个问题的。</p><h1 id="下载并设置vae模型"><a href="#下载并设置vae模型" class="headerlink" title="下载并设置vae模型"></a>下载并设置vae模型</h1><blockquote><p>vae模型下载链接：<a href="https://huggingface.co/stabilityai/sd-vae-ft-ema-original">https://huggingface.co/stabilityai/sd-vae-ft-ema-original</a>  </p></blockquote><p>将如下图的两个模型下载下来：<br><img src="/img/vae1.webp" alt="需要下载的vae模型"><br>下载完后，将这两个模型移动到 <strong>sd webui</strong> 项目的这个文件夹中 <strong>stable-diffusion-webui\models\VAE</strong> 即可。  </p><p>随后去到 <strong>sd webui</strong> 的 <strong>setting</strong> 选项卡页面，在这个页面中的左边选择 <strong>Stable Diffusion</strong> 这个选项，在点选后展示的页面中，找到 <strong>SD VAE</strong> 这一栏参数，将它选择为我们下载的其中一个模型就行，我选择的是以.safetensors后缀结尾的这个模型，具体操作如下图：<br><img src="/img/vae2.webp" alt="设置vae模型"><br>最后，点击上方的 <strong>Apply settings</strong> 保存设置按钮即可。</p><h1 id="mov2mov生成的视频模糊偏灰暗"><a href="#mov2mov生成的视频模糊偏灰暗" class="headerlink" title="mov2mov生成的视频模糊偏灰暗"></a>mov2mov生成的视频模糊偏灰暗</h1><p>将参数 <strong>Noise multiplier</strong> 调整到 <strong>1</strong> 即可解决。</p><h1 id="文字生成的图片模糊偏灰暗"><a href="#文字生成的图片模糊偏灰暗" class="headerlink" title="文字生成的图片模糊偏灰暗"></a>文字生成的图片模糊偏灰暗</h1><p>将 <strong>Hires. fix</strong> 参数勾选上即可解决。</p><h1 id="图片生成图片模糊偏灰暗"><a href="#图片生成图片模糊偏灰暗" class="headerlink" title="图片生成图片模糊偏灰暗"></a>图片生成图片模糊偏灰暗</h1><p>加上如下prompt试试：<br>正向prompt</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">best quality ,masterpiece, illustration, an extremely delicate and beautiful, extremely detailed ,CG ,unity ,8k wallpaper, Amazing, finely detail, masterpiece, best quality, official art, extremely detailed CG unity 8k wallpaper,</span><br></pre></td></tr></table></figure><p>负向prompt</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EasyNegative,Paintings, sketches, (worst quality:2), (low quality:2), (normal quality:2), lowers, normal quality, ((monochrome)), ((grayscales)), skin spots, acnes, skin blemishes, age spot, glans, (6 more fingers on one hand),(deformity), multiple breasts, (mutated hands and fingers:1.5 ), (long body :1.3), (mutation, poorly drawn :1.2) , black-white, bad anatomy, liquid body, liquid tongue, disfigured, malformed, mutated, anatomical nonsense, text font ui, error, malformed hands, long neck, blurred, lowers, lowres, bad anatomy, bad proportions, bad shadow, uncoordinated body, unnatural body, fused breasts, bad breasts, huge breasts, poorly drawn breasts, extra breasts, liquid breasts, heavy breasts, missing breasts, huge haunch, huge thighs, huge calf, bad hands, fused hand, missing hand, disappearing arms, disappearing thigh, disappearing calf, disappearing legs, fused ears, bad ears, poorly drawn ears, extra ears, liquid ears, heavy ears, missing ears, fused animal ears, bad animal ears, poorly drawn animal ears, extra animal ears, liquid animal ears, heavy animal ears, missing animal ears, text, ui, error, missing fingers, missing limb, fused fingers, one hand with more than 5 fingers, one hand with less than 5 fingers, one hand with more than 5 digit, one hand with less than 5 digit, extra digit, fewer digits, fused digit, missing digit, bad digit, liquid digit, colorful tongue, black tongue, cropped, watermark, username, blurry, JPEG artifacts, signature, 3D, 3D game, 3D game scene, 3D character, malformed feet, extra feet, bad feet, poorly drawn feet, fused feet, missing feet, extra shoes, bad shoes, fused shoes, more than two shoes, poorly drawn shoes, bad gloves, poorly drawn gloves, fused gloves, bad cum, poorly drawn cum, fused cum, bad hairs, poorly drawn hairs, fused hairs, big muscles, ugly, bad face, fused face, poorly drawn face, cloned face, big face, long face, bad eyes, fused eyes poorly drawn eyes, extra eyes, malformed limbs, more than 2 nipples, missing nipples, different nipples, fused nipples, bad nipples, poorly drawn nipples, black nipples, colorful nipples, gross proportions. short arm, (((missing arms))), missing thighs, missing calf, missing legs, mutation, duplicate, morbid, mutilated, poorly drawn hands, more than 1 left hand, more than 1 right hand, deformed, (blurry), disfigured, missing legs, extra arms, extra thighs, more than 2 thighs, extra calf, fused calf, extra legs, bad knee, extra knee, more than 2 legs, bad tails, bad mouth, fused mouth, poorly drawn mouth, bad tongue, tongue within mouth, too long tongue, black tongue, big mouth, cracked mouth, bad mouth, dirty face, dirty teeth, dirty pantie, fused pantie, poorly drawn pantie, fused cloth, poorly drawn cloth, bad pantie, yellow teeth, thick lips, bad cameltoe, colorful cameltoe, bad asshole, poorly drawn asshole, fused asshole, missing asshole, bad anus, bad pussy, bad crotch, bad crotch seam, fused anus, fused pussy, fused anus, fused crotch, poorly drawn crotch, fused seam, poorly drawn anus, poorly drawn pussy, poorly drawn crotch, poorly drawn crotch seam, bad thigh gap, missing thigh gap, fused thigh gap, liquid thigh gap, poorly drawn thigh gap, poorly drawn anus, bad collarbone, fused collarbone, missing collarbone, liquid collarbone, strong girl, obesity, worst quality, low quality, normal quality, liquid tentacles, bad tentacles, poorly drawn tentacles, split tentacles, fused tentacles, missing clit, bad clit, fused clit, colorful clit, black clit, liquid clit, QR code, bar code, censored, safety panties, safety knickers, beard, furry ,pony, pubic hair, mosaic, excrement, faeces, shit</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">使用sd webui的文生图和图生图功能时，生成的图片都比较模糊怎么破？</summary>
    
    
    
    <category term="问题笔记" scheme="https://blog.shineyu.cn/categories/%E9%97%AE%E9%A2%98%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="AI绘图" scheme="https://blog.shineyu.cn/tags/AI%E7%BB%98%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>AI绘画入门之使用图片生成图片</title>
    <link href="https://blog.shineyu.cn/sd-webui-img2img.html"/>
    <id>https://blog.shineyu.cn/sd-webui-img2img.html</id>
    <published>2023-03-12T00:40:00.000Z</published>
    <updated>2023-03-12T00:40:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>stable diffusion webui（后面简称 SD webui）的功能有很多，其中就有使用图片来生成图片（后面简称图生图）的功能。</p><h1 id="图生图介绍"><a href="#图生图介绍" class="headerlink" title="图生图介绍"></a>图生图介绍</h1><p>图生图其实就是比文生图（文字生成图片的简称）多上传了一张图片，上传这张图片的作用是给sd webui做采样使用，也就是说生成出来的图片会根据你上传的图片来二次加工，并通过调整 <strong>Denoising strength</strong> 参数来控制生成的图片是否跟上传的图片有关联，当 <strong>Denoising strength</strong> 的参数越大时，生成的图片就和你上传的图片没有关联了，当 <strong>Denoising strength</strong> 越小时，生成的图片就会和你上传的图片有很大的关联。点击入下图的标签切换到图生图界面：<br><img src="/img/tushengtu3.webp" alt="图生图界面"></p><h1 id="图片上传"><a href="#图片上传" class="headerlink" title="图片上传"></a>图片上传</h1><p>点击如下图的地方，就会弹出一个上传窗口，在上传窗口中选择你要上传的图片，然后再点击窗口右下角的打开按钮即可上传：<br><img src="/img/tushengtu1.webp" alt="点击此处上传图片"></p><h1 id="添加-Prompt-提示词"><a href="#添加-Prompt-提示词" class="headerlink" title="添加 Prompt 提示词"></a>添加 Prompt 提示词</h1><div class="note green icon-padding modern"><i class="note-icon fa-solid fa-question"></i><p>为什么上传了图片还需要给prompt提示词？ </p></div>  <p>其实可以不用给提示词，那样就和文生图一样，sd webui 会按照模型的风格来随机生成一张图片，如果此时上传了图片，那么sd webui 就会根据上传的图片来随机生成一张风格差不多的图片。如果即上传了图片，又填写了prompt提示词，那么 sd webui 就会根据prompt的提示来生成一张和上传的图片风格差不多的图片。</p><h1 id="调整-Denoising-strength-参数"><a href="#调整-Denoising-strength-参数" class="headerlink" title="调整 Denoising strength 参数"></a>调整 Denoising strength 参数</h1><p>可以在这里调整 Denoising strength 参数，如下图：<br><img src="/img/tushengtu2.webp" alt="此处可调节 Denoising strength 参数"><br>当 <strong>Denoising strength</strong> 的参数越大时，生成的图片就和你上传的图片没有关联了，当 <strong>Denoising strength</strong> 越小时，生成的图片就会和你上传的图片有很大的关联。搭配不同的 prompt提示词，生成的图片就越有意思。</p><h1 id="图生图示例"><a href="#图生图示例" class="headerlink" title="图生图示例"></a>图生图示例</h1><p>我先是用文生图生成一张图片，然后再将这张照片上传到图生图，接着我在prompt中输入背上双肩包的提示词，看下生成的图片吧：<br><img src="/img/tushengtu4.webp" alt="直接生成了背面的图片"><br><img src="/img/tushengtu5.webp" alt="再来个正面的"></p>]]></content>
    
    
    <summary type="html">AI绘图使用图片来生成图片，可搭配不同的prompt提示词生成脑海中的样子。</summary>
    
    
    
    <category term="人工智能" scheme="https://blog.shineyu.cn/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="AI绘图" scheme="https://blog.shineyu.cn/tags/AI%E7%BB%98%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>AI绘画之输入文字生成图片</title>
    <link href="https://blog.shineyu.cn/stable-diffusion-webui-txt2img.html"/>
    <id>https://blog.shineyu.cn/stable-diffusion-webui-txt2img.html</id>
    <published>2023-03-09T17:39:00.000Z</published>
    <updated>2023-03-09T17:39:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近都想着先把 Stable Diffusion Webui 的基础用法讲明白，让大家能够轻松的上手制作自己想要的图片。工作上也有点忙，每天回到家也是10点多了，近期每一篇文章发出都是在凌晨两三点。文章内容如果有晦涩难懂的地方，可以评论区告诉我，我会马上修改的。</p><h1 id="下载模型"><a href="#下载模型" class="headerlink" title="下载模型"></a>下载模型</h1><p><a href="https://civitai.com/">C 站</a> 里有各路大佬训练出来并上传免费下载使用的模型，你也可以将自己训练的模型上传到这里。点击前面的链接进入C 站，找到你喜欢的模型并下载，注意要下载大模型，也就是大小要有1GB以上的模型，也可以直接筛选下载CHECKPOINT类型的模型。  </p><p>下载完后，将模型放到 stable-diffusion-webui\models\Stable-diffusion 文件夹中，然后打开 Stable Diffusion Webui 页面，在页面左上角有一个下拉框，点击下拉框找到你刚刚的模型，如果找不到，可以点击下拉框右边的刷新图标，点击它即可刷新出你刚刚放置进去的模型，如果刷新不出来，请重新运行启动项目。</p><p><img src="/img/ai_prompt1.webp" alt="选择或刷新模型"></p><h1 id="文字提示词"><a href="#文字提示词" class="headerlink" title="文字提示词"></a>文字提示词</h1><p>当选择完模型之后，就可以到文字提示词输入框中输入你想要的提示词了，如下图：<br><img src="/img/ai_prompt2.webp" alt="选择或刷新模型"></p><p>因为不同的模型，输入相同的提示词都会生成不同的图片，因为他们的风格不相同，所以这个具体效果要在C站上查看具体的模型的相关提示词了，一般在模型的封面处，点击它的图片，进入的页面中右边就是该图片的提示词，如下图：<br><img src="/img/ai_prompt3.webp" alt="图片提示词"></p><h1 id="Prompt搜索"><a href="#Prompt搜索" class="headerlink" title="Prompt搜索"></a>Prompt搜索</h1><p><a href="https://lexica.art/">Lexica</a> 是一个可以搜索图片的网站，并且搜索出来的图片还会提供对应的prompt给你，还能在图片上添加或者删减prompt来进行二次创作，如下图：<br><img src="/img/ai_prompt4.webp" alt="Lexica官网"></p><p>随便点击一张图片，在弹出的窗口中可以看到 <strong>copy prompt按钮</strong> 和 <strong>open in editor按钮</strong>，他们分别是复制和编辑，如下图：<br><img src="/img/ai_prompt5.webp" alt="点击图片"></p><p>当我们点击 <strong>open in editor按钮</strong> 后，将会进入如下页面：<br><img src="/img/ai_prompt6.webp" alt="编辑图片"><br>在页面中，最上面的第一栏输入框对应的就是prompt提示词，再往下的第二个输入框对应的就是Negative prompt提示词，我们可以在这里进行自己想要的修改，修改完后，我们可以点击右下角的 <strong>Generate按钮</strong> 进行生成，等待一会儿就会有新生成的图片显示出来了。</p>]]></content>
    
    
    <summary type="html">AI绘图的基本就是通过用户输入的文字提示词，然后生成相对应的图片。</summary>
    
    
    
    <category term="人工智能" scheme="https://blog.shineyu.cn/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="AI绘图" scheme="https://blog.shineyu.cn/tags/AI%E7%BB%98%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>AI绘图入门之本地部署</title>
    <link href="https://blog.shineyu.cn/stable-diffusion-webui-deploy.html"/>
    <id>https://blog.shineyu.cn/stable-diffusion-webui-deploy.html</id>
    <published>2023-03-08T18:10:00.000Z</published>
    <updated>2023-03-08T18:10:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这是AI创作系列的第一篇文章，我希望AI创作系列的文章能一直延续下去，想要找到志同道合的朋友，或者有不懂的问题想要请教、交流都可以加企鹅群<strong>398637405</strong>，或者博客评论告诉我。希望大伙玩的开心呀！</p><p><img src="/img/AI-image.webp" alt="企鹅群二维码"></p><h1 id="效果预览"><a href="#效果预览" class="headerlink" title="效果预览"></a>效果预览</h1><p><img src="/img/sd_deploy1.webp" alt="Stable Diffusion WebUI项目界面"><img src="/img/sd_deploy2.webp" alt="第一张 国风AI绘图"><img src="/img/sd_deploy3.webp" alt="第二张 二次元AI绘图"></p><h1 id="Stable-Diffusion-WebUI-介绍"><a href="#Stable-Diffusion-WebUI-介绍" class="headerlink" title="Stable Diffusion WebUI 介绍"></a>Stable Diffusion WebUI 介绍</h1><p><strong>Stable Diffusion Web UI</strong> 是一个使用gradio模块开发的前端项目，而gradio模块则是专门用于开发人工智能可视化网页的。<strong>Stable Diffusion Web UI</strong> 提供了多种功能，如 txt2img、img2img、inpaint 等，还包含了许多模型融合改进、图片质量修复等附加升级。通过调节不同参数可以生成不同效果，用户可以根据自己的需要和喜好进行创作。我们可以通过Stable Diffusion Web UI 训练我们自己的模型，它提供了多种训练方式，通过掌握训练方法可以自己制作模型。  </p><blockquote><p>Stable Diffusion Web UI 仓库：<a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui">https://github.com/AUTOMATIC1111/stable-diffusion-webui</a><br>Gradio文档：<a href="https://gradio.app/docs/">https://gradio.app/docs/</a></p></blockquote><h1 id="部署-Stable-Diffusion-WebUI-项目"><a href="#部署-Stable-Diffusion-WebUI-项目" class="headerlink" title="部署 Stable Diffusion WebUI 项目"></a>部署 Stable Diffusion WebUI 项目</h1><h2 id="拉取项目"><a href="#拉取项目" class="headerlink" title="拉取项目"></a>拉取项目</h2><p>打开cmd命令行界面，输入如下命令：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git &amp;&amp; <span class="built_in">cd</span> stable-diffusion-webui</span><br></pre></td></tr></table></figure><h2 id="替换为Github镜像站"><a href="#替换为Github镜像站" class="headerlink" title="替换为Github镜像站"></a>替换为Github镜像站</h2><p>等待项目拉取完成并进入文件夹后，我们需要先将pip的国内源和github的镜像站换上，因为需要下载的东西实在太多，所以建议切换成国内的源和镜像站进行部署，当然了，如果你科学上网的网速足够快，也可以忽略这一段。  </p><p>使用vscode或者记事本，找到项目根目录中的 <strong>launch.py</strong> 文件，做如下内容修改：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">将它打开并找到里面所有的 https://github.com/ 字符串，</span><br><span class="line">将它们都替换成 https://ghproxy.com/https://github.com/ 即可。</span><br><span class="line">到这里就完成了镜像站的替换了。</span><br></pre></td></tr></table></figure><h2 id="安装Python3-10-6"><a href="#安装Python3-10-6" class="headerlink" title="安装Python3.10.6"></a>安装Python3.10.6</h2><p>接下来我们去<a href="https://www.python.org/downloads/windows/">python官网</a>来安装一下<strong>python3.10.6</strong>，版本强制要求就是3.10.6。<br>进入官网下滑找到python3.10.6版本下载即可，下载完双击安装，这里就不赘述了。</p><h2 id="更换pip源为国内源"><a href="#更换pip源为国内源" class="headerlink" title="更换pip源为国内源"></a>更换pip源为国内源</h2><p>接下来，我们更换一下pip的源为国内源，打开cmd并输入如下命令：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install --upgrade pip</span><br><span class="line">pip config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><h2 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h2><p>一切都做好之后就可以开始运行项目进行本地部署了，在项目根目录下输入如下命令并回车：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\webui-user.bat</span><br></pre></td></tr></table></figure><p>耐心等待它运行完成，在运行期间，会下载安装很多模块，也会拉取一些需要的仓库，所以一般都比较久，大约30分钟左右。<br>运行完成后，在浏览器输入 <strong><a href="http://127.0.0.1:7860/">http://127.0.0.1:7860</a></strong> 链接并回车即可访问项目。  </p><h1 id="部署完成"><a href="#部署完成" class="headerlink" title="部署完成"></a>部署完成</h1><p>部署完后，可以在 <strong>txt2img</strong> 选项卡中的第一栏输入框处输入如下提示词：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">girl, aqua eyes, baseball cap, blonde hair, closed mouth, earrings, green background, hat, hoop earrings, jewelry, looking at viewer, shirt, short hair, simple background, solo, upper body, yellow shirt</span><br></pre></td></tr></table></figure><p>输入完成后点击右边的 <strong>Generate</strong> 按钮，等到下面的进度条跑完，就可以看到新鲜出炉的图片啦！</p>]]></content>
    
    
    <summary type="html">如何在自己的电脑上，部署一个AI绘图的网站，并使用它绘制出自己想要的图片。</summary>
    
    
    
    <category term="人工智能" scheme="https://blog.shineyu.cn/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="AI绘图" scheme="https://blog.shineyu.cn/tags/AI%E7%BB%98%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>Qexo添加点赞功能</title>
    <link href="https://blog.shineyu.cn/qexo-postlike.html"/>
    <id>https://blog.shineyu.cn/qexo-postlike.html</id>
    <published>2023-03-05T16:32:00.000Z</published>
    <updated>2023-03-05T16:49:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在刚开始玩静态博客的时候，就对静态博客缺失这个功能很失落，现在终于是有机会将它加到自己的静态博客中了，当然这缺少不了qexo，还得是有个后端会好很多呀。</p><h1 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h1><p>效果如下：<br><img src="/img/qexo-postlike1.webp" alt="点赞位页面"><img src="/img/qexo-postlike2.webp" alt="编辑点赞位"><img src="/img/qexo-postlike3.webp" alt="删除点赞位"></p><h1 id="创建后台界面"><a href="#创建后台界面" class="headerlink" title="创建后台界面"></a>创建后台界面</h1><p>创建 templates\home\post_like.html 文件，代码内容如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#x27;layouts/base.html&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header bg-primary pb-6&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container-fluid&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header-body&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row align-items-center py-4&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-6 col-7&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">h6</span> <span class="attr">class</span>=<span class="string">&quot;h2 text-white d-inline-block mb-0&quot;</span>&gt;</span>点赞位列表<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">nav</span> <span class="attr">aria-label</span>=<span class="string">&quot;breadcrumb&quot;</span> <span class="attr">class</span>=<span class="string">&quot;d-none d-md-inline-block ml-md-4&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb breadcrumb-links breadcrumb-dark&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb-item&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-home&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb-item active&quot;</span> <span class="attr">aria-current</span>=<span class="string">&quot;page&quot;</span>&gt;</span>点赞位<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-6 col-5 text-right&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-sm btn-neutral&quot;</span>&gt;</span>主页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:query_new()&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-sm btn-neutral&quot;</span>&gt;</span>新建点赞位<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Page content --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container-fluid mt--6&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-header border-0&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row align-items-center&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;mb-0&quot;</span>&gt;</span>&#123;% if search %&#125;搜索点赞位: &#123;&#123; search &#125;&#125;&#123;% else %&#125;</span><br><span class="line">                                    全部点赞位&#123;% endif %&#125;</span><br><span class="line">                                    (<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;post-number&quot;</span>&gt;</span>&#123;&#123; post_number &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span>条)<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;table-responsive&quot;</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- Projects table --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table align-items-center table-flush&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">thead</span> <span class="attr">class</span>=<span class="string">&quot;thead-light&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>文章名称<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>点赞数<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">id</span>=<span class="string">&quot;posts-list&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-footer py-4&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;pagination justify-content-end mb-0&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;prev-page&quot;</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;page-link&quot;</span></span></span><br><span class="line"><span class="tag">                                       <span class="attr">href</span>=<span class="string">&quot;javascript:prev_page()&quot;</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-angle-left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span>&gt;</span>上一页<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                                &#123;% for i in page_number|get_range %&#125;</span><br><span class="line">                                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;page-&#123;&#123; i &#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;page-link&quot;</span></span></span><br><span class="line"><span class="tag">                                           <span class="attr">href</span>=<span class="string">&quot;javascript:change_page(&#123;&#123; i &#125;&#125;)&quot;</span>&gt;</span>&#123;&#123; i &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                                &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">                                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;page-item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;next-page&quot;</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;page-link&quot;</span></span></span><br><span class="line"><span class="tag">                                       <span class="attr">href</span>=<span class="string">&quot;javascript:next_page()&quot;</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-angle-right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span>&gt;</span>Next<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal fade&quot;</span> <span class="attr">id</span>=<span class="string">&quot;query&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;-1&quot;</span> <span class="attr">aria-labelledby</span>=<span class="string">&quot;queryLabel&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-content&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-header&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">h5</span> <span class="attr">class</span>=<span class="string">&quot;modal-title&quot;</span> <span class="attr">id</span>=<span class="string">&quot;queryLabel&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;close&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;modal&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Close&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;times;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-body&quot;</span> <span class="attr">id</span>=<span class="string">&quot;query-modal-body&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-footer&quot;</span> <span class="attr">id</span>=<span class="string">&quot;query-modal-footer&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        &#123;% include &quot;includes/footer.html&quot; %&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% endblock content %&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Specific JS goes HERE --&gt;</span></span><br><span class="line">&#123;% block javascripts %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> del_file = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> posts = &#123;&#123; posts|safe &#125;&#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> _page = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> compare = <span class="keyword">function</span> (<span class="params">x, y</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (x[<span class="string">&quot;postName&quot;</span>] &lt; y[<span class="string">&quot;postName&quot;</span>]) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> -<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x[<span class="string">&quot;postName&quot;</span>] &gt; y[<span class="string">&quot;postName&quot;</span>]) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">scrollToTop</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> timer = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">cancelAnimationFrame</span>(timer);</span></span><br><span class="line"><span class="language-javascript">            timer = <span class="title function_">requestAnimationFrame</span>(<span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">let</span> oTop = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (oTop &gt; <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span> = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> = oTop - <span class="number">30</span>;</span></span><br><span class="line"><span class="language-javascript">                    timer = <span class="title function_">requestAnimationFrame</span>(fn);</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">cancelAnimationFrame</span>(timer);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">change_page</span>(<span class="params">page</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">scrollToTop</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> page_posts;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (posts.<span class="property">length</span> &gt; page * <span class="number">15</span> + <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                page_posts = posts.<span class="title function_">slice</span>(<span class="number">15</span> * (page - <span class="number">1</span>), page * <span class="number">15</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                page_posts = posts.<span class="title function_">slice</span>(<span class="number">15</span> * (page - <span class="number">1</span>));</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> list = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; page_posts.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                list += <span class="string">&quot;&lt;tr&gt;&lt;th scope=\&quot;row\&quot;&gt;&quot;</span> + page_posts[i][<span class="string">&quot;postName&quot;</span>] +</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&quot;&lt;/th&gt;&lt;td&gt;&quot;</span> + page_posts[i][<span class="string">&quot;like&quot;</span>] + <span class="string">&quot;&lt;/td&gt;&lt;td&gt; &lt;a href=\&quot;javascript:query_edit(&#x27;&quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                    page_posts[i][<span class="string">&quot;postName&quot;</span>] + <span class="string">&quot;&#x27;,&#x27;&quot;</span> + page_posts[i][<span class="string">&quot;postName&quot;</span>] + <span class="string">&quot;&#x27;)\&quot;&gt;&lt;i class=\&quot;fa fa-edit mr-2\&quot;&gt;&lt;/i&gt;&lt;/a&gt;|&amp;nbsp;&amp;nbsp;&quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&quot; &lt;a href=\&quot;javascript:query_delete(&#x27;&quot;</span> + page_posts[i][<span class="string">&quot;postName&quot;</span>] + <span class="string">&quot;&#x27;)\&quot;&gt;&lt;i &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&quot;class=\&quot;fa fa-trash-alt mr-2\&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#page-&quot;</span> + _page).<span class="title function_">removeClass</span>(<span class="string">&quot;active&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#page-&quot;</span> + page).<span class="title function_">addClass</span>(<span class="string">&quot;active&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#posts-list&quot;</span>).<span class="title function_">html</span>(list);</span></span><br><span class="line"><span class="language-javascript">            _page = page;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (page &lt;= <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                $(<span class="string">&quot;#prev-page&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;disabled&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                $(<span class="string">&quot;#prev-page&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;disabled&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (page &gt;=&#123;&#123; page_number &#125;&#125;) &#123;</span></span><br><span class="line"><span class="language-javascript">                $(<span class="string">&quot;#next-page&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;disabled&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                $(<span class="string">&quot;#next-page&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;disabled&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">query_edit</span>(<span class="params">name, content</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> html = <span class="string">&quot;&lt;div class=\&quot;col\&quot;&gt;&lt;label &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;class=\&quot;form-control-label\&quot;&gt;&quot;</span> + <span class="string">&quot;文章名称&quot;</span> + <span class="string">&quot;&lt;/label&gt;&lt;input type=\&quot;text\&quot; &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;name=\&quot;content\&quot; id=\&quot;edit-content\&quot; &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;class=\&quot;form-control\&quot; value=\&quot;&quot;</span> + content.<span class="title function_">toString</span>().<span class="title function_">replaceAll</span>(<span class="string">&quot;\&quot;&quot;</span>, <span class="string">&quot;&amp;quot;&quot;</span>) +<span class="string">&quot;\&quot;&gt;&lt;/div&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#query-modal-body&quot;</span>).<span class="title function_">html</span>(html);</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#queryLabel&quot;</span>).<span class="title function_">html</span>(<span class="string">&quot;编辑&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> footer = <span class="string">&quot;&lt;button type=\&quot;button\&quot; class=\&quot;btn btn-secondary\&quot; &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;data-dismiss=\&quot;modal\&quot;&gt;取消&lt;/button&gt;&lt;button type=\&quot;button\&quot; class=\&quot;btn &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;btn-primary\&quot; data-dismiss=\&quot;modal\&quot; onclick=\&quot;change_value(&#x27;&quot;</span> + name +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;&#x27;)\&quot;&gt;确定&lt;/button&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#query-modal-footer&quot;</span>).<span class="title function_">html</span>(footer);</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#query&quot;</span>).<span class="title function_">modal</span>(<span class="string">&quot;show&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">query_delete</span>(<span class="params">name</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> html = <span class="string">&quot;确认要删除 &quot;</span> + name + <span class="string">&quot; 字段吗？该操作不可回退&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#query-modal-body&quot;</span>).<span class="title function_">html</span>(html);</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#queryLabel&quot;</span>).<span class="title function_">html</span>(<span class="string">&quot;提示&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> footer = <span class="string">&quot;&lt;button type=\&quot;button\&quot; class=\&quot;btn btn-secondary\&quot; &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;data-dismiss=\&quot;modal\&quot;&gt;取消&lt;/button&gt;&lt;button type=\&quot;button\&quot; class=\&quot;btn &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;btn-primary\&quot; data-dismiss=\&quot;modal\&quot; onclick=\&quot;delete_value(&#x27;&quot;</span> + name +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;&#x27;)\&quot;&gt;确定&lt;/button&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#query-modal-footer&quot;</span>).<span class="title function_">html</span>(footer);</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#query&quot;</span>).<span class="title function_">modal</span>(<span class="string">&quot;show&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">query_new</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> html = <span class="string">&quot;&lt;div class=\&quot;col\&quot;&gt;&lt;label &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;class=\&quot;form-control-label\&quot;&gt;文章名称&lt;/label&gt;&lt;input type=\&quot;text\&quot; &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;name=\&quot;name\&quot; id=\&quot;edit-name\&quot; &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;class=\&quot;form-control\&quot;&gt;&lt;/div&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#query-modal-body&quot;</span>).<span class="title function_">html</span>(html);</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#queryLabel&quot;</span>).<span class="title function_">html</span>(<span class="string">&quot;新建点赞位&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> footer = <span class="string">&quot;&lt;button type=\&quot;button\&quot; class=\&quot;btn btn-secondary\&quot; &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;data-dismiss=\&quot;modal\&quot;&gt;取消&lt;/button&gt;&lt;button type=\&quot;button\&quot; class=\&quot;btn &quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&quot;btn-primary\&quot; data-dismiss=\&quot;modal\&quot; onclick=\&quot;new_value()\&quot;&gt;确定&lt;/button&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#query-modal-footer&quot;</span>).<span class="title function_">html</span>(footer);</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#query&quot;</span>).<span class="title function_">modal</span>(<span class="string">&quot;show&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">change_value</span>(<span class="params">name</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> loading = <span class="keyword">new</span> <span class="title function_">KZ_Loading</span>(<span class="string">&#x27;正在保存中...&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            loading.<span class="title function_">show</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> content = $(<span class="string">&quot;#edit-content&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;name:&quot;</span>, name);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;content:&quot;</span>, content);</span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&#x27;/api/change_postlike/&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: &#123;<span class="string">&quot;postname&quot;</span>: name, <span class="string">&quot;content&quot;</span>: content&#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    loading.<span class="title function_">destroy</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (res.<span class="property">status</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        notyf.<span class="title function_">success</span>(res.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; posts.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (posts[i][<span class="string">&quot;postName&quot;</span>] == name) &#123;</span></span><br><span class="line"><span class="language-javascript">                                posts[i][<span class="string">&quot;postName&quot;</span>] = content;</span></span><br><span class="line"><span class="language-javascript">                                <span class="title function_">change_page</span>(_page);</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        notyf.<span class="title function_">error</span>(res.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">error</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    loading.<span class="title function_">destroy</span>();</span></span><br><span class="line"><span class="language-javascript">                    notyf.<span class="title function_">error</span>(<span class="string">&quot;网络错误！&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">delete_value</span>(<span class="params">name</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> loading = <span class="keyword">new</span> <span class="title function_">KZ_Loading</span>(<span class="string">&#x27;正在删除中...&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            loading.<span class="title function_">show</span>();</span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&#x27;/api/delete_postlike/&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: &#123;<span class="string">&quot;postname&quot;</span>: name&#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    loading.<span class="title function_">destroy</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (res.<span class="property">status</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        notyf.<span class="title function_">success</span>(res.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; posts.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (posts[i][<span class="string">&quot;postName&quot;</span>] === name) &#123;</span></span><br><span class="line"><span class="language-javascript">                                posts.<span class="title function_">splice</span>(i, <span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">                                <span class="title function_">change_page</span>(_page);</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        $(<span class="string">&quot;#count&quot;</span>).<span class="title function_">html</span>(posts.<span class="property">length</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        notyf.<span class="title function_">error</span>(res.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">error</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    loading.<span class="title function_">destroy</span>();</span></span><br><span class="line"><span class="language-javascript">                    notyf.<span class="title function_">error</span>(<span class="string">&quot;网络错误！&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">new_value</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> postname = $(<span class="string">&quot;#edit-name&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> loading = <span class="keyword">new</span> <span class="title function_">KZ_Loading</span>(<span class="string">&#x27;正在保存中...&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            loading.<span class="title function_">show</span>();</span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&#x27;/api/save_postlike/&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: &#123;<span class="string">&quot;postname&quot;</span>: postname&#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    loading.<span class="title function_">destroy</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (res.<span class="property">status</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        notyf.<span class="title function_">success</span>(res.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">                        posts.<span class="title function_">push</span>(&#123;<span class="string">&quot;postName&quot;</span>: postname, <span class="string">&quot;like&quot;</span>: <span class="number">0</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">                        posts.<span class="title function_">sort</span>(compare);</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">change_page</span>(_page);</span></span><br><span class="line"><span class="language-javascript">                        $(<span class="string">&quot;#count&quot;</span>).<span class="title function_">html</span>(posts.<span class="property">length</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        notyf.<span class="title function_">error</span>(res.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">error</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    loading.<span class="title function_">destroy</span>();</span></span><br><span class="line"><span class="language-javascript">                    notyf.<span class="title function_">error</span>(<span class="string">&quot;网络错误！&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">change_page</span>(<span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">        $.<span class="title function_">ajaxSetup</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;<span class="attr">csrfmiddlewaretoken</span>: <span class="string">&#x27;&#123;&#123; csrf_token &#125;&#125;&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endblock javascripts %&#125;</span><br></pre></td></tr></table></figure><h1 id="创建点赞的对公api"><a href="#创建点赞的对公api" class="headerlink" title="创建点赞的对公api"></a>创建点赞的对公api</h1><p>找到 hexoweb\pub.py 文件，在文件末尾添加如下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置文章点赞</span></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">set_postlike</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method != <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        postname = json.loads(request.body).get(<span class="string">&#x27;postname&#x27;</span>)</span><br><span class="line">        postlikemodel = PostLikeModel.objects.<span class="built_in">filter</span>(postName=postname).first()</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">not</span> postlikemodel):</span><br><span class="line">            <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>: <span class="string">&quot;文章未创建点赞功能！&quot;</span>, <span class="string">&quot;status&quot;</span>: <span class="literal">False</span>&#125;)</span><br><span class="line">        postlikemodel.like += <span class="number">1</span></span><br><span class="line">        count = postlikemodel.like</span><br><span class="line">        postlikemodel.save()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> error:</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>: <span class="string">&quot;点赞发生错误，请检查数据库或网络！&quot;</span>, <span class="string">&quot;status&quot;</span>: <span class="literal">False</span>&#125;)</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>: count, <span class="string">&quot;status&quot;</span>: <span class="literal">True</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取文章点赞数</span></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_postlike</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method != <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        postname = json.loads(request.body).get(<span class="string">&#x27;postname&#x27;</span>)</span><br><span class="line">        postlikemodel = PostLikeModel.objects.<span class="built_in">filter</span>(postName=postname).first()</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">not</span> postlikemodel):</span><br><span class="line">            <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>: <span class="string">&quot;文章未创建点赞功能！&quot;</span>, <span class="string">&quot;status&quot;</span>: <span class="literal">False</span>&#125;)</span><br><span class="line">        count = postlikemodel.like</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> error:</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>: <span class="string">&quot;获取点赞数失败，请检查数据库或网络！&quot;</span>, <span class="string">&quot;status&quot;</span>: <span class="literal">True</span>&#125;)</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>: count, <span class="string">&quot;status&quot;</span>: <span class="literal">True</span>&#125;)</span><br></pre></td></tr></table></figure><p>前端静态博客只需要在点赞按钮上调用上面两个相应的接口即可，<strong>set_postlike</strong>接口是用来给按钮点赞的时候增加点赞数用的，<strong>get_postlike</strong>接口是给获取文章点赞数用的，都有注释标明。</p><h1 id="创建点赞位的私有api"><a href="#创建点赞位的私有api" class="headerlink" title="创建点赞位的私有api"></a>创建点赞位的私有api</h1><p>找到 hexoweb\api.py 文件，在文件末尾添加如下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 保存点赞位</span></span><br><span class="line"><span class="meta">@login_required(<span class="params">login_url=<span class="string">&quot;/login/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save_postlike</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method != <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    postname = request.POST.get(<span class="string">&quot;postname&quot;</span>)</span><br><span class="line">    postlike = PostLikeModel.objects.<span class="built_in">filter</span>(postName=postname).first()  <span class="comment"># 查看是否已经订阅过</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">not</span> postlike):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            PostLikeModel.objects.create(postName=postname)    </span><br><span class="line">            <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;OK，创建点赞位成功。&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">True</span>&#125;)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> error:</span><br><span class="line">            <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;数据库插入记录失败。&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">False</span>&#125;)</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;点赞位已经存在&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">False</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除点赞位</span></span><br><span class="line"><span class="meta">@login_required(<span class="params">login_url=<span class="string">&quot;/login/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">delete_postlike</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method != <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    postname = request.POST.get(<span class="string">&quot;postname&quot;</span>)</span><br><span class="line">    postlike = PostLikeModel.objects.<span class="built_in">filter</span>(postName=postname).first()  <span class="comment"># 查看是否已经订阅过</span></span><br><span class="line">    <span class="keyword">if</span> (postlike):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            PostLikeModel.objects.<span class="built_in">filter</span>(postName=postname).delete()</span><br><span class="line">            <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;OK，删除点赞位成功。&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">True</span>&#125;)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> error:</span><br><span class="line">            <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;数据库删除记录失败。&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">False</span>&#125;)</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;点赞位不存在！&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">False</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改点赞位</span></span><br><span class="line"><span class="meta">@login_required(<span class="params">login_url=<span class="string">&quot;/login/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">change_postlike</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method != <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    postname = request.POST.get(<span class="string">&quot;postname&quot;</span>)</span><br><span class="line">    content = request.POST.get(<span class="string">&quot;content&quot;</span>)</span><br><span class="line">    postlike = PostLikeModel.objects.<span class="built_in">filter</span>(postName=postname).first()  <span class="comment"># 查看是否已经订阅过</span></span><br><span class="line">    <span class="keyword">if</span> (postlike):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            PostLikeModel.objects.<span class="built_in">filter</span>(postName=postname).update(postName=content)</span><br><span class="line">            <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;OK，修改点赞位成功。&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">True</span>&#125;)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> error:</span><br><span class="line">            <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;数据库修改记录失败。&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">False</span>&#125;)</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;点赞位不存在！&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">False</span>&#125;)</span><br></pre></td></tr></table></figure><h1 id="配置接口路由"><a href="#配置接口路由" class="headerlink" title="配置接口路由"></a>配置接口路由</h1><p>找到 core\urls.py 文件，做如下的代码修改：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">path(&#x27;api/del_talk/&#x27;, del_talk, name=&#x27;del_talk&#x27;),</span><br><span class="line">path(&#x27;api/run_online_script/&#x27;, run_online_script, name=&#x27;run_online_script&#x27;),</span><br><span class="line"><span class="addition">+path(&#x27;api/save_postlike/&#x27;, save_postlike, name=&quot;save_postlike&quot;),</span></span><br><span class="line"><span class="addition">+path(&#x27;api/delete_postlike/&#x27;, delete_postlike, name=&quot;delete_postlike&quot;),</span></span><br><span class="line"><span class="addition">+path(&#x27;api/change_postlike/&#x27;, change_postlike, name=&quot;change_postlike&quot;),</span></span><br><span class="line">...  #省略中间的代码</span><br><span class="line">path(&#x27;pub/save_talk/&#x27;, pub.save_talk, name=&#x27;pub_save_talk&#x27;),</span><br><span class="line">path(&#x27;pub/del_talk/&#x27;, pub.del_talk, name=&#x27;pub_del_talk&#x27;),</span><br><span class="line"><span class="addition">+path(&#x27;pub/set_postlike/&#x27;, pub.set_postlike, name=&#x27;pub_set_postlike&#x27;),</span></span><br><span class="line"><span class="addition">+path(&#x27;pub/get_postlike/&#x27;, pub.get_postlike, name=&#x27;pub_get_postlike&#x27;),</span></span><br></pre></td></tr></table></figure><h1 id="创建后台页面"><a href="#创建后台页面" class="headerlink" title="创建后台页面"></a>创建后台页面</h1><p>找到 hexoweb\views.py 文件，添加如下代码：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">elif &quot;configs&quot; in load_template:</span><br><span class="line">    if not request.user.is_staff:</span><br><span class="line">        logging.info(f&quot;子用户&#123;request.user.username&#125;尝试访问&#123;request.path&#125;被拒绝&quot;)</span><br><span class="line">        return page_403(request, &quot;您没有权限访问此页面&quot;)</span><br><span class="line">    search = request.GET.get(&quot;s&quot;)</span><br><span class="line">    if search:</span><br><span class="line">        cache = Cache.objects.filter(name=&quot;configs.&quot; + search)</span><br><span class="line">        if cache.count():</span><br><span class="line">            posts = json.loads(cache.first().content)</span><br><span class="line">        else:</span><br><span class="line">            posts = update_configs_cache(search)</span><br><span class="line">    else:</span><br><span class="line">        cache = Cache.objects.filter(name=&quot;configs&quot;)</span><br><span class="line">        if cache.count():</span><br><span class="line">            posts = json.loads(cache.first().content)</span><br><span class="line">        else:</span><br><span class="line">            posts = update_configs_cache(search)</span><br><span class="line">    context[&quot;posts&quot;] = posts</span><br><span class="line">    context[&quot;post_number&quot;] = len(posts)</span><br><span class="line">    context[&quot;page_number&quot;] = ceil(context[&quot;post_number&quot;] / 15)</span><br><span class="line">    context[&quot;search&quot;] = search</span><br><span class="line"><span class="addition">+elif &quot;post_like&quot; in load_template:</span></span><br><span class="line"><span class="addition">+    posts = []</span></span><br><span class="line"><span class="addition">+    postlike = PostLikeModel.objects.all(</span></span><br><span class="line"><span class="addition">+    for i in postlike:</span></span><br><span class="line"><span class="addition">+        posts.append(&#123;&quot;postName&quot;: i.postName,</span></span><br><span class="line"><span class="addition">+                        &quot;like&quot;: i.like,</span></span><br><span class="line"><span class="addition">+                    &#125;</span></span><br><span class="line"><span class="addition">+    context[&quot;posts&quot;] = posts</span></span><br><span class="line"><span class="addition">+    context[&quot;post_number&quot;] = len(posts)</span></span><br><span class="line"><span class="addition">+    context[&quot;page_number&quot;] = ceil(context[&quot;post_number&quot;] / 15)</span></span><br><span class="line">elif &quot;talks&quot; in load_template:</span><br><span class="line">    search = request.GET.get(&quot;s&quot;)</span><br><span class="line">    posts = []</span><br><span class="line">    if search:</span><br><span class="line">        talks = TalkModel.objects.filter(content__contains=search)</span><br><span class="line">        for i in talks:</span><br><span class="line">            t = json.loads(i.like)</span><br></pre></td></tr></table></figure><h1 id="创建存储点赞数的数据表"><a href="#创建存储点赞数的数据表" class="headerlink" title="创建存储点赞数的数据表"></a>创建存储点赞数的数据表</h1><p>找到 hexoweb\models.py 文件，在文件末尾添加如下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PostLikeModel</span>(models.Model):</span><br><span class="line">    postName=models.CharField(primary_key=<span class="literal">True</span>, max_length=<span class="number">50</span>, verbose_name=<span class="string">&#x27;文章名称&#x27;</span>)</span><br><span class="line">    like=models.IntegerField(default=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h1 id="Qexo四连"><a href="#Qexo四连" class="headerlink" title="Qexo四连"></a>Qexo四连</h1><p>在cmd命令行中输入如下命令运行部署Qexo项目：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">E:\<span class="title">Qexo</span>&gt; <span class="title">pip3</span> <span class="title">install</span> -<span class="title">r</span> <span class="title">requirements.txt</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">makemigrations</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">migrate</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">runserver</span> --<span class="title">noreload</span></span></span><br></pre></td></tr></table></figure><h1 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h1><p>前端点赞按钮：完成后端的功能开发后，小伙伴们就可以去前端添加按钮并调用接口尝试啦。<br>后端创建点赞位：创建点赞位时，填写文章url最后一个斜杠后面的字符串即可，或者你可以自行定义一个字符串，但必须前端也知道这个字符串，并使用这个字符串请求后端的接口即可。</p>]]></content>
    
    
    <summary type="html">在qexo中添加一个给文章点赞的功能，会使用到orm框架操作到数据库。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Qexo" scheme="https://blog.shineyu.cn/tags/Qexo/"/>
    
  </entry>
  
  <entry>
    <title>Qexo入门之多线程发送邮件</title>
    <link href="https://blog.shineyu.cn/qexo-multithreading.html"/>
    <id>https://blog.shineyu.cn/qexo-multithreading.html</id>
    <published>2023-03-03T17:15:48.000Z</published>
    <updated>2023-03-03T17:15:48.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前些天测试订阅邮件发送，每次发送订阅邮件，都报错504，我就想，没理由呀，我也设置了超时时间，为啥会这样呢，结果等我排查到vercel的log的时候我明白了，原来是因为vercel的普通用户只是默认支持一个请求的超时时间为10秒，详细请看这里<a href="https://vercel.com/docs/concepts/limits/overview">vercel说明文档</a>。<br>所以我只能将它改成多线程的模式来操作了，不阻塞主线程请求返回就行，只要保证邮箱的正确，接下来就交给接口了。下面就教小伙伴们如何在qexo中使用python的多线程<strong>threading</strong>模块。</p><h1 id="增加Email设置"><a href="#增加Email设置" class="headerlink" title="增加Email设置"></a>增加Email设置</h1><p>找到 core\settings.py 文件，在文件末尾添加如下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 固定写法设置Email引擎</span></span><br><span class="line">EMAIL_BACKEND =<span class="string">&#x27;django.core.mail.backends.smtp.EmailBackend&#x27;</span> </span><br><span class="line">EMAIL_HOST = <span class="string">&#x27;smtp.qq.com&#x27;</span> <span class="comment"># 腾讯QQ邮箱 SMTP 服务器地址 </span></span><br><span class="line"><span class="comment"># EMAIL_PORT = 25 # SMTP服务的端口号 </span></span><br><span class="line">EMAIL_PORT = <span class="number">465</span> <span class="comment"># SMTP服务的端口号 </span></span><br><span class="line">EMAIL_HOST_USER = <span class="string">&#x27;xxx&#x27;</span> <span class="comment">#你的qq邮箱，邮件发送者的邮箱</span></span><br><span class="line">EMAIL_HOST_PASSWORD = <span class="string">&#x27;xxx&#x27;</span> <span class="comment">#你申请的授权码（略）</span></span><br><span class="line"><span class="comment"># EMAIL_USE_TLS = False #与SMTP服务器通信时,是否启用安全模式</span></span><br><span class="line">EMAIL_USE_SSL = <span class="literal">True</span></span><br></pre></td></tr></table></figure><p>如果小伙伴不知道怎么设置邮箱授权码，可以看下这个<a href="https://jingyan.baidu.com/article/7e4409532c5d3e6ec0e2efb0.html">邮箱授权码设置</a>，这是qq邮箱的授权码设置教程。</p><h1 id="创建私有api"><a href="#创建私有api" class="headerlink" title="创建私有api"></a>创建私有api</h1><p>找到文件 hexoweb\api.py 文件，在文件末尾添加如下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> .functions <span class="keyword">import</span> *   <span class="comment">#在文件开头的地方添加</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 发送订阅邮件</span></span><br><span class="line"><span class="meta">@login_required(<span class="params">login_url=<span class="string">&quot;/login/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_email</span>(<span class="params">request</span>):</span><br><span class="line">    from_email = <span class="string">&quot;你的邮箱&quot;</span></span><br><span class="line">    email_passd = <span class="string">&quot;你的邮箱授权码&quot;</span></span><br><span class="line">    html_content = getSubscribeHtml()</span><br><span class="line">    <span class="keyword">for</span> to_email <span class="keyword">in</span> [<span class="string">&quot;邮箱&quot;</span>,<span class="string">&quot;邮箱&quot;</span>,<span class="string">&quot;邮箱&quot;</span>,<span class="string">&quot;邮箱&quot;</span>,<span class="string">&quot;邮箱&quot;</span>,<span class="string">&quot;邮箱&quot;</span>,<span class="string">&quot;邮箱&quot;</span>,]:</span><br><span class="line">        SendMail(to_email.mail, to_email.name, from_email, email_passd, html_content, <span class="string">&#x27;html&#x27;</span>).start()</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;OK，邮件已经发送完成。&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="string">&quot;true&quot;</span>&#125;)</span><br></pre></td></tr></table></figure><h1 id="创建功能类与方法"><a href="#创建功能类与方法" class="headerlink" title="创建功能类与方法"></a>创建功能类与方法</h1><p>找到 hexoweb\functions.py 文件，在文件中添加如下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> django  <span class="comment">#在文件开头引入模块</span></span><br><span class="line"><span class="keyword">import</span> threading  <span class="comment">#在文件开头引入模块</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 邮件模板</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getSubscribeHtml</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&lt;!DOCTYPE html&gt; &lt;html lang = &quot;en&quot;&gt; &lt;head&gt; &lt;base target=&quot;_blank&quot; /&gt; &lt;style id=&quot;scrollbar&quot; type=&quot;text/css&quot;&gt; ::-webkit-scrollbar &#123; width: 0 !important &#125; pre &#123; white-space: pre-wrap !important; word-wrap: break-word !important; *white-space: normal !important &#125; #letter img &#123; max-width: 300px &#125; &lt;/style&gt; &lt;style id=&quot;from-wrapstyle&quot; type=&quot;text/css&quot;&gt; #form-wrap &#123; overflow: hidden; height: 447px; position: relative; top: 0px; transition: all 1s ease-in-out.3s; z-index: 0 &#125; &lt;/style&gt; &lt;style id=&quot;from-wraphoverstyle&quot; type=&quot;text/css&quot;&gt; #form-wrap:hover &#123; height: 1300px; top: -200px &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div style=&quot;width: 530px;margin: 20px auto 0;height: 1000px;&quot;&gt; &lt;div id=&quot;form-wrap&quot;&gt;&lt;img src=&quot;https://npm.elemecdn.com/hexo-butterfly-envelope/lib/before.png&quot; alt=&quot;before&quot; style=&quot;position: absolute;bottom: 126px;left: 0px;background-repeat: no-repeat;width: 530px;height: 317px;z-index:-100&quot;&gt; &lt;div style=&quot;position: relative;overflow: visible;height: 1500px;width: 500px;margin: 0px auto;transition: all 1s ease-in-out .3s;padding-top:200px;&quot;&gt; &lt;form&gt; &lt;div style=&quot;background: white;width: 95%;max-width: 800px;margin: auto auto;border-radius: 5px;border: 1px solid;overflow: hidden;-webkit-box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.12);box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.18);&quot;&gt; &lt;img style=&quot;width:100%;overflow: hidden;&quot; src=&quot;https://npm.elemecdn.com/hexo-butterfly-envelope/lib/violet.jpg&quot; /&gt; &lt;div style=&quot;padding: 5px 20px;&quot;&gt;&lt;br&gt; &lt;div&gt; &lt;h3 style=&quot;text-decoration: none; color: rgb(246, 214, 175);&quot;&gt;来自Shine的博客的订阅信息:&lt;/h3&gt; &lt;/div&gt;&lt;br&gt;&lt;br&gt; &lt;div id=&quot;letter&quot; style=&quot;overflow:auto;height:300px;width:100%;display:block;word-break: break-all;word-wrap: break-word;&quot;&gt; &lt;div style=&quot;border-bottom: #ddd 1px solid;border-left: #ddd 1px solid;padding-bottom: 20px;background-color: #eee;margin: 15px 0px;padding-left: 20px;padding-right: 20px;border-top: #ddd 1px solid;border-right: #ddd 1px solid;padding-top: 20px;font-family: &quot; Arial&quot;, &quot;Microsoft YaHei&quot; , &quot;黑体&quot; , &quot;宋体&quot; , sans-serif;&quot;&gt;Shine的博客发布了新文章哦~！&lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;text-align: center;margin-top: 40px;&quot;&gt;&lt;img src=&quot;https://npm.elemecdn.com/hexo-butterfly-envelope/lib/line.png&quot; alt=&quot;hr&quot; style=&quot;width:100%; margin:5px auto 5px auto; display: block;&quot; /&gt;&lt;a style=&quot;text-transform: uppercase;text-decoration: none;font-size: 14px;border: 2px solid #6c7575;color: #2f3333;padding: 10px;display: inline-block;margin: 10px auto 0;background-color: rgb(246, 214, 175);&quot; href=&quot;blog.shinyu.cn&quot; target=&quot;_blank&quot; &gt; Shine｜请您过目~&lt;/a&gt;&lt;/div&gt; &lt;p style=&quot;font-size: 12px;text-align: center;color: #999;&quot;&gt;自动书记人偶竭诚为您服务！&lt;br&gt;©2020&lt;a style=&quot;text-decoration:none; color:rgb(246, 214, 175)&quot; href=&quot;blog.shinyu.cn&quot;&gt;Shine - 热爱生活点滴，分享精彩时刻&lt;/a&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt;&lt;img src=&quot;https://npm.elemecdn.com/hexo-butterfly-envelope/lib/after.png&quot; alt=&quot;after&quot; style=&quot;      position: absolute;bottom: -2px;left: 0;background-repeat: no-repeat;width: 530px;height: 259px;z-index:100&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 发送邮件</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_custom_email</span>(<span class="params">rev_mail, rev_name, from_email, email_passd, content, content_subtype</span>):</span><br><span class="line">    subject = <span class="string">&#x27;使用多线程发送邮件&#x27;</span></span><br><span class="line">    msg = django.core.mail.EmailMessage(</span><br><span class="line">        subject, </span><br><span class="line">        content, </span><br><span class="line">        from_email, </span><br><span class="line">        [rev_mail],</span><br><span class="line">        connection=get_connection(</span><br><span class="line">            username=from_email,</span><br><span class="line">            password=email_passd,</span><br><span class="line">            fail_silently=<span class="literal">False</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    msg.content_subtype = content_subtype</span><br><span class="line">    msg.send()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SendMail</span>(threading.Thread):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,rev_mail, rev_name, from_email, email_passd, content, content_subtype</span>):</span><br><span class="line">        self.rev_mail = rev_mail</span><br><span class="line">        self.rev_name = rev_name</span><br><span class="line">        self.from_email = from_email</span><br><span class="line">        self.email_passd = email_passd</span><br><span class="line">        self.content = content</span><br><span class="line">        self.content_subtype = content_subtype</span><br><span class="line">        threading.Thread.__init__(self)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        send_custom_email(</span><br><span class="line">            self.rev_mail,</span><br><span class="line">            self.rev_name,</span><br><span class="line">            self.from_email,</span><br><span class="line">            self.email_passd,</span><br><span class="line">            self.content,</span><br><span class="line">            self.content_subtype</span><br><span class="line">        )</span><br></pre></td></tr></table></figure><h1 id="定义私有api的路由"><a href="#定义私有api的路由" class="headerlink" title="定义私有api的路由"></a>定义私有api的路由</h1><p>找到 core\urls.py 文件，添加如下代码：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    path(&#x27;api/del_talk/&#x27;, del_talk, name=&#x27;del_talk&#x27;),</span><br><span class="line">    path(&#x27;api/run_online_script/&#x27;, run_online_script, name=&#x27;run_online_script&#x27;),</span><br><span class="line"><span class="addition">+    path(&#x27;api/send_email/&#x27;, send_email, name=&quot;send_email&quot;),</span></span><br></pre></td></tr></table></figure><h1 id="Qexo四连"><a href="#Qexo四连" class="headerlink" title="Qexo四连"></a>Qexo四连</h1><p>在cmd命令行中输入如下命令运行部署Qexo项目：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">E:\<span class="title">Qexo</span>&gt; <span class="title">pip3</span> <span class="title">install</span> -<span class="title">r</span> <span class="title">requirements.txt</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">makemigrations</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">migrate</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">runserver</span> --<span class="title">noreload</span></span></span><br></pre></td></tr></table></figure><p>访问接口 <strong><a href="http://127.0.0.1:8000/api/send_email">http://127.0.0.1:8000/api/send_email</a></strong> ，查看是否收到邮件。</p>]]></content>
    
    
    <summary type="html">qexo关于多线程的使用，并用它来解决发送邮件的请求超时问题。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Qexo" scheme="https://blog.shineyu.cn/tags/Qexo/"/>
    
  </entry>
  
  <entry>
    <title>Qexo入门之自定义数据库</title>
    <link href="https://blog.shineyu.cn/qexo-create-db.html"/>
    <id>https://blog.shineyu.cn/qexo-create-db.html</id>
    <published>2023-02-27T16:28:00.000Z</published>
    <updated>2023-02-27T17:07:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>魔改后端肯定缺少不了数据库的的操作，在qexo中有个数据库操作框架，叫做ORM框架，是做来抹平python与数据库操作之间的繁琐操作，提供统一的操作接口。<br>这篇文章就说一下怎么自定义一个计数用的数据库，后续读者们可以任意去做自己想要的扩展。因为涉及到数据库操作，所以操作数据库的api我们需要做成私有的api。然后我们再做一个模板用来展示数据库中的计数值，这需要制作一个页面来展示计数值。</p><h1 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h1><p>效果如下：<br><img src="/img/qexo-db.webp" alt="数据库记录操作页面"></p><h1 id="创建自定义数据库"><a href="#创建自定义数据库" class="headerlink" title="创建自定义数据库"></a>创建自定义数据库</h1><p>找到 hexoweb\models.py 文件，在文件末尾添加自定义数据库如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CountModel</span>(models.Model):</span><br><span class="line">    <span class="built_in">id</span> = models.IntegerField(primary_key=<span class="literal">True</span>, editable=<span class="literal">False</span>)</span><br><span class="line">    cnt=models.IntegerField(default=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h1 id="创建自定义私有api"><a href="#创建自定义私有api" class="headerlink" title="创建自定义私有api"></a>创建自定义私有api</h1><p>找到 hexoweb\api.py 文件，在文件的末尾添加私有api方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> hexoweb.models <span class="keyword">import</span> CountModel  <span class="comment">#这一句添加到文件开头的地方</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置计数</span></span><br><span class="line"><span class="meta">@login_required(<span class="params">login_url=<span class="string">&quot;/login/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">set_count</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method != <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        count, b = CountModel.objects.get_or_create(<span class="built_in">id</span>=<span class="number">1</span>, defaults=&#123;<span class="string">&#x27;cnt&#x27;</span>:<span class="number">0</span>&#125;)</span><br><span class="line">        count.cnt = count.cnt + <span class="number">1</span></span><br><span class="line">        count.save()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> error:</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;出错啦！&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">False</span>&#125;)</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;设置计数增加1成功！&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">True</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取计数</span></span><br><span class="line"><span class="meta">@login_required(<span class="params">login_url=<span class="string">&quot;/login/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_count</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method != <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        count, b = CountModel.objects.get_or_create(<span class="built_in">id</span>=<span class="number">1</span>, defaults=&#123;<span class="string">&#x27;cnt&#x27;</span>:<span class="number">0</span>&#125;)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> error:</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;出错啦！&quot;</span>, <span class="string">&quot;status&quot;</span>:<span class="literal">False</span>&#125;)</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(safe=<span class="literal">False</span>, data=&#123;<span class="string">&quot;msg&quot;</span>:count.cnt, <span class="string">&quot;status&quot;</span>:<span class="literal">True</span>&#125;)</span><br></pre></td></tr></table></figure><h1 id="创建模板页面"><a href="#创建模板页面" class="headerlink" title="创建模板页面"></a>创建模板页面</h1><p>新建 templates\home\count.html 文件，代码如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#x27;layouts/base.html&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block stylesheets %&#125;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .container-fluid.mt--6 &#123;</span><br><span class="line">        margin-top: 50px !important;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&#123;% endblock stylesheets %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    &lt;!-- Page content --&gt;</span><br><span class="line">    &lt;div class=&quot;container-fluid mt--6&quot;&gt;</span><br><span class="line">        &lt;p id=&quot;id-count-sum&quot;&gt;0&lt;/p&gt;</span><br><span class="line">        &lt;button onclick=&quot;set_count()&quot;&gt;设置计数增加1&lt;/button&gt;</span><br><span class="line">        &lt;button onclick=&quot;get_count()&quot;&gt;获取计数总数显示&lt;/button&gt;</span><br><span class="line">        &#123;% include &quot;includes/footer.html&quot; %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endblock content %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- Specific JS goes HERE --&gt;</span><br><span class="line">&#123;% block javascripts %&#125;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function set_count() &#123;</span><br><span class="line">            let loading = new KZ_Loading(&#x27;正在删除中...&#x27;);</span><br><span class="line">            loading.show();</span><br><span class="line">            $.ajax(&#123;</span><br><span class="line">                url: &#x27;/api/set_count/&#x27;,</span><br><span class="line">                method: &#x27;GET&#x27;,</span><br><span class="line">                dataType: &#x27;JSON&#x27;,</span><br><span class="line">                success: function (res) &#123;</span><br><span class="line">                    loading.destroy();</span><br><span class="line">                    if (res.status) &#123;</span><br><span class="line">                        notyf.success(&#x27;设置成功！&#x27;);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        notyf.error(res.msg);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                error: function (res) &#123;</span><br><span class="line">                    loading.destroy();</span><br><span class="line">                    notyf.error(&quot;网络错误！&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        function get_count() &#123;</span><br><span class="line">            let loading = new KZ_Loading(&#x27;正在删除中...&#x27;);</span><br><span class="line">            loading.show();</span><br><span class="line">            $.ajax(&#123;</span><br><span class="line">                url: &#x27;/api/get_count/&#x27;,</span><br><span class="line">                method: &#x27;GET&#x27;,</span><br><span class="line">                dataType: &#x27;JSON&#x27;,</span><br><span class="line">                success: function (res) &#123;</span><br><span class="line">                    loading.destroy();</span><br><span class="line">                    if (res.status) &#123;</span><br><span class="line">                        notyf.success(&#x27;获取成功！&#x27;);</span><br><span class="line">                        $(&quot;#id-count-sum&quot;).html(res.msg);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        notyf.error(res.msg);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                error: function (res) &#123;</span><br><span class="line">                    loading.destroy();</span><br><span class="line">                    notyf.error(&quot;网络错误！&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&#123;% endblock javascripts %&#125;</span><br></pre></td></tr></table></figure><h1 id="实现页面处理方法"><a href="#实现页面处理方法" class="headerlink" title="实现页面处理方法"></a>实现页面处理方法</h1><p>找到 hexoweb\views.py 文件，在文件末尾添加如下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@login_required(<span class="params">login_url=<span class="string">&quot;/login/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">count</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> request.user.is_staff:</span><br><span class="line">        logging.info(<span class="string">f&quot;子用户<span class="subst">&#123;request.user.username&#125;</span>尝试访问<span class="subst">&#123;request.path&#125;</span>被拒绝&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> page_403(request, <span class="string">&quot;您没有权限访问此页面&quot;</span>)</span><br><span class="line">    context = <span class="built_in">dict</span>()</span><br><span class="line">    context.update(get_custom_config())</span><br><span class="line">    save_setting(<span class="string">&quot;LAST_LOGIN&quot;</span>, <span class="built_in">str</span>(<span class="built_in">int</span>(time())))</span><br><span class="line">    html_template = loader.get_template(<span class="string">&#x27;home/count.html&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(html_template.render(context, request))</span><br></pre></td></tr></table></figure><h1 id="设置私有api路由和新页面的路由"><a href="#设置私有api路由和新页面的路由" class="headerlink" title="设置私有api路由和新页面的路由"></a>设置私有api路由和新页面的路由</h1><p>找到 core\urls.py 文件，添加如下路由设置：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    path(&#x27;&#x27;, index, name=&#x27;home&#x27;),</span><br><span class="line"><span class="addition">+    path(&#x27;count/&#x27;, count, name=&#x27;count&#x27;),</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+    path(&#x27;api/set_count/&#x27;, set_count, name=&quot;set_count&quot;),</span></span><br><span class="line"><span class="addition">+    path(&#x27;api/get_count/&#x27;, get_count, name=&quot;get_count&quot;),</span></span><br><span class="line">    path(&#x27;api/auth/&#x27;, auth, name=&#x27;auth&#x27;),</span><br><span class="line">    path(&#x27;api/save/&#x27;, save, name=&#x27;save&#x27;),</span><br></pre></td></tr></table></figure><h1 id="Qexo四连"><a href="#Qexo四连" class="headerlink" title="Qexo四连"></a>Qexo四连</h1><p>在cmd命令行中输入如下命令运行部署Qexo项目：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">E:\<span class="title">Qexo</span>&gt; <span class="title">pip3</span> <span class="title">install</span> -<span class="title">r</span> <span class="title">requirements.txt</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">makemigrations</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">migrate</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">runserver</span> --<span class="title">noreload</span></span></span><br></pre></td></tr></table></figure><p>访问 <strong><a href="http://127.0.0.1:8000/count/">http://127.0.0.1:8000/count/</a></strong> 查看页面效果。</p>]]></content>
    
    
    <summary type="html">qexo创建并操作一个自定义的数据库，在后台页面中进行对数据库的增查，内容可自行扩展。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Qexo" scheme="https://blog.shineyu.cn/tags/Qexo/"/>
    
  </entry>
  
  <entry>
    <title>即刻短文支持多个链接与视频</title>
    <link href="https://blog.shineyu.cn/essay-support-links-and-video.html"/>
    <id>https://blog.shineyu.cn/essay-support-links-and-video.html</id>
    <published>2023-02-27T13:44:42.000Z</published>
    <updated>2023-02-27T13:44:42.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前段时间，使用即刻短文发短文，想附加几个链接，发现即刻短文不支持，所以自己参考一下源码修改了一下，让即刻短文支持了附加多个链接。过了几天，正好看到有小伙伴研究出了怎么给即刻短文附加视频，还发了文章教程，所以顺便也给博客的即刻短文添加了支持视频的附加。</p><h1 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h1><p>效果如下：</p><img class="inline-img" src="/img/lianjie_essay.webp" style="height:70px"/><img class="inline-img" src="/img/vedio_essay.webp" style="height:170px"/><h1 id="修改pug文件"><a href="#修改pug文件" class="headerlink" title="修改pug文件"></a>修改pug文件</h1><p>找到 themes\butterfly\layout\includes\page\essay.pug 文件，做如下的修改来支持配置文件配置视频和多个链接：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">    if item.image</span><br><span class="line">      .bber-container-img</span><br><span class="line">        each iten, indey in item.image</span><br><span class="line">          a.bber-content-img(href=item.image[indey], target=&quot;_blank&quot;, data-fancybox=&quot;gallery&quot;, data-caption=&quot;&quot;)</span><br><span class="line">            img(src=item.image[indey])</span><br><span class="line">        .bber-content-noimg</span><br><span class="line">        .bber-content-noimg</span><br><span class="line">        .bber-content-noimg</span><br><span class="line"><span class="addition">+    if item.video</span></span><br><span class="line"><span class="addition">+     .bber-container-video</span></span><br><span class="line"><span class="addition">+      each iten, indey in item.video</span></span><br><span class="line"><span class="addition">+       a.bber-content-video(href=item.video[indey], target=&quot;_blank&quot;, data-type=&quot;video&quot;,data-preload=&quot;none&quot;,data-autoplay=&quot;false&quot;)</span></span><br><span class="line"><span class="addition">+            video(src=item.video[indey])</span></span><br><span class="line">    if item.aplayer</span><br><span class="line">      .bber-music</span><br><span class="line">        //- .aplayer.no-destroy(data-id=item.aplayer.id data-server=item.aplayer.server data-type=&quot;song&quot;  data-order=&quot;list&quot; data-preload=&quot;none&quot; data-autoplay=&quot;false&quot; data-mutex=&quot;true&quot; data-theme=&#x27;var(--anzhiyu-main)&#x27;)</span><br><span class="line">        meting-js(id=item.aplayer.id server=item.aplayer.server type=&quot;song&quot; mutex=&quot;true&quot; preload=&quot;auto&quot; theme=&quot;var(--anzhiyu-main)&quot; order=&quot;list&quot;)</span><br><span class="line">hr</span><br><span class="line">.bber-bottom</span><br><span class="line">  .bber-info</span><br><span class="line">    .bber-info-time</span><br><span class="line">      - var datedata = new Date(item.date).toISOString()</span><br><span class="line">      i.far.fa-clock</span><br><span class="line">      time.datatime(datetime= item.date)= datedata</span><br><span class="line">    if item.from</span><br><span class="line">      .bber-info-from</span><br><span class="line">        i.far.fa-popsicle</span><br><span class="line">        span=item.from</span><br><span class="line"><span class="addition">+    if item.link</span></span><br><span class="line"><span class="addition">+      each val, key in item.link</span></span><br><span class="line"><span class="addition">+        a.bber-content-link(target=&quot;_blank&quot;, title=&quot;跳转到短文指引的链接&quot;, href=val, rel=&quot;external nofollow&quot;)</span></span><br><span class="line"><span class="addition">+          i.fas.fa-link</span></span><br><span class="line"><span class="addition">+          | 链接</span></span><br><span class="line">  .bber-reply(onclick=&quot;anzhiyu.commentText(&quot; + `&#x27;$&#123;item.content&#125;&#x27;` + &quot;)&quot;)</span><br></pre></td></tr></table></figure><h1 id="修改或新建css文件"><a href="#修改或新建css文件" class="headerlink" title="修改或新建css文件"></a>修改或新建css文件</h1><p>找到 themes\butterfly\source\css_custom\essay\essay.css 文件，如果没有则创建一个，添加内容如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-container-img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.3rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-container-img</span> <span class="selector-class">.bber-content-noimg</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> / <span class="number">4</span> - <span class="number">5px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-content-img</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">object-fit</span>: cover;</span><br><span class="line">  <span class="attribute">max-height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-content-img</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-content</span> <span class="selector-class">.datacont</span> &#123;</span><br><span class="line">  <span class="attribute">order</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.8rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--anzhiyu-fontcolor);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.38</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">text-align</span>: justify;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-tag">div</span><span class="selector-class">.bber-content</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-flow</span>: wrap;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.timeline</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-class">.bber-item</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">32%</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border-always);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span> <span class="number">1rem</span> <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease <span class="number">0s</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-flow</span>: column nowrap;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--anzhiyu-card-bg);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--anzhiyu-shadow-border);</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">2%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.timeline</span> <span class="selector-id">#waterfall</span><span class="selector-class">.show</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.timeline</span> <span class="selector-id">#waterfall</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-tag">ul</span><span class="selector-class">.list</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-flow</span>: row wrap;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> &gt; <span class="selector-tag">section</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span><span class="selector-class">.bber-item</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber-tips</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.timeline</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-class">.bber-item</span> hr &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="built_in">var</span>(--anzhiyu-theme-op);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-info</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">align-content</span>: flex-start;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> &gt; <span class="selector-tag">section</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-tag">div</span> <span class="selector-class">.bber-info-time</span>,</span><br><span class="line"><span class="selector-id">#bber</span> &gt; <span class="selector-tag">section</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-tag">div</span> <span class="selector-class">.bber-info-from</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--anzhiyu-fontcolor);</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.7rem</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--anzhiyu-gray-op);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: default;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-info</span> <span class="selector-class">.far</span><span class="selector-class">.fa-clock</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> &gt; <span class="selector-tag">section</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-tag">div</span> <span class="selector-class">.bber-info-from</span> <span class="selector-tag">span</span>,</span><br><span class="line"><span class="selector-id">#bber</span> &gt; <span class="selector-tag">section</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-tag">div</span> <span class="selector-class">.bber-info-from</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-bottom</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-bottom</span> <span class="selector-class">.bber-reply</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">/img/x2.cur</span>), auto <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.timeline</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-class">.bber-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border-hover);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-content-link</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.7rem</span>;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">245</span>, <span class="number">108</span>, <span class="number">108</span>, <span class="number">0.13</span>);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">245</span>, <span class="number">108</span>, <span class="number">108</span>);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-content-link</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-content-link</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--anzhiyu-main);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--anzhiyu-white);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-music</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">90px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0.5rem</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border-always);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--anzhiyu-secondbg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-withlrc</span> <span class="selector-class">.aplayer-pic</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">82px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">82px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bber-music</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-withlrc</span> <span class="selector-class">.aplayer-info</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">7px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-music</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">23px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-music</span> <span class="selector-class">.aplayer-title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.8rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--anzhiyu-fontcolor);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> &#123;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-bar-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-time</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: initial;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-bar-wrap</span> <span class="selector-class">.aplayer-bar</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--anzhiyu-gray);</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-bar-wrap</span> <span class="selector-class">.aplayer-bar</span> <span class="selector-class">.aplayer-loaded</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-bar-wrap</span> <span class="selector-class">.aplayer-bar</span> <span class="selector-class">.aplayer-played</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-bar-wrap</span> <span class="selector-class">.aplayer-bar</span> <span class="selector-class">.aplayer-played</span> <span class="selector-class">.aplayer-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-time</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 顶部样式 */</span></span><br><span class="line"><span class="selector-class">.author-content</span><span class="selector-class">.author-content-item</span><span class="selector-class">.essayPage</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">19rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">/img/xision_duolong.webp</span>) left <span class="number">28%</span> / cover no-repeat;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--anzhiyu-white);</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 响应式 */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1300px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#bber</span> <span class="selector-class">.timeline</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-class">.bber-item</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">49%</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">1%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#bber</span> <span class="selector-class">.timeline</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-class">.bber-item</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">0px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#bber</span> <span class="selector-class">.bber-music</span> <span class="selector-class">.aplayer</span>,</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-lrc</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-lrc</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--anzhiyu-card-bg);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--anzhiyu-fontcolor);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-lrc</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--anzhiyu-fontcolor);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/***************************** 即刻短文视频css *****************************/</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.bber-content-video</span> <span class="selector-tag">video</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">7rem</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.28s</span> ease;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all <span class="number">0.28s</span> ease;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all <span class="number">0.28s</span> ease;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all <span class="number">0.28s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.bber-content-video</span> <span class="selector-tag">video</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">4px</span> <span class="number">8px</span> <span class="number">0px</span> <span class="built_in">rgb</span>(<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> / <span class="number">24%</span>), <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="number">0px</span> <span class="built_in">rgb</span>(<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> / <span class="number">24%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#bber</span> <span class="selector-class">.bber-container-video</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.3rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/***************************** 即刻短文视频css *****************************/</span></span><br></pre></td></tr></table></figure><h1 id="引入css文件"><a href="#引入css文件" class="headerlink" title="引入css文件"></a>引入css文件</h1><p>如果没有创建新的essay.css文件就跳过这一步，创建了css文件的小伙伴需要看这里，这里将教你怎么引入新建的css文件。<br>修改 <mark class="hl-label orange">_config.butterfly.yml</mark> 主题配置文件，修改内容如下：  </p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Inject</span><br><span class="line"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # 自定义css</span><br><span class="line"><span class="addition">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/essay.css&quot;&gt;  #添加的自定义css文件</span></span><br><span class="line">  bottom:</span><br><span class="line">    # 自定义js</span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">洪哥和鱼佬的即刻短文没有支持多个链接和视频，我参考一些博文修改了一下，支持上了。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Qexo入门之自定义私有api</title>
    <link href="https://blog.shineyu.cn/qexo-create-private-api.html"/>
    <id>https://blog.shineyu.cn/qexo-create-private-api.html</id>
    <published>2023-02-25T15:59:06.000Z</published>
    <updated>2023-02-25T15:59:06.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>昨天去上海出差了，公干完后跟着公司去了迪斯尼玩了一圈，不得不说，迪斯尼的那个巡演很棒，全都是迪斯尼IP的人物，看的激动坏了！<br>因为心系博客的文章更新，所以当天晚上就买了机票飞回来了，今天咱就说说怎么自定义一个私有的api，意思就是自己用的，通过登录验证的用户才能使用的api。<br>qexo在部署运行后会自动生成一个api key，这个api key是在鉴权时使用的，现在还用不到，但是后面会用到，所以现在先自定义个一个私有的api来获取这个key的值，看看这个值的内容是啥，方便后面使用这个key。</p><h1 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h1><p>效果如下图：<br><img src="/img/apikey-value.webp" alt="获取api密钥"></p><h1 id="定义并实现私有api"><a href="#定义并实现私有api" class="headerlink" title="定义并实现私有api"></a>定义并实现私有api</h1><p>找到 hexoweb\api.py 文件，在文件末尾添加内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# 获取api key</span></span><br><span class="line"><span class="addition">+@login_required(login_url=&quot;/login/&quot;)</span></span><br><span class="line"><span class="addition">+def get_apikey(request):</span></span><br><span class="line"><span class="addition">+    msg = SettingModel.objects.get(name=&quot;WEBHOOK_APIKEY&quot;).content</span></span><br><span class="line"><span class="addition">+    context = &#123;&quot;msg&quot;: msg, &quot;status&quot;: True&#125;</span></span><br><span class="line"><span class="addition">+    return JsonResponse(safe=False, data=context)</span></span><br></pre></td></tr></table></figure><h1 id="配置私有api路由"><a href="#配置私有api路由" class="headerlink" title="配置私有api路由"></a>配置私有api路由</h1><p>找到 core\urls.py 文件，添加如下内容：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    path(&#x27;api/run_online_script/&#x27;, run_online_script, name=&#x27;run_online_script&#x27;),</span><br><span class="line"><span class="addition">+    path(&#x27;api/get_apikey/&#x27;, get_apikey, name=&quot;get_apikey&quot;),</span></span><br><span class="line"></span><br><span class="line">    path(&#x27;pub/save/&#x27;, pub.save, name=&#x27;pub_save&#x27;),</span><br></pre></td></tr></table></figure><h1 id="Qexo四连"><a href="#Qexo四连" class="headerlink" title="Qexo四连"></a>Qexo四连</h1><p>在cmd命令行中输入如下命令运行部署Qexo项目：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">E:\<span class="title">Qexo</span>&gt; <span class="title">pip3</span> <span class="title">install</span> -<span class="title">r</span> <span class="title">requirements.txt</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">makemigrations</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">migrate</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">runserver</span> --<span class="title">noreload</span></span></span><br></pre></td></tr></table></figure><p>访问 <strong><a href="http://127.0.0.1:8000/api/get_apikey/">http://127.0.0.1:8000/api/get_apikey/</a></strong> 查看页面效果。</p>]]></content>
    
    
    <summary type="html">qexo创建一个私有api，用来给登录认证后的用户使用，自定义查看api密钥的私有api。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Qexo" scheme="https://blog.shineyu.cn/tags/Qexo/"/>
    
  </entry>
  
  <entry>
    <title>Qexo入门之自定义对公api</title>
    <link href="https://blog.shineyu.cn/qexo-create-public-api.html"/>
    <id>https://blog.shineyu.cn/qexo-create-public-api.html</id>
    <published>2023-02-22T16:31:00.000Z</published>
    <updated>2023-02-22T16:31:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>对公api，顾名思义，就是提供出来给所有人都能使用的api，那咱们今天就自定义一个<strong>给别人获取网页</strong>的一个api好了（因为自定义涉及数据库的api会牵扯到锁的概念，本篇从简）。  </p><h1 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h1><p>效果如下：<br><img src="/img/qexo-create-public-api.webp" alt="获取网页效果"></p><h1 id="定义并实现对公api"><a href="#定义并实现对公api" class="headerlink" title="定义并实现对公api"></a>定义并实现对公api</h1><p>找到 hexoweb\pub.py 文件，在文件最末尾的地方添加如下代码：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# 获取网页</span></span><br><span class="line"><span class="addition">+@csrf_exempt</span></span><br><span class="line"><span class="addition">+def gethtml(request):</span></span><br><span class="line"><span class="addition">+    t=loader.get_template(&#x27;home/showhtml.html&#x27;) </span></span><br><span class="line"><span class="addition">+    html=t.render(&#123;&#x27;name&#x27;:&quot;Shine&quot;&#125;, request)  #以字典形式传递数据并生成html</span></span><br><span class="line"><span class="addition">+    return HttpResponse(html)</span></span><br></pre></td></tr></table></figure><p>找到 hexoweb\pub.py 文件，在开头处找到如下代码并修改：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-from django.http import JsonResponse</span></span><br><span class="line"><span class="addition">+from django.http import HttpResponse, JsonResponse</span></span><br></pre></td></tr></table></figure><h1 id="配置对公api路由"><a href="#配置对公api路由" class="headerlink" title="配置对公api路由"></a>配置对公api路由</h1><p>找到 core\urls.py 文件，添加如下内容：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    path(&#x27;pub/like_talk/&#x27;, pub.like_talk, name=&#x27;pub_like_talk&#x27;),</span><br><span class="line">    path(&#x27;pub/save_talk/&#x27;, pub.save_talk, name=&#x27;pub_save_talk&#x27;),</span><br><span class="line">    path(&#x27;pub/del_talk/&#x27;, pub.del_talk, name=&#x27;pub_del_talk&#x27;),</span><br><span class="line"><span class="addition">+    path(&#x27;pub/gethtml/&#x27;, pub.gethtml, name=&#x27;pub_gethtml&#x27;),</span></span><br><span class="line"></span><br><span class="line">    re_path(r&#x27;^(?!api)^(?!pub).*$\.*&#x27;, pages, name=&#x27;pages&#x27;),</span><br></pre></td></tr></table></figure><h1 id="创建模板html"><a href="#创建模板html" class="headerlink" title="创建模板html"></a>创建模板html</h1><p>新建模板 templates\home\showhtml.html 文件， 内容如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#hello</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: aqua;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#am</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: brown;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">&quot;aa&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;hello&quot;</span>&gt;</span> Hello World! <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;am&quot;</span>&gt;</span> I am &#123;&#123; name &#125;&#125; <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Qexo四连"><a href="#Qexo四连" class="headerlink" title="Qexo四连"></a>Qexo四连</h1><p>在cmd命令行中输入如下命令运行部署Qexo项目：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">E:\<span class="title">Qexo</span>&gt; <span class="title">pip3</span> <span class="title">install</span> -<span class="title">r</span> <span class="title">requirements.txt</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">makemigrations</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">migrate</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">runserver</span> --<span class="title">noreload</span></span></span><br></pre></td></tr></table></figure><p>访问 <strong><a href="http://127.0.0.1:8000/pub/gethtml/">http://127.0.0.1:8000/pub/gethtml/</a></strong> 查看页面效果。</p>]]></content>
    
    
    <summary type="html">qexo创建第一个对公api，用来给别人获取你api里提供的网页，有手就会。。卧槽我手呢？</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Qexo" scheme="https://blog.shineyu.cn/tags/Qexo/"/>
    
  </entry>
  
  <entry>
    <title>Qexo入门之如何新建侧边栏入口及页面</title>
    <link href="https://blog.shineyu.cn/qexo-new-page.html"/>
    <id>https://blog.shineyu.cn/qexo-new-page.html</id>
    <published>2023-02-19T18:19:20.000Z</published>
    <updated>2023-02-19T18:19:20.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>虽然现在有点晚了，但是想了一下，qexo的新建页面还是挺简单的，所以从床上爬起来把这篇文章给写（水🤪）了。</p><h1 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h1><p>效果如下：<br><img src="/img/create_page2.webp" alt="侧边栏按钮"><br><img src="/img/create_page1.webp" alt="页面内容"></p><h1 id="创建html模板"><a href="#创建html模板" class="headerlink" title="创建html模板"></a>创建html模板</h1><p>新建 templates\home\test.html 文件，添加内容如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#x27;layouts/base.html&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>hello world!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; hi &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;% include &quot;includes/footer.html&quot; %&#125;</span><br><span class="line">&#123;% endblock content %&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Specific JS goes HERE --&gt;</span></span><br><span class="line">&#123;% block javascripts %&#125;</span><br><span class="line">&#123;% endblock javascripts %&#125;</span><br></pre></td></tr></table></figure><h1 id="添加侧边栏的页面入口按钮"><a href="#添加侧边栏的页面入口按钮" class="headerlink" title="添加侧边栏的页面入口按钮"></a>添加侧边栏的页面入口按钮</h1><p>找到 templates\includes\sidenav.html 文件，修改内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">    &lt;li class=&quot;nav-item&quot;&gt;</span><br><span class="line">    &lt;a class=&quot;nav-link &#123;% if &#x27;talks&#x27; in segment %&#125; active &#123;% endif %&#125;&quot; href=&quot;/talks.html&quot;&gt;</span><br><span class="line">        &lt;i class=&quot;ni ni-chat-round text-purple&quot;&gt;&lt;/i&gt;</span><br><span class="line">        &lt;span class=&quot;nav-link-text&quot;&gt;说说&lt;/span&gt;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"><span class="addition">+    &lt;li class=&quot;nav-item&quot;&gt;</span></span><br><span class="line"><span class="addition">+    &lt;a class=&quot;nav-link &#123;% if &#x27;test&#x27; in segment %&#125; active &#123;% endif %&#125;&quot; href=&quot;/test.html&quot;&gt;</span></span><br><span class="line"><span class="addition">+        &lt;i class=&quot;ni ni-chat-round text-purple&quot;&gt;&lt;/i&gt;</span></span><br><span class="line"><span class="addition">+        &lt;span class=&quot;nav-link-text&quot;&gt;test&lt;/span&gt;</span></span><br><span class="line"><span class="addition">+    &lt;/a&gt;</span></span><br><span class="line"><span class="addition">+    &lt;/li&gt;</span></span><br><span class="line">&#123;% if request.user.is_staff %&#125;</span><br><span class="line">    &lt;li class=&quot;nav-item&quot;&gt;</span><br><span class="line">    &lt;a class=&quot;nav-link &#123;% if &#x27;custom&#x27; in segment %&#125; active &#123;% endif %&#125;&quot; href=&quot;/custom.html&quot;&gt;</span><br><span class="line">        &lt;i class=&quot;ni ni-archive-2 text-primary&quot;&gt;&lt;/i&gt;</span><br><span class="line">        &lt;span class=&quot;nav-link-text&quot;&gt;自定&lt;/span&gt;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><h1 id="添加模板渲染处理"><a href="#添加模板渲染处理" class="headerlink" title="添加模板渲染处理"></a>添加模板渲染处理</h1><p>找到 hexoweb\views.py 文件，添加内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">elif &quot;userscripts&quot; in load_template:</span><br><span class="line">    if not request.user.is_staff:</span><br><span class="line">        logging.info(f&quot;子用户&#123;request.user.username&#125;尝试访问&#123;request.path&#125;被拒绝&quot;)</span><br><span class="line">        return page_403(request, &quot;您没有权限访问此页面&quot;)</span><br><span class="line">    try:</span><br><span class="line">        search = request.GET.get(&quot;s&quot;)</span><br><span class="line">        scripts = requests.get(&quot;https://raw.githubusercontent.com/Qexo/Scripts/main/index.json&quot;).json()</span><br><span class="line">        context[&quot;posts&quot;] = list()</span><br><span class="line">        for script in scripts:</span><br><span class="line">            if (not search) or (search.upper() in script[&quot;name&quot;].upper()) or (search.upper() in script[&quot;author&quot;].upper()):</span><br><span class="line">                context[&quot;posts&quot;].append(script)</span><br><span class="line">        if search:</span><br><span class="line">            context[&quot;search&quot;] = search</span><br><span class="line">        context[&quot;post_number&quot;] = len(context[&quot;posts&quot;])</span><br><span class="line">        context[&quot;page_number&quot;] = ceil(context[&quot;post_number&quot;] / 15)</span><br><span class="line">        context[&quot;all_posts&quot;] = json.dumps(context[&quot;posts&quot;])</span><br><span class="line">    except Exception as e:</span><br><span class="line">        logging.error(&quot;获取错误: &quot; + repr(e))</span><br><span class="line">        context[&quot;error&quot;] = repr(e)</span><br><span class="line"><span class="addition">+elif &quot;test&quot; in load_template:</span></span><br><span class="line"><span class="addition">+    context[&quot;hi&quot;] = &quot;hi&quot;</span></span><br><span class="line"></span><br><span class="line">save_setting(&quot;LAST_LOGIN&quot;, str(int(time())))</span><br><span class="line">html_template = loader.get_template(&#x27;home/&#x27; + load_template)</span><br><span class="line">return HttpResponse(html_template.render(context, request))</span><br></pre></td></tr></table></figure><h1 id="Qexo四连"><a href="#Qexo四连" class="headerlink" title="Qexo四连"></a>Qexo四连</h1><p>在cmd命令行中输入如下命令运行部署Qexo项目：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">E:\<span class="title">Qexo</span>&gt; <span class="title">pip3</span> <span class="title">install</span> -<span class="title">r</span> <span class="title">requirements.txt</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">makemigrations</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">migrate</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">runserver</span> --<span class="title">noreload</span></span></span><br></pre></td></tr></table></figure><p>访问 <strong><a href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a></strong> 查看页面效果。</p>]]></content>
    
    
    <summary type="html">qexo创建一个新页面的逻辑很好捋清楚，属于一看就废。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Qexo" scheme="https://blog.shineyu.cn/tags/Qexo/"/>
    
  </entry>
  
  <entry>
    <title>Qexo入门之本地部署教程</title>
    <link href="https://blog.shineyu.cn/howto-deploy-qexo-for-localhost.html"/>
    <id>https://blog.shineyu.cn/howto-deploy-qexo-for-localhost.html</id>
    <published>2023-02-19T15:46:00.000Z</published>
    <updated>2023-02-19T15:46:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>相信很多小伙伴都想自己魔改一下qexo，我最近跑通了qexo的本地部署调试，所以发一篇文说一下过程。<br>最近也是捣鼓qexo比较多，所以hexo方面的魔改有所耽误，观众老爷们多多见谅。而且这些天不单止想着qexo，脑子里也在组织着开源期刊的内容，嘻嘻！  </p><h1 id="准备Qexo项目"><a href="#准备Qexo项目" class="headerlink" title="准备Qexo项目"></a>准备Qexo项目</h1><p>首先得将qexo项目拉下来，打开cmd命令行，cd到你的工作目录，输入下面命令拉取项目：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Qexo/Qexo.git &amp;&amp; <span class="built_in">cd</span> Qexo</span><br></pre></td></tr></table></figure><h1 id="配置Qexo项目为本地部署模式"><a href="#配置Qexo项目为本地部署模式" class="headerlink" title="配置Qexo项目为本地部署模式"></a>配置Qexo项目为本地部署模式</h1><p>在 manage.py 的同级目录下创建并修改 configs.py 文件，创建后，当前目录如下：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">E:\<span class="title">Qexo</span>&gt;<span class="title">tree</span></span></span><br><span class="line"><span class="function">    卷 新加卷 的文件夹 <span class="title">PATH</span> 列表</span></span><br><span class="line"><span class="function">    卷序列号为 <span class="title">F271</span>-<span class="title">B191</span></span></span><br><span class="line"><span class="function">    <span class="title">E</span>:.</span></span><br><span class="line"><span class="function">    ├─.<span class="title">github</span></span></span><br><span class="line"><span class="function">    │  └─<span class="title">ISSUE_TEMPLATE</span></span></span><br><span class="line"><span class="function">    ├─.<span class="title">gitignore</span></span></span><br><span class="line"><span class="function">    ├─<span class="title">core</span></span></span><br><span class="line"><span class="function">    ├─<span class="title">hexoweb</span></span></span><br><span class="line"><span class="function">    │  ├─<span class="title">libs</span></span></span><br><span class="line"><span class="function">    │  │  ├─<span class="title">django_psdb_engine</span></span></span><br><span class="line"><span class="function">    │  │  ├─<span class="title">elevator</span></span></span><br><span class="line"><span class="function">    │  │  │  └─<span class="title">updater</span></span></span><br><span class="line"><span class="function">    │  │  ├─<span class="title">image</span></span></span><br><span class="line"><span class="function">    │  │  │  └─<span class="title">providers</span></span></span><br><span class="line"><span class="function">    │  │  ├─<span class="title">onepush</span></span></span><br><span class="line"><span class="function">    │  │  │  └─<span class="title">providers</span></span></span><br><span class="line"><span class="function">    │  │  └─<span class="title">platforms</span></span></span><br><span class="line"><span class="function">    │  │      └─<span class="title">providers</span></span></span><br><span class="line"><span class="function">    │  └─<span class="title">migrations</span></span></span><br><span class="line"><span class="function">    ├─<span class="title">manage.py</span></span></span><br><span class="line"><span class="function">    ├─<span class="title">LICENSE</span></span></span><br><span class="line"><span class="function">    ├─<span class="title">migrate.sh</span></span></span><br><span class="line"><span class="function">    ├─<span class="title">README.md</span></span></span><br><span class="line"><span class="function">    ├─<span class="title">requirements.txt</span></span></span><br><span class="line"><span class="function">    ├─<span class="title">vercel.json</span></span></span><br><span class="line"><span class="function">    ├─<span class="title">configs.py</span></span></span><br><span class="line"><span class="function">    └─<span class="title">templates</span></span></span><br><span class="line"><span class="function">        ├─<span class="title">accounts</span></span></span><br><span class="line"><span class="function">        ├─<span class="title">home</span></span></span><br><span class="line"><span class="function">        ├─<span class="title">includes</span></span></span><br><span class="line"><span class="function">        └─<span class="title">layouts</span></span></span><br></pre></td></tr></table></figure><p>添加 configs.py 文件内容如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line">pymysql.install_as_MySQLdb()</span><br><span class="line">DOMAINS = [<span class="string">&quot;127.0.0.1&quot;</span>, <span class="string">&quot;yoursite.com&quot;</span>]</span><br><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;qexo&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;USER&#x27;</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;PASSWORD&#x27;</span>: <span class="string">&#x27;123456&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;HOST&#x27;</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;PORT&#x27;</span>: <span class="string">&#x27;3306&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;OPTIONS&#x27;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;init_command&quot;</span>: <span class="string">&quot;SET sql_mode=&#x27;STRICT_TRANS_TABLES&#x27;&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>本地部署配置完成，接下来安装本地的数据库。</p><h1 id="Mysql数据库安装"><a href="#Mysql数据库安装" class="headerlink" title="Mysql数据库安装"></a>Mysql数据库安装</h1><p>点击下载安装包 <a href="https://dev.mysql.com/downloads/mysql/">Mysql安装包下载</a> ：<br><img src="/img/mysql_download.webp" alt="mysql安装包下载第一步"><br><img src="/img/mysql_download.webp" alt="mysql安装包下载第二步"></p><p>下载完后，我们将 zip 包解压到相应的目录，这里我将解压后的文件夹放在 C:\web\mysql-8.0.11 下。<br><strong>接下来我们需要配置下 MySQL 的配置文件</strong><br>打开刚刚解压的文件夹 C:\web\mysql-8.0.11 ，在该文件夹下创建 my.ini 配置文件，编辑 my.ini 配置以下基本信息：  </p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line"># 设置mysql客户端默认字符集</span><br><span class="line">default-character-set=utf8</span><br><span class="line"> </span><br><span class="line">[mysqld]</span><br><span class="line"># 设置3306端口</span><br><span class="line">port = 3306</span><br><span class="line"># 设置mysql的安装目录</span><br><span class="line">basedir=C:\\web\\mysql-8.0.11</span><br><span class="line"># 设置 mysql数据库的数据的存放目录，MySQL 8+ 不需要以下配置，系统自己生成即可，否则有可能报错</span><br><span class="line"># datadir=C:\\web\\sqldata</span><br><span class="line"># 允许最大连接数</span><br><span class="line">max_connections=20</span><br><span class="line"># 服务端使用的字符集默认为8比特编码的latin1字符集</span><br><span class="line">character-set-server=utf8</span><br><span class="line"># 创建新表时将使用的默认存储引擎</span><br><span class="line">default-storage-engine=INNODB</span><br></pre></td></tr></table></figure><p><strong>接下来我们来启动下 MySQL 数据库：</strong><br>以管理员身份打开 cmd 命令行工具，切换目录：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> C:\web\mysql-<span class="number">8</span>.<span class="number">0</span>.<span class="number">11</span>\bin</span><br></pre></td></tr></table></figure><p>初始化数据库：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --initialize --console</span><br></pre></td></tr></table></figure><p>执行完成后，会输出 root 用户的初始默认密码，如：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span>-<span class="number">04</span>-<span class="number">20</span>T02:<span class="number">35</span>:<span class="number">05</span>.<span class="number">464644</span>Z <span class="number">5</span> [Note] [MY-<span class="number">010454</span>] [Server] A temporary password is generated <span class="keyword">for</span> root@localhost: APWCY5ws&amp;hjQ</span><br></pre></td></tr></table></figure><p><strong>APWCY5ws&amp;hjQ</strong> 就是初始密码，后续登录需要用到，你也可以在登陆后修改密码。</p><p>输入以下安装命令：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld install</span><br></pre></td></tr></table></figure><p>启动输入以下命令即可：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">net</span> <span class="built_in">start</span> mysql</span><br></pre></td></tr></table></figure><h1 id="登录MySQL并创建qexo数据库"><a href="#登录MySQL并创建qexo数据库" class="headerlink" title="登录MySQL并创建qexo数据库"></a>登录MySQL并创建qexo数据库</h1><p>当 MySQL 服务已经运行时, 我们可以通过 MySQL 自带的客户端工具登录到 MySQL 数据库中, 首先打开命令提示符, 输入以下格式的命名:</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h 主机名 -u 用户名 -p</span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li>-h : 指定客户端所要登录的 MySQL 主机名, 登录本机(localhost 或 127.0.0.1)该参数可以省略;</li><li>-u : 登录的用户名;</li><li>-p : 告诉服务器将会使用一个密码来登录, 如果所要登录的用户名密码为空, 可以忽略此选项。</li></ul><p>如果我们要登录本机的 MySQL 数据库，只需要输入以下命令即可：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><p>按回车确认, 如果安装正确且 MySQL 正在运行, 会得到以下响应:</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter password:</span><br></pre></td></tr></table></figure><p>若密码存在, 输入密码登录, 不存在则直接按回车登录。登录成功后你将会看到 Welcome to the MySQL monitor… 的提示语。<br>然后命令提示符会一直以 <strong>mysql&gt;</strong> 加一个闪烁的光标等待命令的输入, 输入 <strong>exit</strong> 或 <strong>quit</strong> 退出登录。</p><p>接下来，输入命令创建qexo数据库，这个数据库提供给Qexo项目使用：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; CREATE DATABASE qexo;</span><br></pre></td></tr></table></figure><p>数据库创建完成。</p><h1 id="运行Qexo项目进行本地部署"><a href="#运行Qexo项目进行本地部署" class="headerlink" title="运行Qexo项目进行本地部署"></a>运行Qexo项目进行本地部署</h1><p>在cmd命令行中，切换目录到刚刚拉下来的Qexo目录的根目录中去：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">E:\<span class="title">Qexo</span>&gt; <span class="title">pip3</span> <span class="title">install</span> -<span class="title">r</span> <span class="title">requirements.txt</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">makemigrations</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">migrate</span></span></span><br><span class="line"><span class="function"><span class="title">E</span>:\<span class="title">Qexo</span>&gt; <span class="title">python3</span> <span class="title">manage.py</span> <span class="title">runserver</span> --<span class="title">noreload</span></span></span><br></pre></td></tr></table></figure><p>部署完成后的cmd窗口内容，如下所示：<br><img src="/img/qexo_deploy_cmd.webp" alt="Qexo部署完成"></p><h1 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h1><p>在浏览器中访问这个地址 <strong><a href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a></strong> 就能看到Qexo的初始化页面了，初始化页面如下：</p><p><img src="/img/qexo_init_page.webp" alt="Qexo初始化页面"></p><h1 id="常见问题与解决方案"><a href="#常见问题与解决方案" class="headerlink" title="常见问题与解决方案"></a>常见问题与解决方案</h1><h2 id="1-忘记修改config-py中的数据库密码"><a href="#1-忘记修改config-py中的数据库密码" class="headerlink" title="1. 忘记修改config.py中的数据库密码"></a>1. 忘记修改config.py中的数据库密码</h2><p>找到项目根目录中的 <strong>configs.py</strong> 文件，修改如下位置为自己数据库用户的密码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line">pymysql.install_as_MySQLdb()</span><br><span class="line">DOMAINS = [<span class="string">&quot;127.0.0.1&quot;</span>, <span class="string">&quot;yoursite.com&quot;</span>]</span><br><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;qexo&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;USER&#x27;</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;PASSWORD&#x27;</span>: <span class="string">&#x27;这里写你的数据库密码&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;HOST&#x27;</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;PORT&#x27;</span>: <span class="string">&#x27;3306&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;OPTIONS&#x27;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;init_command&quot;</span>: <span class="string">&quot;SET sql_mode=&#x27;STRICT_TRANS_TABLES&#x27;&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-python或python3没有设置变量环境"><a href="#2-python或python3没有设置变量环境" class="headerlink" title="2. python或python3没有设置变量环境"></a>2. python或python3没有设置变量环境</h2><p>设置一下python和python3的环境变量，让这两个命令都能关联到你的python3可执行文件上。</p><h2 id="3-进入后台初始化过程中报错"><a href="#3-进入后台初始化过程中报错" class="headerlink" title="3. 进入后台初始化过程中报错"></a>3. 进入后台初始化过程中报错</h2><p>如下图：<br><img src="/img/qexo_deploy_prob1.webp" alt="qexo后台报错提示"><br>这个需要你确认自己的Hexo博客仓库是哪一个，不要关联到博客生成后的那个仓库去。<br>需要关联到你的Hexo博客源码仓库，而不是关联到Hexo生成后用于部署的那个仓库。</p>]]></content>
    
    
    <summary type="html">相信很多小伙伴都想自己魔改一下qexo，我最近跑通了qexo的本地部署调试，所以发一篇文说一下过程。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Qexo" scheme="https://blog.shineyu.cn/tags/Qexo/"/>
    
  </entry>
  
  <entry>
    <title>即刻短文的音乐不显示</title>
    <link href="https://blog.shineyu.cn/essay-music-notshow.html"/>
    <id>https://blog.shineyu.cn/essay-music-notshow.html</id>
    <published>2023-02-11T15:25:15.000Z</published>
    <updated>2023-02-11T15:25:15.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>总会在添加一些东西之后，出现一些奇奇怪怪的bug，比如今天更新完新功能后就看到即刻短文中的音乐不显示了。</p><h1 id="问题现象"><a href="#问题现象" class="headerlink" title="问题现象"></a>问题现象</h1><p>在添加完全局音乐和音乐页面之后，查看了一下即刻短文中的音乐能不能正常播放，结果看到即刻短文里的音乐不显示了。</p><h1 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h1><p>因为我将meting换成了meting2，所以在即刻短文中，也需要使用meting2，不然就会报错，然后就会导致不显示了。</p><h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>找到themes\butterfly\layout\includes\page\essay.pug文件，修改如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">if item.image</span><br><span class="line">.bber-container-img</span><br><span class="line">    each iten, indey in item.image</span><br><span class="line">    a.bber-content-img(href=item.image[indey], target=&quot;_blank&quot;, data-fancybox=&quot;gallery&quot;, data-caption=&quot;&quot;)</span><br><span class="line">        img(src=item.image[indey])</span><br><span class="line">    .bber-content-noimg</span><br><span class="line">    .bber-content-noimg</span><br><span class="line">    .bber-content-noimg</span><br><span class="line">if item.aplayer</span><br><span class="line">.bber-music</span><br><span class="line"><span class="deletion">-    .aplayer.no-destroy(data-id=item.aplayer.id data-server=item.aplayer.server data-type=&quot;song&quot;  data-order=&quot;list&quot; data-preload=&quot;none&quot; data-autoplay=&quot;false&quot; data-mutex=&quot;true&quot; data-theme=&#x27;#3b70fc&#x27;)</span></span><br><span class="line"><span class="addition">+    meting-js(id=item.aplayer.id server=item.aplayer.server type=&quot;song&quot; mutex=&quot;true&quot; preload=&quot;auto&quot; theme=&quot;#3b70fc&quot; order=&quot;list&quot;)</span></span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">解决博客中即刻短文不显示音乐的问题。</summary>
    
    
    
    <category term="问题笔记" scheme="https://blog.shineyu.cn/categories/%E9%97%AE%E9%A2%98%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>twikoo评论的气泡美化</title>
    <link href="https://blog.shineyu.cn/twikoo-css-tutorial.html"/>
    <id>https://blog.shineyu.cn/twikoo-css-tutorial.html</id>
    <published>2023-02-06T10:42:05.000Z</published>
    <updated>2023-02-06T10:42:05.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>应小伙伴要求，出一篇（水一篇🤪）twikoo评论气泡的美化教程。</p><h1 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h1><p>效果如下图：<br><img src="/img/twikoo-css-tutorial_1.webp" alt="twikoo评论气泡美化后的效果"></p><h1 id="新建css样式"><a href="#新建css样式" class="headerlink" title="新建css样式"></a>新建css样式</h1><p>新建source\css\twikoo.css文件，内容如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 设置文字内容 :nth-child(1)的作用是选择第几个 */</span></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;输入QQ号会自动获取昵称和头像🐧&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;收到回复将会发送到您的邮箱📧&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;可以通过昵称访问您的网站🔗&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 当用户点击输入框时显示 */</span></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:focus</span>-within<span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:focus</span>-within<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 主内容区 */</span></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="comment">/* 先隐藏起来 */</span></span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="comment">/* 绝对定位 */</span></span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="comment">/* 向上移动60像素 */</span></span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">60px</span>;</span><br><span class="line">    <span class="comment">/* 文字强制不换行，防止left:50%导致的文字换行 */</span></span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="comment">/* 圆角 */</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="comment">/* 距离左边50% */</span></span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="comment">/* 然后再向左边挪动自身的一半，即可实现居中 */</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>);</span><br><span class="line">    <span class="comment">/* 填充 */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">14px</span> <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#444</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 小角标 */</span></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="comment">/* 内容大小（宽高）为0且边框大小不为0的情况下，每一条边（4个边）都是一个三角形，组成一个正方形。</span></span><br><span class="line"><span class="comment">    我们先将所有边框透明，再给其中的一条边添加颜色就可以实现小三角图标 */</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">12px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-top-color</span>: <span class="number">#444</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">48px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/************ twikoo评论中的背景框样式调整 ************/</span></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">235</span> <span class="number">235</span> <span class="number">235</span> / <span class="number">60%</span>);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-content</span> * &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/************ twikoo评论中的背景框样式调整 ************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 收起/展开的长条按钮样式 */</span></span><br><span class="line"><span class="selector-class">.tk-expand</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e0e3ed</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> <span class="built_in">rgb</span>(<span class="number">189</span> <span class="number">189</span> <span class="number">189</span> / <span class="number">10%</span>);</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="引入css样式"><a href="#引入css样式" class="headerlink" title="引入css样式"></a>引入css样式</h1><p>修改 <mark class="hl-label orange">_config.butterfly.yml</mark> 主题配置文件，修改内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Inject</span><br><span class="line"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # 自定义css</span><br><span class="line"><span class="addition">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/twikoo.css&quot;&gt;  #添加的自定义css文件</span></span><br><span class="line">  bottom:</span><br><span class="line">    # 自定义js</span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">美化twikoo的评论气泡，简约风格。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>博客放映厅页面制作教程</title>
    <link href="https://blog.shineyu.cn/video-page-tutorial.html"/>
    <id>https://blog.shineyu.cn/video-page-tutorial.html</id>
    <published>2023-02-05T16:45:10.000Z</published>
    <updated>2023-02-05T20:27:02.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>刚弄好这个页面的时候，我就兴奋的在博客看了一晚的电影，哈哈哈，在博客里看电影😎是真的爽快！</p><h1 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h1><p>效果如下:</p><a href="https://blog.shineyu.cn/video/" target="_blank" title="放映厅页面" referrerPolicy="no-referrer" class="link_card"><div class="link_icon"><img src="/img/shineyu_avatar.webp" class="no-lightbox"></div><div class="link_content"><div class="link_title">放映厅页面</div><div class="link_desc">跳转至本博客中的放映厅页面查看页面效果。</div></div></a><h1 id="新建pug模板"><a href="#新建pug模板" class="headerlink" title="新建pug模板"></a>新建pug模板</h1><p>新建themes\butterfly\layout\includes\page\video.pug文件，内容如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line">//if top_img === false</span><br><span class="line">//  h1.page-title= page.title</span><br><span class="line">.video_frame.video_loaded(style=&quot;position: relative;&quot;)</span><br><span class="line">  button.fullscreen_btn(title=&quot;全屏按钮&quot; onclick=&quot;shine.enterFullscreen(document.getElementById(\&quot;video-iframe\&quot;))&quot;)</span><br><span class="line">    img(src=&quot;https://itch.io/static/images/enlarge.svg?1673683293&quot;)</span><br><span class="line">  #video-select.video-select</span><br><span class="line">hr</span><br><span class="line">h3= 视频列表</span><br><span class="line">.videos</span><br><span class="line">  if site.data.video</span><br><span class="line">    each i,index in site.data.video</span><br><span class="line">      div(class=&quot;myvideo&quot; onclick=`javascipt:selectVideo(`+index+`)`)</span><br><span class="line">        div(id=`video-item-`+index class=&quot;video-item&quot; data-src=url_for(i.link))</span><br><span class="line">          a(href=&quot;#video-select&quot;)</span><br><span class="line">            img.video-item-cover(src=url_for(i.cover))</span><br><span class="line">        .video-desc</span><br><span class="line">          .video-title</span><br><span class="line">            a(href=&quot;#video-select&quot;)= i.title</span><br><span class="line">          .video-info= i.description</span><br><span class="line">          .video-platform-icon</span><br><span class="line">            each val,key in i.platform</span><br><span class="line">              if val == &quot;bilibili&quot;</span><br><span class="line">                i.fa-brands.fa-bilibili</span><br><span class="line">              else if val == &quot;youtube&quot;</span><br><span class="line">                i.fa-brands.fa-youtube</span><br><span class="line">              else if val == &quot;internet&quot;</span><br><span class="line">                i.fa-brands.fa-internet-explorer</span><br><span class="line">              else if val == &quot;vpn&quot;</span><br><span class="line">                i.fa-solid.fa-earth-americas</span><br><span class="line"></span><br><span class="line">style.</span><br><span class="line">  .videos&#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: repeat(4, 1fr);</span><br><span class="line">    grid-column-gap: 20px;</span><br><span class="line">    grid-row-gap: 20px;</span><br><span class="line">  &#125;</span><br><span class="line">  @media screen and (max-width: 1200px)&#123;</span><br><span class="line">    .videos&#123;</span><br><span class="line">      display: grid;</span><br><span class="line">      grid-template-columns: repeat(3, 1fr);</span><br><span class="line">      grid-column-gap: 20px;</span><br><span class="line">      grid-row-gap: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  @media screen and (max-width: 900px)&#123;</span><br><span class="line">    .videos&#123;</span><br><span class="line">      display: grid;</span><br><span class="line">      grid-template-columns: repeat(2, 1fr);</span><br><span class="line">      grid-column-gap: 20px;</span><br><span class="line">      grid-row-gap: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  @media screen and (max-width: 600px)&#123;</span><br><span class="line">    .videos&#123;</span><br><span class="line">      display: grid;</span><br><span class="line">      grid-template-columns: repeat(1, 1fr);</span><br><span class="line">      grid-column-gap: 20px;</span><br><span class="line">      grid-row-gap: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  .myvideo&#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 100%;</span><br><span class="line">    border: 1px solid var(--mj-card-border);</span><br><span class="line">    border-radius: 12px;</span><br><span class="line">  &#125;</span><br><span class="line">  .video-item&#123;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    height: 160px;</span><br><span class="line">    border-top-left-radius: 12px;</span><br><span class="line">    border-top-right-radius: 12px;</span><br><span class="line">  &#125;</span><br><span class="line">  .video-item img &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 100%;</span><br><span class="line">    margin: 0 !important;</span><br><span class="line">    height: 100%;</span><br><span class="line">    transform: scale(1.0);</span><br><span class="line">    transition: .3s;</span><br><span class="line">    object-fit: cover;</span><br><span class="line">  &#125;</span><br><span class="line">  .myvideo:hover .video-item img &#123;</span><br><span class="line">    transition: .3s;</span><br><span class="line">    transform: scale(1.1);</span><br><span class="line">  &#125;</span><br><span class="line">  .video-title&#123;</span><br><span class="line">    padding: 5px 10px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">  &#125;</span><br><span class="line">  .video-info&#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    padding: 0 10px;</span><br><span class="line">    color: var(--mj-secondtext);</span><br><span class="line">  &#125;</span><br><span class="line">  .video-select&#123;</span><br><span class="line">    position:relative;</span><br><span class="line">    width:100%;</span><br><span class="line">    height:0;</span><br><span class="line">    padding-bottom:75%;</span><br><span class="line">  &#125;</span><br><span class="line">  .video-select iframe&#123;</span><br><span class="line">    position:absolute;</span><br><span class="line">    width:100%;</span><br><span class="line">    height:100%;</span><br><span class="line">    left:0;</span><br><span class="line">    top:0;</span><br><span class="line">    border-radius: 12px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  button.fullscreen_btn &#123; </span><br><span class="line">    opacity: .4;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: -42px;</span><br><span class="line">    right: 0;</span><br><span class="line">    margin: 8px;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    display: block;</span><br><span class="line">    transition: opacity 0.4s;</span><br><span class="line">    background: none;</span><br><span class="line">    padding: 0;</span><br><span class="line">    border: 0;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    z-index: 1;</span><br><span class="line">  &#125;</span><br><span class="line">  button.fullscreen_btn:hover &#123; </span><br><span class="line">    opacity: .8;</span><br><span class="line">  &#125;</span><br><span class="line">  button.fullscreen_btn img &#123; </span><br><span class="line">    display: block;</span><br><span class="line">    width: 30px;</span><br><span class="line">    height: 30px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  #page &#123;</span><br><span class="line">    border: 0;</span><br><span class="line">    box-shadow: none !important;</span><br><span class="line">    padding: 0 !important;</span><br><span class="line">    background: transparent !important;</span><br><span class="line">  &#125;</span><br><span class="line">  #page .page-title &#123;</span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line">  #page .author-content-item .card-content .banner-button-group .banner-button:hover &#123;</span><br><span class="line">    color: var(--anzhiyu-white);</span><br><span class="line">    border-radius: 20px !important;</span><br><span class="line">  &#125;</span><br><span class="line">  .videos &#123;</span><br><span class="line">    padding: 20px 20px;</span><br><span class="line">    background: #fff;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    border: 1px solid #e0e3ed;</span><br><span class="line">  &#125;</span><br><span class="line">  .videos:hover &#123;</span><br><span class="line">    border-color: var(--style-border-hover);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /* 评论 */</span><br><span class="line">  .tk-expand,</span><br><span class="line">  .tk-comments-container&gt;.tk-comment,</span><br><span class="line">  .tk-submit:nth-child(1)&#123;</span><br><span class="line">    background: var(--card-bg);</span><br><span class="line">    border: 1px solid #e0e3ed;</span><br><span class="line">    box-shadow: 0 5px 10px rgb(189 189 189 / 10%);</span><br><span class="line">    transition: all .3s ease-in-out;</span><br><span class="line">    border-radius: 12px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .tk-comments-container&gt;.tk-comment:hover,</span><br><span class="line">  .tk-submit:nth-child(1):hover &#123;</span><br><span class="line">    border-color: var(--style-border-hover);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .tk-submit &#123;</span><br><span class="line">    padding: 20px 10px 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .tk-comments-container&gt;.tk-comment &#123;</span><br><span class="line">    padding: 15px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .tk-comments-no &#123;</span><br><span class="line">    background: var(--card-bg);</span><br><span class="line">    border: 1px solid #e0e3ed;</span><br><span class="line">    box-shadow: 0 5px 10px rgb(189 189 189 / 10%);</span><br><span class="line">    transition: all .3s ease-in-out;</span><br><span class="line">    border-radius: 12px;</span><br><span class="line">  &#125;</span><br><span class="line">  .tk-comments-no:hover &#123;</span><br><span class="line">    border-color: var(--style-border-hover);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  #page &gt; div.videos &gt; div.myvideo &gt; div.video-desc &gt; div.video-title &#123;</span><br><span class="line">    border-bottom: var(--style-border);</span><br><span class="line">  &#125;</span><br><span class="line">  #page &gt; div.videos &gt; div.myvideo &gt; div.video-desc &gt; div.video-info &#123;</span><br><span class="line">    border-bottom: var(--style-border);</span><br><span class="line">  &#125;</span><br><span class="line">  #page &gt; div.videos &gt; div.myvideo &gt; div.video-desc &gt; div.video-platform-icon &#123;</span><br><span class="line">    padding: 0 10px;</span><br><span class="line">  &#125;</span><br><span class="line">  #page &gt; div.videos &gt; div.myvideo &gt; div.video-desc &gt; div.video-platform-icon &gt; i &#123;</span><br><span class="line">    margin-right: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">!= page.content</span><br></pre></td></tr></table></figure><p>引入页面，修改 <mark class="hl-label orange">_config.butterfly.yml</mark> 主题配置文件，修改内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  # Home: / || fas fa-home</span><br><span class="line">  文库:</span><br><span class="line">    文章列表: /archives/ || fas fa-archive</span><br><span class="line">    全部标签: /tags/ || fas fa-tags</span><br><span class="line">    全部分类: /categories/ || fas fa-folder-open</span><br><span class="line">  友链:</span><br><span class="line">    友情链接: /link/ || fa-solid fa-user-group</span><br><span class="line">    友链鱼塘: /fcircle/ || fa-solid fa-fish-fins</span><br><span class="line">    留言信箱: /messageboard/ || fa-solid fa-pencil</span><br><span class="line">  娱乐休闲:</span><br><span class="line">    图库: /gallery/ || fa-solid fa-image</span><br><span class="line">    分享: /myshared/ || fa-solid fa-share</span><br><span class="line"><span class="addition">+    放映厅: /video/ || fa-solid fa-circle-play</span></span><br><span class="line">    电玩城: /game/ || fa-solid fa-gamepad</span><br><span class="line">  我的:</span><br><span class="line">    本站: /about/ || fa-solid fa-address-card</span><br><span class="line">    书籍: /mybook/ || fa-solid fa-book</span><br><span class="line">    音乐: /music/ || fa-solid fa-music</span><br></pre></td></tr></table></figure><p>注册页面，修改 themes\butterfly\layout\page.pug 文件，修改内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  #page</span><br><span class="line">    if top_img <span class="comment">=== false</span></span><br><span class="line">      h1.page-title= page.title</span><br><span class="line"></span><br><span class="line">    case page.type</span><br><span class="line">      when &#x27;tags&#x27;</span><br><span class="line">        include includes/page/tags.pug</span><br><span class="line">      when &#x27;link&#x27;</span><br><span class="line">        include includes/page/flink.pug</span><br><span class="line">      when &#x27;categories&#x27;</span><br><span class="line">        include includes/page/categories.pug</span><br><span class="line"><span class="addition">+      when &#x27;video&#x27;</span></span><br><span class="line"><span class="addition">+        include includes/page/video.pug</span></span><br><span class="line">      default</span><br><span class="line">        include includes/page/default-page.pug</span><br><span class="line"></span><br><span class="line">    if page.comments !== false &amp;&amp; theme.comments &amp;&amp; theme.comments.use</span><br><span class="line">      - var commentsJsLoad = true</span><br><span class="line">      !=partial(&#x27;includes/third-party/comments/index&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br></pre></td></tr></table></figure><h1 id="新建hexo页面"><a href="#新建hexo页面" class="headerlink" title="新建hexo页面"></a>新建hexo页面</h1><p>在博客项目根目录中运行如下命令来创建放映厅页面：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page video</span><br></pre></td></tr></table></figure><p>页面内容如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 📺 放映厅</span><br><span class="line">date: 2020-07-17 20:54:09</span><br><span class="line">comment: true</span><br><span class="line">top<span class="emphasis">_img: /img/fyt.webp</span></span><br><span class="line"><span class="emphasis">showToc: true</span></span><br><span class="line"><span class="emphasis">aside: false</span></span><br><span class="line"><span class="emphasis">type: &quot;video&quot;</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/jquery@latest/dist/jquery.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis">function selectVideo(id)&#123;</span></span><br><span class="line"><span class="emphasis">    var src=$(&quot;#video-item-&quot;+id).attr(&quot;data-src&quot;);</span></span><br><span class="line"><span class="emphasis">    $(&quot;#video-select&quot;).html(&quot;<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&#x27;video-iframe&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;&quot;+src+&quot;&#x27;</span> <span class="attr">scrolling</span>=<span class="string">&#x27;no&#x27;</span> <span class="attr">border</span>=<span class="string">&#x27;0&#x27;</span> <span class="attr">frameborder</span>=<span class="string">&#x27;no&#x27;</span> <span class="attr">framespacing</span>=<span class="string">&#x27;0&#x27;</span> <span class="attr">allowfullscreen</span>=<span class="string">&#x27;true&#x27;</span>&gt;</span></span></span></span> <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></span></span>&quot;);</span></span><br><span class="line"><span class="emphasis">    var iframe = document.getElementById(&quot;video-select&quot;)</span></span><br><span class="line"><span class="emphasis">    if(iframe.attachEvent)&#123;</span></span><br><span class="line"><span class="emphasis">      iframe.attachEvent(&quot;onreadystatechange&quot;, function() &#123;</span></span><br><span class="line"><span class="emphasis">        if (iframe.readyState === &quot;complete&quot; || iframe.readyState == &quot;loaded&quot;) &#123;</span></span><br><span class="line"><span class="emphasis">          iframe.detachEvent(&quot;onreadystatechange&quot;, arguments.callee);</span></span><br><span class="line"><span class="emphasis">        if (document.getElementsByClassName(&#x27;video-mirror&#x27;).length&gt;0) &#123;</span></span><br><span class="line"><span class="emphasis">          console.log(&quot;1true&quot;)</span></span><br><span class="line"><span class="emphasis">          $(&quot;.video-mirror&quot;).attr(&quot;style&quot;,&quot;transform:scaleX(-1);&quot;)</span></span><br><span class="line"><span class="emphasis">          &#125;</span></span><br><span class="line"><span class="emphasis">        &#125;</span></span><br><span class="line"><span class="emphasis">      &#125;);</span></span><br><span class="line"><span class="emphasis">    &#125;else&#123;</span></span><br><span class="line"><span class="emphasis">      iframe.addEventListener(&quot;load&quot;, function() &#123;</span></span><br><span class="line"><span class="emphasis">        this.removeEventListener(&quot;load&quot;, arguments.call, false);</span></span><br><span class="line"><span class="emphasis">      if (document.getElementsByClassName(&#x27;video-mirror&#x27;).length&gt;0) &#123;</span></span><br><span class="line"><span class="emphasis">        console.log(&quot;2true&quot;)</span></span><br><span class="line"><span class="emphasis">        $(&quot;.video-mirror&quot;).attr(&quot;style&quot;,&quot;transform:scaleX(-1);&quot;)</span></span><br><span class="line"><span class="emphasis">      &#125;</span></span><br><span class="line"><span class="emphasis">      &#125;, false);</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">$(document).ready(selectVideo(0));</span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span></span><br></pre></td></tr></table></figure><h1 id="新建视频数据yml文件"><a href="#新建视频数据yml文件" class="headerlink" title="新建视频数据yml文件"></a>新建视频数据yml文件</h1><p>新建source_data\video.yml文件，内容如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">/img/afd2zzjx.webp</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2022</span><span class="string">/03/10</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">//player.bilibili.com/player.html?aid=391433861&amp;bvid=BV1jd4y1Y7bK&amp;cid=929790029&amp;page=1</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">《阿凡达2水之道》万字解析！</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">《阿凡达2水之道》万字解析！能否再次震撼影史！谜团脑洞解答！</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">bilibili</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">https://i.ytimg.com/vi/UsIYr1LeWU0/hq720.webp</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2022</span><span class="string">/03/10</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://www.youtube.com/embed/UsIYr1LeWU0</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">阿凡达2的魔鬼细节</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">【阿凡达2】的魔鬼细节，来自Yutube。</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">youtube</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">vpn</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">/img/blender_osm.webp</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2022</span><span class="string">/12/16</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">//player.bilibili.com/player.html?aid=776309121&amp;bvid=BV1s14y1N7pp&amp;cid=925522874&amp;page=1</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">《致命充电》-Blender官方工作室又放大招了！2022年度开源电影</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">CHARGE（致命充电）是一部开放式电影，由Blender制作。</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">bilibili</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">/img/afa1.webp</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2022</span><span class="string">/12/30</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://xiaoheimi.net/player/?url=https://m3u.haiwaikan.com/xm3u8/1b2a0df9ad9d69452d051eca25203f246455b47e70081b848f7c308f11b0587f9921f11e97d0da21.m3u8&amp;next=</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">《阿凡达1》电影</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">给大伙儿找到的免费资源，直接在博客就能看。</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">internet</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">vpn</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">/img/afanda.webp</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2022</span><span class="string">/12/30</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://xiaoheimi.net/player/?url=https://m3u.haiwaikan.com/xm3u8/8dc0f368a32c1b5589343d792bda17664dad385ef8704c7f83afa4c6e3fe67189921f11e97d0da21.m3u8&amp;next=</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">《阿凡达2》电影</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">给大伙儿找到的免费资源，直接在博客就能看。</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">internet</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">vpn</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">/img/qybs.webp</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2022</span><span class="string">/12/30</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://xiaoheimi.net/player/?url=https://m3u.haiwaikan.com/xm3u8/25b4fe67d66eea73ed936c1e16264a889b6db2eb09ea6520fe0b0067c4d77bee9921f11e97d0da21.m3u8&amp;next=/index.php/vod/play/id/40078/sid/1/nid/2.html</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">《奇异博士2》电影</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">给大伙儿找到的免费资源，直接在博客就能看。</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">internet</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">vpn</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>描述</th><th>固定可选参数</th></tr></thead><tbody><tr><td>cover</td><td>填写视频的图片的url</td><td>无</td></tr><tr><td>time</td><td>填写视频的日期</td><td>无</td></tr><tr><td>link</td><td>填写视频的链接</td><td>无</td></tr><tr><td>title</td><td>填写视频的标题</td><td>无</td></tr><tr><td>description</td><td>填写视频的文字描述</td><td>无</td></tr><tr><td>platform</td><td>填写视频来源的视频</td><td>bilibili,youtube,internet,vpn</td></tr></tbody></table><h1 id="如何自己添加视频"><a href="#如何自己添加视频" class="headerlink" title="如何自己添加视频"></a>如何自己添加视频</h1><h2 id="1-获取B站等平台视频嵌入代码"><a href="#1-获取B站等平台视频嵌入代码" class="headerlink" title="1. 获取B站等平台视频嵌入代码"></a>1. 获取B站等平台视频嵌入代码</h2><p>在视频播放页面通常会有分享按钮，并且一般会提供链接和iframe嵌入两种分享方式：<br><img src="/img/video-page-tutorial_1.webp" alt="获取视频分享的嵌入代码"><br>复制到的嵌入代码如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;//player.bilibili.com/player.html?aid=693725797&amp;bvid=BV1V24y1B7HS&amp;cid=988401006&amp;page=1&quot;</span> <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">framespacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-将嵌入代码添加到yml数据中"><a href="#2-将嵌入代码添加到yml数据中" class="headerlink" title="2. 将嵌入代码添加到yml数据中"></a>2. 将嵌入代码添加到yml数据中</h2><p>将嵌入代码的src值提取到link即可，因为这个视频来自bilibili，所以yml的platform中填写bilibili即可，转换后的数据如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span></span><br><span class="line">  <span class="attr">time:</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">//player.bilibili.com/player.html?aid=693725797&amp;bvid=BV1V24y1B7HS&amp;cid=988401006&amp;page=1</span></span><br><span class="line">  <span class="attr">title:</span></span><br><span class="line">  <span class="attr">description:</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">bilibili</span></span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">给博客添加一个可以看视频的页面，包含全屏按钮。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>博客电玩城页面制作教程</title>
    <link href="https://blog.shineyu.cn/game-page-tutorial.html"/>
    <id>https://blog.shineyu.cn/game-page-tutorial.html</id>
    <published>2023-02-05T16:45:02.000Z</published>
    <updated>2023-04-26T13:25:02.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我觉得游戏页面是个很有趣的页面，相信大多数小伙伴都会喜欢这个页面，希望这个教程能让小伙伴们有所收获。</p><h1 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h1><p>效果如下:</p><a href="https://blog.shineyu.cn/game/" target="_blank" title="电玩城页面" referrerPolicy="no-referrer" class="link_card"><div class="link_icon"><img src="/img/shineyu_avatar.webp" class="no-lightbox"></div><div class="link_content"><div class="link_title">电玩城页面</div><div class="link_desc">跳转至本博客中的电玩城页面查看页面效果。</div></div></a><h1 id="新建pug模板"><a href="#新建pug模板" class="headerlink" title="新建pug模板"></a>新建pug模板</h1><p>新建themes\butterfly\layout\includes\page\game.pug文件，内容如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line">//if top_img === false</span><br><span class="line">//  h1.page-title= page.title</span><br><span class="line">.game_frame.game_loaded(style=&quot;position: relative;&quot;)</span><br><span class="line">  button.fullscreen_btn(title=&quot;全屏按钮&quot; onclick=&quot;shine.enterFullscreen(document.getElementById(\&quot;game-iframe\&quot;))&quot;)</span><br><span class="line">    img(src=&quot;https://itch.io/static/images/enlarge.svg?1673683293&quot;)</span><br><span class="line">  #game-select.game-select</span><br><span class="line">hr</span><br><span class="line">h3= 视频列表</span><br><span class="line">.games</span><br><span class="line">  if site.data.game</span><br><span class="line">    each i,index in site.data.game</span><br><span class="line">      div(class=&quot;mygame&quot; onclick=`javascipt:selectGame(`+index+`)`)</span><br><span class="line">        div(id=`game-item-`+index class=&quot;game-item&quot; data-src=url_for(i.link))</span><br><span class="line">          a(href=&quot;#game-select&quot;)</span><br><span class="line">            img.game-item-cover(src=url_for(i.cover))</span><br><span class="line">        .game-desc</span><br><span class="line">          .game-title</span><br><span class="line">            a(href=&quot;#game-select&quot;)= i.title</span><br><span class="line">          .game-info= i.description</span><br><span class="line">          .game-platform-icon</span><br><span class="line">            each val,key in i.platform</span><br><span class="line">              if val == &quot;windows&quot;</span><br><span class="line">                i.fa-brands.fa-windows</span><br><span class="line">              else if val == &quot;linux&quot;</span><br><span class="line">                i.fa-brands.fa-linux</span><br><span class="line">              else if val == &quot;android&quot;</span><br><span class="line">                i.fa-brands.fa-android</span><br><span class="line">              else if val == &quot;ios&quot;</span><br><span class="line">                i.fa-brands.fa-apple</span><br><span class="line"></span><br><span class="line">style.</span><br><span class="line">  .games&#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: repeat(4, 1fr);</span><br><span class="line">    grid-column-gap: 20px;</span><br><span class="line">    grid-row-gap: 20px;</span><br><span class="line">  &#125;</span><br><span class="line">  @media screen and (max-width: 1200px)&#123;</span><br><span class="line">    .games&#123;</span><br><span class="line">      display: grid;</span><br><span class="line">      grid-template-columns: repeat(3, 1fr);</span><br><span class="line">      grid-column-gap: 20px;</span><br><span class="line">      grid-row-gap: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  @media screen and (max-width: 900px)&#123;</span><br><span class="line">    .games&#123;</span><br><span class="line">      display: grid;</span><br><span class="line">      grid-template-columns: repeat(2, 1fr);</span><br><span class="line">      grid-column-gap: 20px;</span><br><span class="line">      grid-row-gap: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  @media screen and (max-width: 600px)&#123;</span><br><span class="line">    .games&#123;</span><br><span class="line">      display: grid;</span><br><span class="line">      grid-template-columns: repeat(1, 1fr);</span><br><span class="line">      grid-column-gap: 20px;</span><br><span class="line">      grid-row-gap: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  .mygame&#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 100%;</span><br><span class="line">    border: 1px solid var(--mj-card-border);</span><br><span class="line">    border-radius: 12px;</span><br><span class="line">  &#125;</span><br><span class="line">  .game-item&#123;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    height: 160px;</span><br><span class="line">    border-top-left-radius: 12px;</span><br><span class="line">    border-top-right-radius: 12px;</span><br><span class="line">  &#125;</span><br><span class="line">  .game-item img &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 100%;</span><br><span class="line">    margin: 0 !important;</span><br><span class="line">    height: 100%;</span><br><span class="line">    transform: scale(1.0);</span><br><span class="line">    transition: .3s;</span><br><span class="line">    object-fit: cover;</span><br><span class="line">  &#125;</span><br><span class="line">  .mygame:hover .game-item img &#123;</span><br><span class="line">    transition: .3s;</span><br><span class="line">    transform: scale(1.1);</span><br><span class="line">  &#125;</span><br><span class="line">  .game-title&#123;</span><br><span class="line">    padding: 5px 10px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">  &#125;</span><br><span class="line">  .game-info&#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    padding: 0 10px;</span><br><span class="line">    color: var(--mj-secondtext);</span><br><span class="line">  &#125;</span><br><span class="line">  .game-select&#123;</span><br><span class="line">    position:relative;</span><br><span class="line">    width:100%;</span><br><span class="line">    height:0;</span><br><span class="line">    padding-bottom:75%;</span><br><span class="line">  &#125;</span><br><span class="line">  .game-select iframe&#123;</span><br><span class="line">    position:absolute;</span><br><span class="line">    width:100%;</span><br><span class="line">    height:100%;</span><br><span class="line">    left:0;</span><br><span class="line">    top:0;</span><br><span class="line">    border-radius: 12px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  button.fullscreen_btn &#123; </span><br><span class="line">    opacity: .4;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: -42px;</span><br><span class="line">    right: 0;</span><br><span class="line">    margin: 8px;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    display: block;</span><br><span class="line">    transition: opacity 0.4s;</span><br><span class="line">    background: none;</span><br><span class="line">    padding: 0;</span><br><span class="line">    border: 0;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    z-index: 1;</span><br><span class="line">  &#125;</span><br><span class="line">  button.fullscreen_btn:hover &#123; </span><br><span class="line">    opacity: .8;</span><br><span class="line">  &#125;</span><br><span class="line">  button.fullscreen_btn img &#123; </span><br><span class="line">    display: block;</span><br><span class="line">    width: 30px;</span><br><span class="line">    height: 30px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  #page &#123;</span><br><span class="line">    border: 0;</span><br><span class="line">    box-shadow: none !important;</span><br><span class="line">    padding: 0 !important;</span><br><span class="line">    background: transparent !important;</span><br><span class="line">  &#125;</span><br><span class="line">  #page .page-title &#123;</span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line">  #page .author-content-item .card-content .banner-button-group .banner-button:hover &#123;</span><br><span class="line">    color: var(--anzhiyu-white);</span><br><span class="line">    border-radius: 20px !important;</span><br><span class="line">  &#125;</span><br><span class="line">  .games &#123;</span><br><span class="line">    padding: 20px 20px;</span><br><span class="line">    background: #fff;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    border: 1px solid #e0e3ed;</span><br><span class="line">  &#125;</span><br><span class="line">  .games:hover &#123;</span><br><span class="line">    border-color: var(--style-border-hover);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /* 评论 */</span><br><span class="line">  .tk-expand,</span><br><span class="line">  .tk-comments-container&gt;.tk-comment,</span><br><span class="line">  .tk-submit:nth-child(1)&#123;</span><br><span class="line">    background: var(--card-bg);</span><br><span class="line">    border: 1px solid #e0e3ed;</span><br><span class="line">    box-shadow: 0 5px 10px rgb(189 189 189 / 10%);</span><br><span class="line">    transition: all .3s ease-in-out;</span><br><span class="line">    border-radius: 12px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .tk-comments-container&gt;.tk-comment:hover,</span><br><span class="line">  .tk-submit:nth-child(1):hover &#123;</span><br><span class="line">    border-color: var(--style-border-hover);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .tk-submit &#123;</span><br><span class="line">    padding: 20px 10px 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .tk-comments-container&gt;.tk-comment &#123;</span><br><span class="line">    padding: 15px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .tk-comments-no &#123;</span><br><span class="line">    background: var(--card-bg);</span><br><span class="line">    border: 1px solid #e0e3ed;</span><br><span class="line">    box-shadow: 0 5px 10px rgb(189 189 189 / 10%);</span><br><span class="line">    transition: all .3s ease-in-out;</span><br><span class="line">    border-radius: 12px;</span><br><span class="line">  &#125;</span><br><span class="line">  .tk-comments-no:hover &#123;</span><br><span class="line">    border-color: var(--style-border-hover);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  #page &gt; div.games &gt; div.mygame &gt; div.game-desc &gt; div.game-title &#123;</span><br><span class="line">    border-bottom: var(--style-border);</span><br><span class="line">  &#125;</span><br><span class="line">  #page &gt; div.games &gt; div.mygame &gt; div.game-desc &gt; div.game-info &#123;</span><br><span class="line">    border-bottom: var(--style-border);</span><br><span class="line">  &#125;</span><br><span class="line">  #page &gt; div.games &gt; div.mygame &gt; div.game-desc &gt; div.game-platform-icon &#123;</span><br><span class="line">    padding: 0 10px;</span><br><span class="line">  &#125;</span><br><span class="line">  #page &gt; div.games &gt; div.mygame &gt; div.game-desc &gt; div.game-platform-icon &gt; i &#123;</span><br><span class="line">    margin-right: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">!= page.content</span><br></pre></td></tr></table></figure><p>引入页面，修改 <mark class="hl-label orange">_config.butterfly.yml</mark> 主题配置文件，修改内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  # Home: / || fas fa-home</span><br><span class="line">  文库:</span><br><span class="line">    文章列表: /archives/ || fas fa-archive</span><br><span class="line">    全部标签: /tags/ || fas fa-tags</span><br><span class="line">    全部分类: /categories/ || fas fa-folder-open</span><br><span class="line">  友链:</span><br><span class="line">    友情链接: /link/ || fa-solid fa-user-group</span><br><span class="line">    友链鱼塘: /fcircle/ || fa-solid fa-fish-fins</span><br><span class="line">    留言信箱: /messageboard/ || fa-solid fa-pencil</span><br><span class="line">  娱乐休闲:</span><br><span class="line">    图库: /gallery/ || fa-solid fa-image</span><br><span class="line">    分享: /myshared/ || fa-solid fa-share</span><br><span class="line">    放映厅: /video/ || fa-solid fa-circle-play</span><br><span class="line"><span class="addition">+    电玩城: /game/ || fa-solid fa-gamepad</span></span><br><span class="line">  我的:</span><br><span class="line">    本站: /about/ || fa-solid fa-address-card</span><br><span class="line">    书籍: /mybook/ || fa-solid fa-book</span><br><span class="line">    音乐: /music/ || fa-solid fa-music</span><br></pre></td></tr></table></figure><p>注册页面，修改 themes\butterfly\layout\page.pug 文件，修改内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  #page</span><br><span class="line">    if top_img <span class="comment">=== false</span></span><br><span class="line">      h1.page-title= page.title</span><br><span class="line"></span><br><span class="line">    case page.type</span><br><span class="line">      when &#x27;tags&#x27;</span><br><span class="line">        include includes/page/tags.pug</span><br><span class="line">      when &#x27;link&#x27;</span><br><span class="line">        include includes/page/flink.pug</span><br><span class="line">      when &#x27;categories&#x27;</span><br><span class="line">        include includes/page/categories.pug</span><br><span class="line"><span class="addition">+      when &#x27;game&#x27;</span></span><br><span class="line"><span class="addition">+        include includes/page/game.pug</span></span><br><span class="line">      default</span><br><span class="line">        include includes/page/default-page.pug</span><br><span class="line"></span><br><span class="line">    if page.comments !== false &amp;&amp; theme.comments &amp;&amp; theme.comments.use</span><br><span class="line">      - var commentsJsLoad = true</span><br><span class="line">      !=partial(&#x27;includes/third-party/comments/index&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br></pre></td></tr></table></figure><h1 id="新建hexo页面"><a href="#新建hexo页面" class="headerlink" title="新建hexo页面"></a>新建hexo页面</h1><p>在博客项目根目录中运行如下命令来创建电玩城页面：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page game</span><br></pre></td></tr></table></figure><p>页面内容如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 🕹️ 电玩城</span><br><span class="line">date: 2023-01-04 23:05:54</span><br><span class="line">comment: true</span><br><span class="line">top<span class="emphasis">_img: /img/ky.webp</span></span><br><span class="line"><span class="emphasis">showToc: true</span></span><br><span class="line"><span class="emphasis">aside: false</span></span><br><span class="line"><span class="emphasis">type: &quot;game&quot;</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/jquery@latest/dist/jquery.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis">function selectGame(id)&#123;</span></span><br><span class="line"><span class="emphasis">    var src=$(&quot;#game-item-&quot;+id).attr(&quot;data-src&quot;);</span></span><br><span class="line"><span class="emphasis">    $(&quot;#game-select&quot;).html(&quot;<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&#x27;game-iframe&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;&quot;+src+&quot;&#x27;</span> <span class="attr">scrolling</span>=<span class="string">&#x27;no&#x27;</span> <span class="attr">border</span>=<span class="string">&#x27;0&#x27;</span> <span class="attr">frameborder</span>=<span class="string">&#x27;no&#x27;</span> <span class="attr">framespacing</span>=<span class="string">&#x27;0&#x27;</span> <span class="attr">allowfullscreen</span>=<span class="string">&#x27;true&#x27;</span>&gt;</span></span></span></span> <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></span></span>&quot;);</span></span><br><span class="line"><span class="emphasis">    var iframe = document.getElementById(&quot;game-select&quot;)</span></span><br><span class="line"><span class="emphasis">    if(iframe.attachEvent)&#123;</span></span><br><span class="line"><span class="emphasis">      iframe.attachEvent(&quot;onreadystatechange&quot;, function() &#123;</span></span><br><span class="line"><span class="emphasis">        if (iframe.readyState === &quot;complete&quot; || iframe.readyState == &quot;loaded&quot;) &#123;</span></span><br><span class="line"><span class="emphasis">          iframe.detachEvent(&quot;onreadystatechange&quot;, arguments.callee);</span></span><br><span class="line"><span class="emphasis">        if (document.getElementsByClassName(&#x27;game-mirror&#x27;).length&gt;0) &#123;</span></span><br><span class="line"><span class="emphasis">          console.log(&quot;1true&quot;)</span></span><br><span class="line"><span class="emphasis">          $(&quot;.game-mirror&quot;).attr(&quot;style&quot;,&quot;transform:scaleX(-1);&quot;)</span></span><br><span class="line"><span class="emphasis">          &#125;</span></span><br><span class="line"><span class="emphasis">        &#125;</span></span><br><span class="line"><span class="emphasis">      &#125;);</span></span><br><span class="line"><span class="emphasis">    &#125;else&#123;</span></span><br><span class="line"><span class="emphasis">      iframe.addEventListener(&quot;load&quot;, function() &#123;</span></span><br><span class="line"><span class="emphasis">        this.removeEventListener(&quot;load&quot;, arguments.call, false);</span></span><br><span class="line"><span class="emphasis">      if (document.getElementsByClassName(&#x27;game-mirror&#x27;).length&gt;0) &#123;</span></span><br><span class="line"><span class="emphasis">        console.log(&quot;2true&quot;)</span></span><br><span class="line"><span class="emphasis">        $(&quot;.game-mirror&quot;).attr(&quot;style&quot;,&quot;transform:scaleX(-1);&quot;)</span></span><br><span class="line"><span class="emphasis">      &#125;</span></span><br><span class="line"><span class="emphasis">      &#125;, false);</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">$(document).ready(selectGame(0));</span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span></span><br></pre></td></tr></table></figure><h1 id="新建游戏数据yml文件"><a href="#新建游戏数据yml文件" class="headerlink" title="新建游戏数据yml文件"></a>新建游戏数据yml文件</h1><p>新建source_data\game.yml文件，内容如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">https://img.itch.zone/aW1nLzEwODk5NTUyLmdpZg==/315x250%23cm/oIp7tj.gif</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2023</span><span class="string">/01/04</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://v6p9d9t4.ssl.hwcdn.net/html/7082673/FLOE_WEB/index.html</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Floe</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">将自己带入流浪月亮卡律布狄斯</span> <span class="string">(Charybdis)</span> <span class="string">的深渊，调查其最黑暗的深处。</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">windows</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">https://img.itch.zone/aW1nLzI5NzQ0NzAucG5n/315x250%23c/0IM2AX.png</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2023</span><span class="string">/01/04</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://v6p9d9t4.ssl.hwcdn.net/html/1970387/index.html?v=1582568685</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Last</span> <span class="string">Train</span> <span class="string">Home</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">这是一个关于被困在火车上的简短恐怖冒险游戏。</span> <span class="string">大致基于我在互联网上读到的同名故事。</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">windows</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">https://img.itch.zone/aW1hZ2UvNDczNjcvMjA1ODcxLnBuZw==/315x250%23c/NsZPxC.png</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2023</span><span class="string">/01/05</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://v6p9d9t4.ssl.hwcdn.net/html/347310/index.html?v=1542780889</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Sort</span> <span class="string">the</span> <span class="string">Court!</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">用简单的是或否回答你的法令，帮助王国发展！</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">windows</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">linux</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">ios</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">https://img.itch.zone/aW1nLzU1MjAxNTEuZ2lm/original/4UAdVL.gif</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2023</span><span class="string">/01/05</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://v6p9d9t4.ssl.hwcdn.net/html/1796576/index.html?v=1577643878</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">MOBS,</span> <span class="string">INC</span> <span class="string">★</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">你是怪物。</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">windows</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">linux</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">ios</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">/img/OydWXI.webp</span></span><br><span class="line">  <span class="attr">time:</span> <span class="number">2023</span><span class="string">/01/16</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://v6p9d9t4.ssl.hwcdn.net/html/7143606/Bullet</span> <span class="string">Bunny/index.html</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Bullet</span> <span class="string">Bunny</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">嗨，我是Penusbmic。决定做一个小游戏。灵感来自《黎明前</span> <span class="number">20</span> <span class="string">分钟》和《吸血鬼幸存者》等游戏。</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">windows</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">android</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>描述</th><th>固定可选参数</th></tr></thead><tbody><tr><td>cover</td><td>填写游戏的图片的url</td><td>无</td></tr><tr><td>time</td><td>填写游戏的日期</td><td>无</td></tr><tr><td>link</td><td>填写游戏的链接</td><td>无</td></tr><tr><td>title</td><td>填写游戏的标题</td><td>无</td></tr><tr><td>description</td><td>填写游戏的文字描述</td><td>无</td></tr><tr><td>platform</td><td>填写游戏来源的平台</td><td>windows,linux,android,ios</td></tr></tbody></table><h1 id="如何自己添加游戏"><a href="#如何自己添加游戏" class="headerlink" title="如何自己添加游戏"></a>如何自己添加游戏</h1><h2 id="1-获取itch-io等游戏平台的iframe嵌入代码"><a href="#1-获取itch-io等游戏平台的iframe嵌入代码" class="headerlink" title="1. 获取itch.io等游戏平台的iframe嵌入代码"></a>1. 获取itch.io等游戏平台的iframe嵌入代码</h2><p>进入<a href="https://itch.io/">itch.io</a>，在游戏页面的最下面通常会有分享或嵌入的按钮，一般会提供iframe嵌入代码的分享方式，也可以通过f12的方式获取到iframe嵌入代码：</p><p><img src="/img/game-page-tutorial_2.webp" alt="获取游戏分享的嵌入代码步骤一">随便点击进入一个游戏后：</p><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">f12获取 (推荐)</button></li><li class="tab"><button type="button" data-href="#test4-2">平台提供</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><img src="/img/game-page-tutorial_3.webp" alt="获取游戏分享的嵌入代码步骤二"><br>复制到的嵌入代码如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attr">id</span>=<span class="string">&quot;game_drop&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://v6p9d9t4.ssl.hwcdn.net/html/7211593/index.html&quot;</span> <span class="attr">allowtransparency</span>=<span class="string">&quot;true&quot;</span> <span class="attr">webkitallowfullscreen</span>=<span class="string">&quot;true&quot;</span> <span class="attr">mozallowfullscreen</span>=<span class="string">&quot;true&quot;</span> <span class="attr">msallowfullscreen</span>=<span class="string">&quot;true&quot;</span> <span class="attr">allow</span>=<span class="string">&quot;autoplay; fullscreen *; geolocation; microphone; camera; midi; monetization; xr-spatial-tracking; gamepad; gyroscope; accelerometer; xr; cross-origin-isolated&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><img src="/img/game-page-tutorial_1.webp" alt="获取游戏分享的嵌入代码步骤二"><br>复制到的嵌入代码如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;https://itch.io/embed/1890694&quot;</span> <span class="attr">width</span>=<span class="string">&quot;552&quot;</span> <span class="attr">height</span>=<span class="string">&quot;167&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://reesemanse.itch.io/stark-county-threat-assessment-test&quot;</span>&gt;</span>Stark County Threat Assessment Test by Reese Manse<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-将嵌入代码添加到yml数据中"><a href="#2-将嵌入代码添加到yml数据中" class="headerlink" title="2. 将嵌入代码添加到yml数据中"></a>2. 将嵌入代码添加到yml数据中</h2><p>将iframe嵌入代码的src值提取到link即可，因为这个游戏仅支持windows平台运行，所以yml的platform中填写windows即可，转换后的数据如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span></span><br><span class="line">  <span class="attr">time:</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://v6p9d9t4.ssl.hwcdn.net/html/7211593/index.html</span></span><br><span class="line">  <span class="attr">title:</span></span><br><span class="line">  <span class="attr">description:</span></span><br><span class="line">  <span class="attr">platform:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">windows</span></span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">给博客添加一个可以玩网页游戏的页面，包含全屏按钮。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>目录跳转不准确</title>
    <link href="https://blog.shineyu.cn/toc-jump-error.html"/>
    <id>https://blog.shineyu.cn/toc-jump-error.html</id>
    <published>2023-02-05T15:24:05.000Z</published>
    <updated>2023-02-05T15:24:05.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这个问题很早就发现了，一直没有去理会，今天周末，刚好捣鼓了一下，解决了这个点击目录跳转不准确的问题。分享一下解决方法，希望能帮助到有需要的小伙伴。</p><h1 id="问题现象"><a href="#问题现象" class="headerlink" title="问题现象"></a>问题现象</h1><p>当点击文章中的目录时，跳转到的地方并不是目录所指向的标题，而是感觉在随便乱跳转。</p><h1 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h1><p>因为懒加载要浏览到那个位置才加载那个位置的图片，然后我文章中有图片，所以点击目录跳转的时候，因为下面有些没有浏览到的图片还没有加载，所以页面的高度计算会有误差，我长的文章都是点击目录跳转有问题的（博客中的问题已修复）。</p><h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>关闭懒加载功能即可，修改 <mark class="hl-label orange">_config.butterfly.yml</mark> 主题配置文件，修改内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Lazyload (圖片懶加載)</span><br><span class="line"># https://github.com/verlok/vanilla-lazyload</span><br><span class="line">lazyload:</span><br><span class="line"><span class="deletion">-  enable: true</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line">  field: site # site/post</span><br><span class="line">  placeholder:</span><br><span class="line">  blur: true</span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">解决butterfly主题的目录跳转不准确的问题。</summary>
    
    
    
    <category term="问题笔记" scheme="https://blog.shineyu.cn/categories/%E9%97%AE%E9%A2%98%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>添加设置面板与导航栏设置按钮</title>
    <link href="https://blog.shineyu.cn/setting-button-tutorial.html"/>
    <id>https://blog.shineyu.cn/setting-button-tutorial.html</id>
    <published>2023-02-05T13:41:00.000Z</published>
    <updated>2023-02-05T13:41:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>起初是看到heo佬做的控制面板，扒过来之后想起右下角有悬浮按钮，应该可以整合到一起，结果弄着弄着，直接就将右下角的按钮弄成一个面板了，这个就叫设置面板，控制面板就被设置面板代替了。</p><h1 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h1><p>效果如下图：</p><img class="inline-img" src="/img/setting_button.webp" style="height:50px"/><img class="inline-img" src="/img/setting_pannel.webp" style="height:150px"/><h1 id="修改pug模板"><a href="#修改pug模板" class="headerlink" title="修改pug模板"></a>修改pug模板</h1><p>添加设置面板，找到themes\butterfly\layout\includes\rightside.pug文件，因为修改的东西过多，直接将下面的代码覆盖全文即可：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">- const &#123; readmode, translate, darkmode, aside, chat_btn &#125; = theme</span><br><span class="line">mixin rightsideItem(array)</span><br><span class="line">  each item in array</span><br><span class="line">    case item</span><br><span class="line">      when &#x27;readmode&#x27;</span><br><span class="line">        if is_post() &amp;&amp; readmode</span><br><span class="line">          button#readmode(type=&quot;button&quot; title=_p(&#x27;rightside.readmode_title&#x27;))</span><br><span class="line">            i.fas.fa-book-open</span><br><span class="line">      when &#x27;translate&#x27;</span><br><span class="line">        if translate.enable</span><br><span class="line">          button#translateLink(type=&quot;button&quot; title=_p(&#x27;rightside.translate_title&#x27;))= translate.default</span><br><span class="line">      when &#x27;darkmode&#x27;</span><br><span class="line">        if darkmode.enable &amp;&amp; darkmode.button</span><br><span class="line">          button#darkmode(type=&quot;button&quot; title=_p(&#x27;rightside.night_mode_title&#x27;))</span><br><span class="line">            i.fas.fa-adjust</span><br><span class="line">      when &#x27;hideAside&#x27;</span><br><span class="line">        if aside.enable &amp;&amp; aside.button &amp;&amp; page.aside !== false</span><br><span class="line">          button#hide-aside-btn(type=&quot;button&quot; title=_p(&#x27;rightside.aside&#x27;))</span><br><span class="line">            i.fas.fa-arrows-alt-h</span><br><span class="line">      when &#x27;toc&#x27;</span><br><span class="line">        if showToc</span><br><span class="line">          button#mobile-toc-button.close(type=&quot;button&quot; title=_p(&quot;rightside.toc&quot;))</span><br><span class="line">            i.fas.fa-list-ul</span><br><span class="line">      when &#x27;chat&#x27;</span><br><span class="line">        if chat_btn</span><br><span class="line">          button#chat_btn(type=&quot;button&quot; title=_p(&quot;rightside.chat&quot;))</span><br><span class="line">            i.fas.fa-sms</span><br><span class="line">      when &#x27;comment&#x27;</span><br><span class="line">        if commentsJsLoad</span><br><span class="line">          a#to_comment(href=&quot;#post-comment&quot; title=_p(&quot;rightside.scroll_to_comment&quot;))</span><br><span class="line">            i.fas.fa-comments</span><br><span class="line"></span><br><span class="line">#rightside-mask.hidden(onclick=&quot;rightside.switchRightSide();&quot;)</span><br><span class="line">#rightside.hidden</span><br><span class="line"></span><br><span class="line">  #rightside-header</span><br><span class="line">    #rightside-back</span><br><span class="line">      i.fas.fa-chevron-left(onclick=&quot;rightside.backRightSide();&quot;)</span><br><span class="line">    #rightside-title= _p(&quot;rightside.setting&quot;)</span><br><span class="line">    #rightside-close(onclick=&quot;rightside.switchRightSide();&quot;)</span><br><span class="line">      i.fas.fa-xmark</span><br><span class="line">  #rightside-content</span><br><span class="line">    #card-post-content</span><br><span class="line">      if site.categories.length</span><br><span class="line">        .card-widget.card-categories</span><br><span class="line">          !=aside_categories(&#123; limit: theme.aside.card_categories.limit === 0 ? 0 : theme.aside.card_categories.limit || 8 , expand: theme.aside.card_categories.expand &#125;)</span><br><span class="line"></span><br><span class="line">      if site.tags.length</span><br><span class="line">        .card-widget.card-tags</span><br><span class="line">          .item-headline</span><br><span class="line">            i.fas.fa-tags</span><br><span class="line">            span= _p(&#x27;aside.card_tags&#x27;)</span><br><span class="line">          if theme.aside.card_tags.color</span><br><span class="line">            .card-tag-cloud!= cloudTags(&#123;source: site.tags, minfontsize: 1.15, maxfontsize: 1.45, limit: 0, unit: &#x27;em&#x27;&#125;)</span><br><span class="line">          else</span><br><span class="line">            .card-tag-cloud!= tagcloud(&#123;min_font: 1.1, max_font: 1.5, amount: 0 , color: true, start_color: &#x27;#999&#x27;, end_color: &#x27;#99a9bf&#x27;, unit: &#x27;em&#x27;&#125;)</span><br><span class="line"></span><br><span class="line">  - const &#123; enable, hide, show &#125; = theme.rightside_item_order</span><br><span class="line">  - const hideArray = enable ? hide &amp;&amp; hide.split(&#x27;,&#x27;) : [&#x27;readmode&#x27;,&#x27;translate&#x27;,&#x27;darkmode&#x27;,&#x27;hideAside&#x27;,&#x27;toc&#x27;,&#x27;chat&#x27;,&#x27;comment&#x27;]</span><br><span class="line">  - const showArray = enable ? show &amp;&amp; show.split(&#x27;,&#x27;) : []</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  #rightside-config-hide</span><br><span class="line">    if hideArray</span><br><span class="line">      +rightsideItem(hideArray)</span><br><span class="line">  #rightside-config-show</span><br><span class="line">    if enable</span><br><span class="line">      if hide</span><br><span class="line">        button#rightside_config(type=&quot;button&quot; title=_p(&quot;rightside.setting&quot;))</span><br><span class="line">          i.fas.fa-cog.fa-spin</span><br><span class="line">    else</span><br><span class="line">      if is_post()</span><br><span class="line">        if (readmode || translate.enable || (darkmode.enable &amp;&amp; darkmode.button))</span><br><span class="line">          button#rightside_config(type=&quot;button&quot; title=_p(&quot;rightside.setting&quot;))</span><br><span class="line">            i.fas.fa-cog.fa-spin</span><br><span class="line">      else if translate.enable || (darkmode.enable &amp;&amp; darkmode.button)</span><br><span class="line">        button#rightside_config(type=&quot;button&quot; title=_p(&quot;rightside.setting&quot;))</span><br><span class="line">          i.fas.fa-cog.fa-spin</span><br><span class="line"></span><br><span class="line">    if showArray</span><br><span class="line">      +rightsideItem(showArray)</span><br><span class="line"></span><br><span class="line">    button#go-up(type=&quot;button&quot; title=_p(&quot;rightside.back_to_top&quot;))</span><br><span class="line">      i.fas.fa-arrow-up</span><br></pre></td></tr></table></figure><p>在导航栏添加设置按钮，找到themes\butterfly\layout\includes\header\nav.pug文件，修改如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">nav#nav</span><br><span class="line">  span#blog-info</span><br><span class="line">    a(href=url_for(&#x27;/&#x27;) title=config.title)</span><br><span class="line">      if theme.nav.logo</span><br><span class="line">        img.site-icon(src=url_for(theme.nav.logo))</span><br><span class="line">      if theme.nav.display_title</span><br><span class="line">        span.site-name=config.title</span><br><span class="line">    </span><br><span class="line">  #menus</span><br><span class="line"><span class="addition">+    div.nav-button#console-button</span></span><br><span class="line"><span class="addition">+      a.site-page.social-icon.console(onclick=&quot;rightside.switchRightSide()&quot; title=&quot;设置&quot;)</span></span><br><span class="line"><span class="addition">+        i.fas.fa-screwdriver-wrench.fa-fw</span></span><br><span class="line">    if (theme.algolia_search.enable || theme.local_search.enable)</span><br><span class="line">      #search-button</span><br><span class="line">        a.site-page.social-icon.search(href=&quot;javascript:void(0);&quot;)</span><br><span class="line">          i.fas.fa-search.fa-fw</span><br><span class="line">          span=&#x27; &#x27;+_p(&#x27;search.title&#x27;)</span><br><span class="line">    !=partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">    #toggle-menu</span><br><span class="line">      a.site-page(href=&quot;javascript:void(0);&quot;)</span><br><span class="line">        i.fas.fa-bars.fa-fw</span><br></pre></td></tr></table></figure><h1 id="添加css样式"><a href="#添加css样式" class="headerlink" title="添加css样式"></a>添加css样式</h1><p>新建source&#x2F;css&#x2F;rightside.css文件，内容如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 右下角设置按钮 */</span></span><br><span class="line"><span class="selector-id">#rightside</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1200px</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">80vw</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">250px</span>;</span><br><span class="line">  <span class="attribute">max-height</span>: <span class="number">90vh</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="built_in">calc</span>(.<span class="number">5rem</span> * <span class="number">2</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--tab-botton-bg);</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  -ms-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  -o-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">242</span>, <span class="number">246</span>, <span class="number">252</span>, .<span class="number">8</span>);</span><br><span class="line">  <span class="comment">/* backdrop-filter: var(--backdrop-filter); */</span></span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">saturate</span>(<span class="number">240%</span>) <span class="built_in">blur</span>(<span class="number">35px</span>);</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">50%</span>, <span class="number">50%</span>) <span class="meta">!important</span>;</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">50%</span>, <span class="number">50%</span>) <span class="meta">!important</span>;</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">50%</span>, <span class="number">50%</span>) <span class="meta">!important</span>;</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">50%</span>, <span class="number">50%</span>) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">50%</span>, <span class="number">50%</span>) <span class="meta">!important</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span><span class="selector-class">.hidden</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside-mask</span><span class="selector-class">.hidden</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside-mask</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">99</span>;</span><br><span class="line">  <span class="comment">/* background: rgba(0,0,0,0.6); */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside-config-show</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside-config-hide</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: auto <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>, <span class="number">0</span>) <span class="meta">!important</span>;</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>, <span class="number">0</span>) <span class="meta">!important</span>;</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>, <span class="number">0</span>) <span class="meta">!important</span>;</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>, <span class="number">0</span>) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>, <span class="number">0</span>) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span>&gt;<span class="selector-tag">div</span>&gt;<span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-id">#rightside</span>&gt;<span class="selector-tag">div</span>&gt;<span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--tab-botton-bg);</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  -ms-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  -o-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span>&gt;<span class="selector-tag">div</span>&gt;<span class="selector-tag">button</span><span class="selector-class">.on</span>,</span><br><span class="line"><span class="selector-id">#rightside</span>&gt;<span class="selector-tag">div</span>&gt;<span class="selector-tag">a</span><span class="selector-class">.on</span>,</span><br><span class="line"><span class="selector-tag">html</span><span class="selector-class">.hide-aside</span> <span class="selector-id">#hide-aside-btn</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--white);</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#FF7242</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#FF7242</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span>&gt;<span class="selector-tag">div</span>&gt;<span class="selector-tag">button</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#rightside</span>&gt;<span class="selector-tag">div</span>&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>);</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="built_in">rgb</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>);</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  -ms-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  -o-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#darkmode</span> <span class="selector-tag">i</span><span class="selector-class">.fa-sun</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#FF7242</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#darkmode</span> <span class="selector-tag">i</span><span class="selector-class">.fa-moon</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#FFB449</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#darkmode</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span> linear;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span> linear;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span> linear;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all .<span class="number">3s</span> linear;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span> linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#rightside-header</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#rightside-content</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">4rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#rightside-config-hide</span>,</span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#rightside-config-show</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">4rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1080px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#rightside</span> <span class="selector-id">#rightside-content</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#rightside</span> <span class="selector-id">#rightside-config-hide</span>,</span><br><span class="line">  <span class="selector-id">#rightside</span> <span class="selector-id">#rightside-config-show</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#rightside-close</span>,</span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#rightside-back</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://npm.elemecdn.com/eurkon-cdn/hexo/images/user/pointer.cur</span>), pointer <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#rightside-close</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#rightside-back</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#1677B3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#rightside-title</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">4rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#rightside-content</span>&gt;<span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">max-height</span>: <span class="built_in">calc</span>(<span class="number">90vh</span> - <span class="number">11rem</span>);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--tab-botton-bg);</span><br><span class="line">  <span class="attribute">border-radius</span>: .<span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">margin</span>: .<span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span>;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  -ms-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  -o-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">45</span>, <span class="number">45</span>, <span class="number">45</span>, .<span class="number">05</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.item-headline</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.item-headline</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: .<span class="number">3rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.aside-list</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span>/<span class="number">2</span> - .<span class="number">25rem</span>);</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8rem</span>;</span><br><span class="line">  <span class="attribute">margin</span>: .<span class="number">25rem</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#F2F6FC</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--tab-botton-bg);</span><br><span class="line">  <span class="attribute">border-radius</span>: .<span class="number">5rem</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#card-newest-comments</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">250px</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">250px</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">250px</span>);</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">250px</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">250px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#card-newest-comments</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">margin</span>: .<span class="number">5rem</span> .<span class="number">5rem</span> <span class="number">0</span> .<span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#card-newest-comments</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> <span class="selector-class">.content</span> &#123;</span><br><span class="line">  -webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">padding</span>: .<span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -.<span class="number">5rem</span>;</span><br><span class="line">  -webkit-box-orient: vertical;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#card-newest-comments</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> <span class="selector-class">.content</span> <span class="selector-class">.name</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: .<span class="number">7rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">3rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">9rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#card-newest-comments</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> <span class="selector-class">.content</span> <span class="selector-class">.comment</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#card-newest-comments</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> <span class="selector-class">.content</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.comment</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#1677B3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-recent-post</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-recent-post</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> <span class="selector-class">.thumbnail</span>&gt;<span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">  <span class="attribute">object-fit</span>: cover;</span><br><span class="line">  <span class="attribute">border-radius</span>: .<span class="number">5rem</span> <span class="number">0</span> <span class="number">0</span> .<span class="number">5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-recent-post</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> <span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: .<span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#F2F6FC</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0</span> .<span class="number">5rem</span> .<span class="number">5rem</span> <span class="number">0</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-recent-post</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> <span class="selector-class">.content</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.1rem</span>;</span><br><span class="line">  -webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  -webkit-box-orient: vertical;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">3.5rem</span>;</span><br><span class="line">  <span class="attribute">margin</span>: .<span class="number">5rem</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-recent-post</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span> <span class="selector-class">.content</span> <span class="selector-tag">time</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-recent-post</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.content</span> <span class="selector-tag">time</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-recent-post</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-recent-post</span> <span class="selector-class">.aside-list</span>&gt;<span class="selector-class">.aside-list-item</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.content</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-id">#card-post-content</span> <span class="selector-class">.card-widget</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-flow</span>: wrap;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: .<span class="number">5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> / <span class="number">2</span> - .<span class="number">5rem</span>);</span><br><span class="line">  <span class="attribute">margin-top</span>: .<span class="number">5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: .<span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#F2F6FC</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>);</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  -ms-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  -o-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: visible;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span><span class="selector-class">.card-category-list-name</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span><span class="selector-class">.card-category-list-count</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.5rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">text-align</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span><span class="selector-class">.card-category-list-count</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;篇&#x27;</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: .<span class="number">8</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: .<span class="number">5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-tag-cloud</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.1rem</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0rem</span> .<span class="number">3rem</span>;</span><br><span class="line">  <span class="attribute">margin</span>: .<span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--tab-botton-bg);</span><br><span class="line">  <span class="attribute">border-radius</span>: .<span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#F2F6FC</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>);</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="built_in">rgb</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>);</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -o-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  -ms-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  -o-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">119</span>, <span class="number">179</span>, .<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span> <span class="selector-class">.card-tag-cloud</span> <span class="selector-tag">a</span> <span class="selector-tag">sup</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: .<span class="number">1em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="添加js脚本"><a href="#添加js脚本" class="headerlink" title="添加js脚本"></a>添加js脚本</h1><p>新建source&#x2F;js&#x2F;rightside.js文件，内容如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rightside = &#123;</span><br><span class="line">    <span class="comment">// RightSide设置</span></span><br><span class="line">    <span class="attr">switchRightSide</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;rightside&#x27;</span>)?.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&#x27;hidden&#x27;</span>)</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;rightside-mask&#x27;</span>)?.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&#x27;hidden&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="引入js脚本和css样式"><a href="#引入js脚本和css样式" class="headerlink" title="引入js脚本和css样式"></a>引入js脚本和css样式</h1><p>修改 <mark class="hl-label orange">_config.butterfly.yml</mark> 主题配置文件，修改内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Inject</span><br><span class="line"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # 自定义css</span><br><span class="line"><span class="addition">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/rightside.css&quot;&gt;  #添加的自定义css文件</span></span><br><span class="line">  bottom:</span><br><span class="line">    # 自定义js</span><br><span class="line"><span class="addition">+    - &lt;script async data-pjax src=&quot;/js/rightside.js&quot;&gt;&lt;/script&gt;  #添加的自定义js文件</span></span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">将butterfly博客主题右下角的按钮放到设置面板中，并且适配手机。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>侧边栏微信公众号美化</title>
    <link href="https://blog.shineyu.cn/weixin-gongzonghao-tutorial.html"/>
    <id>https://blog.shineyu.cn/weixin-gongzonghao-tutorial.html</id>
    <published>2023-02-04T12:12:28.000Z</published>
    <updated>2023-02-04T16:39:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这个效果我很喜欢，所以专门写一篇美化教程，希望能帮到一样喜欢这种效果的小伙伴们。鸣谢<a href="https://anzhiy.cn/">安知鱼大佬</a>的指导！</p><h1 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h1><p>效果如下图：</p><img class="inline-img" src="/img/gzht1.webp" style="height:100px"/><img class="inline-img" src="/img/gzht2.webp" style="height:100px"/><h1 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h1><p>找到主题配置文件 <mark class="hl-label orange">_config.butterfly.yml</mark> ，开启侧边栏微信，修改如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  card_announcement:</span><br><span class="line">    enable: false</span><br><span class="line">    content: Welcome to my blog !!! &lt;/br&gt; Here you can find some help documents about my open source projects.</span><br><span class="line">  card_weixin:</span><br><span class="line"><span class="deletion">-    enable: false</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line">  card_recent_post:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 5 # if set 0 will show all</span><br><span class="line">    sort: updated # date or updated</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br></pre></td></tr></table></figure><h1 id="添加pug模板文件"><a href="#添加pug模板文件" class="headerlink" title="添加pug模板文件"></a>添加pug模板文件</h1><p>新建themes&#x2F;butterfly&#x2F;layout&#x2F;includes&#x2F;widget&#x2F;card_weixin.pug，编写如下代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.card_weixin.enable</span><br><span class="line">  .card-widget.anzhiyu-right-widget#card-wechat(onclick=&quot;window.open(&quot;/&quot;)&quot;)</span><br><span class="line">    #flip-wrapper</span><br><span class="line">      #flip-content</span><br><span class="line">        .face</span><br><span class="line">        .back.face</span><br></pre></td></tr></table></figure><p>引入新添加的card_weixin.pug文件，修改themes&#x2F;butterfly&#x2F;layout&#x2F;includes&#x2F;widget&#x2F;index.pug，如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#aside-content.aside-content</span><br><span class="line">  //- post</span><br><span class="line">  if is_post()</span><br><span class="line">    - const tocStyle = page.toc_style_simple</span><br><span class="line">    - const tocStyleVal = tocStyle <span class="comment">=== true || tocStyle === false ? tocStyle : theme.toc.style_simple</span></span><br><span class="line">    if showToc &amp;&amp; tocStyleVal</span><br><span class="line">      .sticky_layout</span><br><span class="line">        include ./card_post_toc.pug</span><br><span class="line">    else</span><br><span class="line">      !=partial(&#x27;includes/widget/card_author&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=partial(&#x27;includes/widget/card_announcement&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+      !=partial(&#x27;includes/widget/card_weixin&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">      !=partial(&#x27;includes/widget/card_top_self&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      .sticky_layout</span><br><span class="line">        if showToc</span><br><span class="line">          include ./card_post_toc.pug</span><br><span class="line">        !=partial(&#x27;includes/widget/card_recent_post&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_ad&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  else</span><br><span class="line">    //- page</span><br><span class="line">    !=partial(&#x27;includes/widget/card_author&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    !=partial(&#x27;includes/widget/card_announcement&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+    !=partial(&#x27;includes/widget/card_weixin&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">    !=partial(&#x27;includes/widget/card_top_self&#x27;, &#123;&#125;, &#123;cache: true&#125;)      </span><br><span class="line"></span><br><span class="line">    .sticky_layout</span><br><span class="line">      if showToc</span><br><span class="line">        include ./card_post_toc.pug</span><br><span class="line">      !=partial(&#x27;includes/widget/card_recent_post&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=partial(&#x27;includes/widget/card_ad&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=partial(&#x27;includes/widget/card_newest_comment&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=partial(&#x27;includes/widget/card_categories&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=partial(&#x27;includes/widget/card_tags&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=partial(&#x27;includes/widget/card_archives&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=partial(&#x27;includes/widget/card_webinfo&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=partial(&#x27;includes/widget/card_bottom_self&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br></pre></td></tr></table></figure><h1 id="新建css样式"><a href="#新建css样式" class="headerlink" title="新建css样式"></a>新建css样式</h1><p>新建source&#x2F;css&#x2F;aside_content_card_widget.css样式，内容添加如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span><span class="selector-id">#card-wechat</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#57bd6a</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-content</span>: center;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">110px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#flip-wrapper</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">perspective</span>: <span class="number">1000</span>;</span><br><span class="line">  <span class="attribute">perspective</span>: <span class="number">1000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#flip-wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">235px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">110px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#flip-content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  -webkit-<span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">  <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="built_in">cubic-bezier</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1.29</span>) <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#flip-wrapper</span> <span class="selector-id">#flip-content</span> <span class="selector-class">.face</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  -webkit-<span class="attribute">backface-visibility</span>: hidden;</span><br><span class="line">  <span class="attribute">backface-visibility</span>: hidden;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">https://img02.anzhiy.cn/adminuploads/1/2022/09/11/631ddb7c9b250.png</span>) center center no-repeat;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#flip-wrapper</span> <span class="selector-id">#flip-content</span> <span class="selector-class">.back</span><span class="selector-class">.face</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">rotateY</span>(<span class="number">180deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(<span class="number">180deg</span>);</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">https://img02.anzhiy.cn/adminuploads/1/2022/09/11/631ddeb0900b7.png</span>) center center no-repeat;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#flip-wrapper</span><span class="selector-pseudo">:hover</span> <span class="selector-id">#flip-content</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">rotateY</span>(<span class="number">180deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(<span class="number">180deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>将 <mark class="hl-label orange">background: url(xxx) center center no-repeat;</mark>  中的xxx换成自己的公众号图片即可，两处的正反图片可以自行尝试。</p><h1 id="引入css"><a href="#引入css" class="headerlink" title="引入css"></a>引入css</h1><p>修改 <mark class="hl-label orange">_config.butterfly.yml</mark> 主题配置文件，修改内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Inject</span><br><span class="line"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # 自定义css</span><br><span class="line"><span class="addition">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/aside_content_card_widget.css&quot;&gt;  #添加的自定义css文件</span></span><br><span class="line">  bottom:</span><br><span class="line">    # 自定义js</span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">博客侧边栏的微信公众号卡片的美化教程，包含翻转卡片的功能。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>个人信息卡片美化</title>
    <link href="https://blog.shineyu.cn/card-author-tutorial.html"/>
    <id>https://blog.shineyu.cn/card-author-tutorial.html</id>
    <published>2023-02-04T10:48:49.000Z</published>
    <updated>2023-02-05T08:13:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>有小伙伴问我用的个人信息卡片怎么做的，今天刚好周末，修复完bug就过来写一篇教程。</p><h1 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h1><p>效果如下图：<br><img src="/img/card-author.webp" width="100px" height="100px"></p><h1 id="新建pug模板"><a href="#新建pug模板" class="headerlink" title="新建pug模板"></a>新建pug模板</h1><p>找到themes\butterfly\layout\includes\widget\card_author.pug文件，因为修改的地方很多，所以直接整个文件都换成如下代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.card_author.enable</span><br><span class="line">  .animate__fadeIn.card-info.card-widget.wow(</span><br><span class="line">    data-wow-delay=&quot;0&quot;</span><br><span class="line">    data-wow-duration=&quot;&quot;</span><br><span class="line">    data-wow-iteration=&quot;&quot;</span><br><span class="line">    data-wow-offset=&quot;&quot;</span><br><span class="line">    style=&quot;visibility: visible; animation-name: fadeIn;&quot;</span><br><span class="line">  )</span><br><span class="line">    .author-info-top</span><br><span class="line">      .card-info-avatar</span><br><span class="line">        a.avatar-img(data-pjax-state=&quot;&quot; href=&quot;/about&quot;)</span><br><span class="line">          img.entered.loaded(</span><br><span class="line">            alt=&quot;avatar&quot;</span><br><span class="line">            src=&quot;https://s3.bmp.ovh/imgs/2022/11/23/129c19d56d22c637.png&quot;</span><br><span class="line">            onerror=&quot;this.onerror=null,this.src=\&quot;/img/friend_404.gif\&quot;&quot;</span><br><span class="line">          )</span><br><span class="line">        .author-status-box</span><br><span class="line">          .author-status</span><br><span class="line">            g-emoji.g-emoji(alias=&quot;palm_tree&quot; fallback-src=&quot;/img/tree_icon.png&quot;) 🌴</span><br><span class="line">            span On vacation</span><br><span class="line">    #author-info__sayhi.author-info__sayhi 晚安😴！我是</span><br><span class="line">    h1.author-info__name Shine</span><br><span class="line">    .author-info__description 热爱生活点滴，分享时刻精彩。</span><br><span class="line">    .banner-button-group</span><br><span class="line">      a.banner-button(data-pjax-state=&quot;&quot; onclick=&quot;pjax.loadUrl(/about/)&quot;)</span><br><span class="line">        i.fa-circle-chevron-right.fa-solid</span><br><span class="line">        span.banner-button-text 了解更多</span><br></pre></td></tr></table></figure><h1 id="新建js脚本"><a href="#新建js脚本" class="headerlink" title="新建js脚本"></a>新建js脚本</h1><p>新建source&#x2F;js&#x2F;card_author.js脚本，内容如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> card_author = &#123;</span><br><span class="line">    <span class="attr">getTimeState</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> e = (<span class="keyword">new</span> <span class="title class_">Date</span>).<span class="title function_">getHours</span>()</span><br><span class="line">          , t = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span> &lt;= e &amp;&amp; e &lt;= <span class="number">5</span> ? t = <span class="string">&quot;晚安😴&quot;</span> : <span class="number">5</span> &lt; e &amp;&amp; e &lt;= <span class="number">10</span> ? t = <span class="string">&quot;早上好👋&quot;</span> : <span class="number">10</span> &lt; e &amp;&amp; e &lt;= <span class="number">14</span> ? t = <span class="string">&quot;中午好👋&quot;</span> : <span class="number">14</span> &lt; e &amp;&amp; e &lt;= <span class="number">18</span> ? t = <span class="string">&quot;下午好👋&quot;</span> : <span class="number">18</span> &lt; e &amp;&amp; e &lt;= <span class="number">24</span> &amp;&amp; (t = <span class="string">&quot;晚上好👋&quot;</span>),</span><br><span class="line">        t</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">sayhi</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> e = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;author-info__sayhi&quot;</span>);</span><br><span class="line">        e &amp;&amp; (e.<span class="property">innerHTML</span> = card_author.<span class="title function_">getTimeState</span>() + <span class="string">&quot;！我是&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">card_author.<span class="title function_">sayhi</span>();</span><br></pre></td></tr></table></figure><h1 id="新建css样式"><a href="#新建css样式" class="headerlink" title="新建css样式"></a>新建css样式</h1><p>新建source&#x2F;css&#x2F;card_author.css中添加个人信息卡片的样式，添加如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/************************************************* 个人资料卡片 *************************************************/</span></span><br><span class="line"><span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-widget</span><span class="selector-pseudo">:first</span>-child &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span> <span class="built_in">url</span>(<span class="string">https://image.anzhiy.cn/adminuploads/1/2022/10/26/6358a07bf21fc.webp</span>) top -<span class="number">24%</span> center no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-id">#aside-content</span>&gt;<span class="selector-class">.card-widget</span><span class="selector-pseudo">:first</span>-child &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#121212</span> <span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span>&gt;<span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span>&gt;<span class="selector-id">#card-info-btn</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span> <span class="selector-class">.author-info-top</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">15px</span> auto <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span> <span class="selector-class">.card-info-avatar</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.avatar-img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.avatar-img</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">4px</span> solid <span class="number">#f7f9fe</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.author-status-box</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">28px</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">28px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d0d7de</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.author-status-box</span> <span class="selector-class">.author-status</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.author-status-box</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">105px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.author-status-box</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.author-status</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">105px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.author-status-box</span> <span class="selector-class">.author-status</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#author-info__sayhi</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e3e8f7</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: auto;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">width</span>: fit-content;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span> <span class="selector-class">.author-info__name</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5em</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span> <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-info</span> <span class="selector-class">.author-info__description</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: -.<span class="number">42em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> <span class="selector-class">.banner-button-group</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-info</span> <span class="selector-class">.banner-button</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: unset <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> <span class="selector-class">.banner-button-group</span> <span class="selector-class">.banner-button</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span> <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#3b70fc</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span> ease <span class="number">0s</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> &gt; <span class="selector-tag">div</span><span class="selector-class">.animate__fadeIn</span><span class="selector-class">.card-info</span><span class="selector-class">.card-widget</span><span class="selector-class">.wow</span> &gt; <span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.57em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> &gt; <span class="selector-tag">div</span><span class="selector-class">.animate__fadeIn</span><span class="selector-class">.card-info</span><span class="selector-class">.card-widget</span><span class="selector-class">.wow</span> &gt; <span class="selector-tag">div</span><span class="selector-class">.banner-button-group</span> &gt; <span class="selector-tag">a</span> &gt; <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: unset;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> <span class="selector-class">.banner-button-group</span> <span class="selector-class">.banner-button</span> <span class="selector-class">.fa-solid</span><span class="selector-class">.fa-circle-chevron-right</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.3rem</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> <span class="selector-class">.banner-button-group</span> <span class="selector-class">.banner-button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#1856fb</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/************************************************* 个人资料卡片 *************************************************/</span></span><br></pre></td></tr></table></figure><h1 id="引入js和css"><a href="#引入js和css" class="headerlink" title="引入js和css"></a>引入js和css</h1><p>修改 <mark class="hl-label orange">_config.butterfly.yml</mark> 主题配置文件，修改内容如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Inject</span><br><span class="line"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # 自定义css</span><br><span class="line"><span class="addition">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/card_author.css&quot;&gt;  #添加的自定义css文件</span></span><br><span class="line">  bottom:</span><br><span class="line">    # 自定义js</span><br><span class="line"><span class="addition">+    - &lt;script async data-pjax src=&quot;/js/card_author.js&quot;&gt;&lt;/script&gt;  #添加的自定义js文件</span></span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">博客侧边栏的个人信息卡片的美化教程，包含问好的功能。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>keil5中找不到或没有对应的芯片怎么办？超详细！！</title>
    <link href="https://blog.shineyu.cn/keil5-find-cpu.html"/>
    <id>https://blog.shineyu.cn/keil5-find-cpu.html</id>
    <published>2023-01-30T14:12:14.000Z</published>
    <updated>2023-01-30T15:20:14.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>所谓超详细，是真的详细，是远古时候写的文章了，现在重新排版一下发布。</p><h1 id="问题介绍"><a href="#问题介绍" class="headerlink" title="问题介绍"></a>问题介绍</h1><p>安装完Keil5之后，有的小伙伴们是不是会发现，为什么新建工程的时候找不到自己想要的CPU型号，如下图：<br><img src="https://img-blog.csdnimg.cn/20191014204751611.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70" alt="需解决问题的图"></p><p>这里就假设要找的CUP型号是三星的S3C2440A，而我刚刚装好的Keil5却怎么也找不到这个型号的芯片。<br>那么，就开始让我们来解决这个问题吧！</p><h1 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h1><p>首先，点击Project–&gt;Manage–&gt;Pack installer…，如下图：<br><img src="https://img-blog.csdnimg.cn/20191014210506189.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70" alt="解答的过程图">也可以点击菜单栏中的小绿盒，如下图：<img src="https://img-blog.csdnimg.cn/20191014210813939.PNG" alt="解答的过程图"></p><p>然后就会弹出 Packs installer 这个窗口，那个提示小窗口就点OK（这个小窗口是介绍和提示那些Devices和Packs等选项卡的用途，那个冒蓝色的网站就是Keil5的官网，后面我们会用到的），如下图：<img src="https://img-blog.csdnimg.cn/20191014212328997.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70" alt="解答过程图"></p><p>点击Pack–&gt;Check For Updates 选项进行更新芯片库，然后在Search栏里搜索S3C2440A，你也可以搜索你想要的芯片型号，如下图：<img src="https://img-blog.csdnimg.cn/20191014212843738.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"><img src="https://img-blog.csdnimg.cn/20191014212857528.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70">  </p><p>左边的Devices栏里显示的是，你下载的Keil5里目前所包含的所有的芯片型号，在这一栏里选择了想要下载的芯片型号之后，右边的Packs栏里就会显示对应型号的芯片包给你下载，选好型号点击后面的install就能进行安装更新了，如下图：下载一个STM32的芯片包来说明，选好芯片之后，我们来到右边的Packs栏中，选好要安装的芯片包，然后点击后面的 install 就能安装了<img src="https://img-blog.csdnimg.cn/20191014220633210.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70" alt="解答过程图"></p><p>点击了 install 之后，我们能看到最底下那栏显示安装的进度条和一些安装的信息等，被我们点击的 install 按钮也变成了灰色的（不能再点击了），这个时候就在安装更新芯片包了，等安装完了，重新打开Keil5，我们新建工程的时候就能使用它了（使用方法跟下面的一样的，滑下去看就可以了），这里我就不等它装完了，我们继续吧！<img src="https://img-blog.csdnimg.cn/20191014220657983.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70">那么这里很明显是没有S3C2440A这个型号的芯片的（搜索了没有搜到）。</p><h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><h2 id="1-下载第三方包"><a href="#1-下载第三方包" class="headerlink" title="1. 下载第三方包"></a>1. 下载第三方包</h2><p>那么这个时候我们就要去MDK（Keil5）的官网去找以前的旧版本的芯片包下载下来看看有没有了，我们知道，这个S3C2440A的芯片型号是ARM9系列的一个芯片型号，那么我们去官网看看有没有ARM9的芯片包吧，点击这个链接<a href="https://www2.keil.com/mdk5">https://www2.keil.com/mdk5</a>，或者去百度搜索MDK，进入网站后点MDK v4 Legacy Support 这个选项，这个选项的意思是旧版本的（芯片包）支持包，如下图：<br>ps：这个官网是很卡的，下载也很卡，忍住忍住，我也等了很久才打开网页…<br><img src="https://img-blog.csdnimg.cn/201910142238140.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70" alt="解决过程图"><img src="https://img-blog.csdnimg.cn/20191014223834256.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70">进去之后看到果然有arm9的（芯片包）支持包下载，那么我们就来看看这么下载吧！</p><p>我的Keil5版本号是5.25的，所以我要点选 Version 5.25 ，你们也要对应你们安装的Keil5的版本进行选择，然后就会弹出下载窗口，选择下载路径就行了，如下图：<br>右边的包里我们就看到有包含arm9系列的（芯片包）支持包，所以我们就选择下载右边的（芯片包）支持包吧！<br>右边这个包的意思是，里边包含Arm7系列，Arm9系列和Cortex-R系列的（芯片包）支持包！<img src="https://img-blog.csdnimg.cn/20191014224147339.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70">我们选择好路径点击下载就行了<img src="https://img-blog.csdnimg.cn/20191014224550360.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70">以防有小伙伴不知道选哪个版本号好点，这里我就教一下大家怎么去查看我们Keil5版本号的方法，如图：<img src="https://img-blog.csdnimg.cn/20191014225139492.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"><br>在这里就能很清楚的知道我们自己安装的Keil5是什么版本的啦！按照这个版本号，然后去网站上选择对应的选项下载就行啦！<img src="https://img-blog.csdnimg.cn/20191014225149666.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"></p><h2 id="2-安装第三方包"><a href="#2-安装第三方包" class="headerlink" title="2. 安装第三方包"></a>2. 安装第三方包</h2><p>下载完之后，我们就点开下载好的芯片包，那么接下来的操作步骤就如下图所示：<br>打开下载好的安装包，点击Next继续<br><img src="https://img-blog.csdnimg.cn/20191014225828312.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"><br>勾上同意，然后点击Next继续<br><img src="https://img-blog.csdnimg.cn/20191014225838100.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"><br>因为我装过一次，所以路径显示的是Backup.002，你们第一次装都是Backup.001的，上面那个安装的目录路径就选择你的Keil5目录就行，安装在同一文件夹下，我选的路径就是我Keil5所在的文件夹（就是你Keil5装在哪，这个就装在哪）<br><img src="https://img-blog.csdnimg.cn/20191014225846219.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"><br>下面随便填就行，点Next就安装了<br><img src="https://img-blog.csdnimg.cn/20191014225853566.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"></p><h2 id="3-测试试用"><a href="#3-测试试用" class="headerlink" title="3. 测试试用"></a>3. 测试试用</h2><p>现在就大功告成，就差试用啦，我们来看看好不好用吧！<br>安装完之后打开Keil5，然后新建一个工程，选择芯片，如下图：<br>第一条红线是选择芯片包，这个是默认的，也就是Keil5安装下来自带的，最新的芯片包，这个包里很明显是没有我们想要的S3C2440A芯片<br><img src="https://img-blog.csdnimg.cn/20191014230947423.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"><br>然后我们点选第二个，也就是我们刚刚安装进去的旧版本的（芯片包）支持包，然后找找看有没有我们要的芯片型号吧！<br><img src="https://img-blog.csdnimg.cn/20191014230959173.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"><br>哇哦！还真的有！大功告成！选择好S3C2440A型号，点击OK，创建一个用于开发S3C2440A芯片的工程吧！<br><img src="https://img-blog.csdnimg.cn/20191014231010369.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"><br>这里是问要不要添加启动代码，我们当然选择是呀，不然怎么启动芯片呀！<br><img src="https://img-blog.csdnimg.cn/20191014231053928.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"></p><h1 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h1><p>最后成果展现，新鲜出炉的，用于开发S3C2440A的一个崭新的工程！开始你们指尖上的舞蹈吧（疯狂码代码！）！！<br><img src="https://img-blog.csdnimg.cn/20191014231128288.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"></p>]]></content>
    
    
    <summary type="html">安装完Keil5之后，有的小伙伴们是不是会发现，为什么新建工程的时候找不到自己想要的CUP型号。</summary>
    
    
    
    <category term="问题笔记" scheme="https://blog.shineyu.cn/categories/%E9%97%AE%E9%A2%98%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>C语言sizeof函数之平常所忽略的细节</title>
    <link href="https://blog.shineyu.cn/c-sizeof.html"/>
    <id>https://blog.shineyu.cn/c-sizeof.html</id>
    <published>2023-01-30T11:03:41.000Z</published>
    <updated>2023-01-30T11:03:41.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本文章不从头说起sizeof，只讨论sizeof的一些细节问题。</p><h1 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h1><p>是关于sizeof的，题目如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">3</span>；</span><br><span class="line"><span class="type">int</span> b；</span><br><span class="line">b = <span class="keyword">sizeof</span>（++a + ++a）；</span><br><span class="line"><span class="built_in">printf</span>（“%d， %d”， a， b）；</span><br></pre></td></tr></table></figure><blockquote><p>（对于64或32位机）答案：3， 4</p></blockquote><p>为什么？为啥a是3？它不是自加了两次吗？<br>本人做完题之后马上上网查阅有关sizeof的相关技术文档，让我想起了sizeof的一些细节：<strong>sizeof对它的操作数，也就是操作对象，它是不给予运算的，也就是不会产生副作用。</strong>  </p><blockquote><p>副作用：b &#x3D; a+3； 这条表达式的副作用就是b的值被修改为该表达式的值，该表达式的值是a+3，这就是副作用。</p></blockquote><p>也就是说，不管你sizeof后跟的表达式对产生怎样的副作用，sizeof它只求该表达式的值，sizeof所求的值不是普通的数据运算，它所求的值是这个表达式最终会变成什么类型，它只求这个。  </p><p>说的很懵，先上基础图：<img src="https://img-blog.csdnimg.cn/20191120163507592.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70" alt="基础图"><br>有了这个基础，再看看下面的测试结果。</p><p>下面这两张图是测试说明，sizeof后跟的表达式不会产生副作用。<br><img src="https://img-blog.csdnimg.cn/20191120163637821.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70" alt="sizeof测试"><img src="https://img-blog.csdnimg.cn/20191120163646962.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70" alt="sizeof测试"></p><p>这张图就用到了上面的基础类型自动转换的知识，在a+c这个表达式中，a是int，c是double，而a+c经过运算之后，最终这个a+c的类型就会自动转换成double型，而这个double就是sizeof想要的最终值，其他的工作，例如产生副作用这样的事它不干，接着看下面的图：<img src="https://img-blog.csdnimg.cn/20191120163705130.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"></p><p>下面两张测试图可以很明显的看出，sizeof根本不会让a&#x3D;a+c这个表达式产生副作用，使a等于a+c的值。<br>它只关心这条a&#x3D;a+c表达式运算完后，最终的类型结果是什么，这才是它想要的。<br><img src="https://img-blog.csdnimg.cn/20191120164433254.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"><img src="https://img-blog.csdnimg.cn/20191120164441746.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2Njg3MTUz,size_16,color_FFFFFF,t_70"></p><p><strong>总结：sizeof后跟表达式时，它只关心该表达式运算完后 (相应的类型自动转换完后) 是什么类型，然后对该最终类型进行计算字节大小并返回size_t（无符号整形）类型的值给变量b，<mark class="hl-label orange">不对表达式产生副作用</mark> 。</strong></p>]]></content>
    
    
    <summary type="html">hexo教程，实现页脚的随机友链功能。</summary>
    
    
    
    <category term="问题笔记" scheme="https://blog.shineyu.cn/categories/%E9%97%AE%E9%A2%98%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="刷题" scheme="https://blog.shineyu.cn/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客添加自定义css和js文件</title>
    <link href="https://blog.shineyu.cn/Add-custom-css-and-js-files.html"/>
    <id>https://blog.shineyu.cn/Add-custom-css-and-js-files.html</id>
    <published>2023-01-28T14:37:11.000Z</published>
    <updated>2023-01-28T14:37:11.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>就算再简单的教程，也要坚持发布，不要因为简单而忽略，不积硅步无以成江河~<br>希望能帮到有需要的小伙伴呀~！</p><h1 id="如何引入自己写的js脚本"><a href="#如何引入自己写的js脚本" class="headerlink" title="如何引入自己写的js脚本"></a>如何引入自己写的js脚本</h1><p>在source文件夹下，新建 <mark class="hl-label orange">js</mark> 文件夹，在js文件夹中新建js脚本，编写自己的custom.js脚本，写完后，在主题配置文件 <mark class="hl-label orange">_config.butterfly.yml</mark> 中引入刚刚新建的custom.js自定义脚本，添加内容如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment"># 自定义css</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="comment"># 自定义js</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;/js/custom.js&quot;&gt;&lt;/script&gt;</span>  <span class="comment">#添加的自定义js文件</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="如何引入自己写的css样式"><a href="#如何引入自己写的css样式" class="headerlink" title="如何引入自己写的css样式"></a>如何引入自己写的css样式</h1><p>在source文件夹下，新建 <mark class="hl-label orange">css</mark> 文件夹，在css文件夹中新建css样式，编写自己的custom.css样式，写完后，在主题配置文件 <mark class="hl-label orange">_config.butterfly.yml</mark> 中引入刚刚新建的custom.css自定义样式，添加内容如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment"># 自定义css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;&gt;</span>  <span class="comment">#添加的自定义css文件</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="comment"># 自定义js</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;/js/custom.js&quot;&gt;&lt;/script&gt;</span>  <span class="comment">#添加的自定义js文件</span></span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">hexo教程，讲解怎么引入自定义的css和js文件到博客系统中。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>页脚美化</title>
    <link href="https://blog.shineyu.cn/beautify-footer.html"/>
    <id>https://blog.shineyu.cn/beautify-footer.html</id>
    <published>2023-01-28T11:52:50.000Z</published>
    <updated>2023-02-05T08:13:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>因为有挺多小伙伴问我页脚的美化问题，所以在这里特意出一篇文章，希望能帮助到有需要的小伙伴们~！</p><h1 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h1><p>效果如下图：<br><img src="/img/beautify-footer-pre.webp" width="400px" height="100px"></p><h1 id="修改pug"><a href="#修改pug" class="headerlink" title="修改pug"></a>修改pug</h1><p>修改文件themes\butterfly\layout\includes\footer.pug，因为修改的地方过多，所以将下面的内容覆盖文件全文即可：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">#footer_deal</span><br><span class="line">  a.deal_link(href=&quot;mailto:shine.yulingle@gmail.com&quot; title=&quot;mail&quot;)</span><br><span class="line">    svg.icon.footer-mail.iconfont.icon-youjian(onclick=`mailto:shine.yulingle@gmail.com`,title=&quot;mail&quot;)</span><br><span class="line">      use(xlink:href=&quot;#icon-youjian&quot;)</span><br><span class="line">  a.deal_link(href=&quot;https://github.com/Shineyull&quot; title=&quot;github&quot;  target=&quot;_blank&quot;)</span><br><span class="line">    svg.icon.footer-github.iconfont.icon-github(onclick=`https://github.com/Shineyull`,title=&quot;github&quot;)</span><br><span class="line">      use(xlink:href=&quot;#icon-github&quot;)</span><br><span class="line">  img.footer_mini_logo.entered.loading(style=&quot;border-radius:50%&quot; src=&#x27;/img/shineyu_avatar.webp&#x27; onclick=&quot;btf.scrollToDest(0,500)&quot; title=&quot;Go top&quot;)</span><br><span class="line">  a.deal_link(href=&quot;https://dribbble.com/shineyu&quot; title=&quot;dribbble&quot;)</span><br><span class="line">    svg.icon.footer-dribbble.iconfont.icon-dribbble-circle-fill(onclick=`https://dribbble.com/shineyu`,title=&quot;dribbble&quot;)</span><br><span class="line">      use(xlink:href=&quot;#icon-dribbble-circle-fill&quot;)</span><br><span class="line">  a.deal_link(href=&quot;https://www.pinterest.com/shineyulingle/&quot; title=&quot;pinterest&quot; target=&quot;_blank&quot;)</span><br><span class="line">    svg.icon.footer-pinterest.iconfont.icon-pinterestpinterest30(onclick=`https://www.pinterest.com/shineyulingle/`,title=&quot;pinterest&quot;)</span><br><span class="line">      use(xlink:href=&quot;#icon-pinterestpinterest30&quot;)</span><br><span class="line">#Jay-footer</span><br><span class="line">  .footer-group</span><br><span class="line">    h3.footer-title 推荐✨</span><br><span class="line">    .footer-links</span><br><span class="line">      a.footer-item(href=&quot;/about/&quot;) 我的主页</span><br><span class="line">      a.footer-item(href=&quot;/music/&quot;) 我的音乐</span><br><span class="line">      a.footer-item(href=&quot;/mybook/&quot;) 我的书籍</span><br><span class="line">  .footer-group</span><br><span class="line">    h3.footer-title 生活</span><br><span class="line">    .footer-links</span><br><span class="line">      a.footer-item(href=&quot;/categories/生活/&quot;) 生活页面</span><br><span class="line">      a.footer-item(href=&quot;/video/&quot;) 视频播放</span><br><span class="line">  .footer-group</span><br><span class="line">    h3.footer-title 网站</span><br><span class="line">    .footer-links</span><br><span class="line">      a.footer-item(href=&quot;https://shineyu.cn/&quot;) 个人主页</span><br><span class="line">      a.footer-item(href=&quot;/link/&quot;) 友情链接</span><br><span class="line">  .footer-group</span><br><span class="line">    h3.footer-title 导航</span><br><span class="line">    .footer-links</span><br><span class="line">      a.footer-item(href=&quot;/myshared&quot;) 分享页面</span><br><span class="line">      a.footer-item(href=&quot;/atom.xml&quot;) RSS订阅</span><br><span class="line">  .footer-group</span><br><span class="line">    h3.footer-title 协议</span><br><span class="line">    .footer-links</span><br><span class="line">      a.footer-item(href=&quot;/privacy/&quot;) 隐私协议</span><br><span class="line">      a.footer-item(href=&quot;/cookies/&quot;) Cookies</span><br><span class="line">      a.footer-item(href=&quot;/cc/&quot;) 版权协议</span><br><span class="line">  .footer-group</span><br><span class="line">    h3.footer-title</span><br><span class="line">      | 友链 </span><br><span class="line">      button(</span><br><span class="line">        href=&quot;javascript:;&quot;</span><br><span class="line">        onclick=&quot;shine.randomLink()&quot;</span><br><span class="line">        title=&quot;换一批&quot;</span><br><span class="line">        class=&quot;fa-rotate-righ-button&quot;</span><br><span class="line">      )</span><br><span class="line">        i.fa-rotate-right.fa-solid</span><br><span class="line">    .footer-links#friend-links-in-footer</span><br><span class="line">      a.footer-item(href=&quot;&quot;)</span><br><span class="line">      a.footer-item(href=&quot;&quot;)</span><br><span class="line">      a.footer-item(href=&quot;&quot;)</span><br><span class="line">      a.footer-item(href=&quot;&quot;)</span><br><span class="line">      a.footer-item(href=&quot;&quot;)</span><br><span class="line">      a.footer-item(data-pjax-state=&quot;&quot; href=&quot;/link/&quot;) 查看更多</span><br><span class="line">#footer-banner</span><br><span class="line">  .footer-banner-links</span><br><span class="line">    .footer-banner-left</span><br><span class="line">        #footer-banner-tips</span><br><span class="line">          .copyright ©2022 - 2023 By </span><br><span class="line">            a.footer-banner-link(</span><br><span class="line">              href=&quot;https://shineyu.cn/&quot;</span><br><span class="line">              rel=&quot;external nofollow&quot;</span><br><span class="line">              target=&quot;_blank&quot;</span><br><span class="line">            ) Shine</span><br><span class="line">        //- script(src=&#x27;https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js&#x27;)</span><br><span class="line">        //- script.</span><br><span class="line">        //-   var typed = new Typed(&quot;#footer-banner-tips&quot;, &#123;</span><br><span class="line">        //-     strings: [&quot;Hi, I&#x27;m Shine.&quot;, &quot;Never forget, there will be echoes.&quot;],</span><br><span class="line">        //-     startDelay: 200,</span><br><span class="line">        //-     backDelay: 2000,</span><br><span class="line">        //-     typeSpeed: 100,</span><br><span class="line">        //-     loop: true,</span><br><span class="line">        //-     backSpeed: 20</span><br><span class="line">        //-   &#125;)</span><br><span class="line"></span><br><span class="line">    .footer-banner-right</span><br><span class="line">      a.footer-banner-link(href=&quot;/atom.xml&quot; title=&quot;RSS&quot;) 订阅</span><br><span class="line">      a.footer-banner-link(href=&quot;/about/&quot; title=&quot;about&quot;) 关于</span><br><span class="line">      a.footer-banner-link.cc(href=&quot;/cc/&quot; title=&quot;ccProtocol&quot;) 协议</span><br></pre></td></tr></table></figure><h1 id="添加css样式"><a href="#添加css样式" class="headerlink" title="添加css样式"></a>添加css样式</h1><p>新建文件source\css\footer.css，内容如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br></pre></td><td class="code"><pre><span class="line">#footer-wrap &#123;</span><br><span class="line">    color: #363636</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap a &#123;</span><br><span class="line">    color: #363636;</span><br><span class="line">    height: 44px;</span><br><span class="line">    line-height: 36px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap a:hover &#123;</span><br><span class="line">    color: #425AEF;</span><br><span class="line">    background-color: #00000000;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div#footer_deal &#123;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    display: flex;</span><br><span class="line">    padding-top: 2rem;</span><br><span class="line">    align-items: center</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media screen and (max-width: 768px) &#123;</span><br><span class="line">    img.footer_mini_logo &#123;</span><br><span class="line">        display: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    div#footer_deal &#123;</span><br><span class="line">        flex-wrap: wrap;</span><br><span class="line">        flex-direction: row</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a.deal_link &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    margin: 1rem 27px;</span><br><span class="line">    color: #fff;</span><br><span class="line">    border-radius: 3rem;</span><br><span class="line">    width: 32px;</span><br><span class="line">    height: 32px;</span><br><span class="line">    background: var(--font-color);</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">    transition: .3s</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a.deal_link:hover &#123;</span><br><span class="line">    color: #fff;</span><br><span class="line">    background: #425AEF</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">img.footer_mini_logo &#123;</span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    margin: 0 1rem;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    /*filter: drop-shadow(0 12px 12px #ee7d7936);*/</span><br><span class="line">    transition: cubic-bezier(0, 0, 0, 1.29) .5s</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">img.footer_mini_logo:hover &#123;</span><br><span class="line">    -webkit-backface-visibility: hidden;</span><br><span class="line">    -webkit-transform-style: preserve-3d</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media screen and (min-width: 1300px) &#123;</span><br><span class="line">    img.footer_mini_logo:hover &#123;</span><br><span class="line">        transform: scale(1.03)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    img.footer_mini_logo:active &#123;</span><br><span class="line">        transform: scale(.97)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#weblogo &#123;</span><br><span class="line">    align-self: center</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap a#Jayblog_footerlogo:hover &#123;</span><br><span class="line">    background: #00000000</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.Jayblog_footerlogo_img &#123;</span><br><span class="line">    filter: drop-shadow(0 12px 12px #ee7d7936)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.Jayblog_footerlogo_img:hover &#123;</span><br><span class="line">    transform: scale(1.03)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer &#123;</span><br><span class="line">    background: linear-gradient(180deg, #f7f9fe 0, #fff 25%);</span><br><span class="line">    margin-top: 1rem;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media screen and (max-width: 768px) &#123;</span><br><span class="line">    #footer &#123;</span><br><span class="line">        background: linear-gradient(180deg, #f7f9fe 0, #fff 25%);</span><br><span class="line">        margin-top: 0;</span><br><span class="line">        z-index: 1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=dark] #footer:before, [data-theme=dark] #page-header:before, [data-theme=dark] #web_bg:before &#123;</span><br><span class="line">    background-color: #00000000 !important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media screen and (max-width: 768px) &#123;</span><br><span class="line">    #letlink &#123;</span><br><span class="line">        flex-direction: column !important;</span><br><span class="line">        text-align: center !important</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #letlogo &#123;</span><br><span class="line">        display: none !important</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #footer-wrap &#123;</span><br><span class="line">        margin-top: 1rem !important</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.footer-banner-right &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: row;</span><br><span class="line">    flex-wrap: wrap</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">    padding: 20px 50px 0 50px;</span><br><span class="line">    text-align: left !important;</span><br><span class="line">    max-width: 1200px;</span><br><span class="line">    margin: 0 auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap h1 &#123;</span><br><span class="line">    font-size: 1.5rem;</span><br><span class="line">    margin: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap h3 &#123;</span><br><span class="line">    padding: 0 12px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap p &#123;</span><br><span class="line">    margin: 0 0 0 .2rem;</span><br><span class="line">    font-size: .8rem;</span><br><span class="line">    opacity: .8</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap i &#123;</span><br><span class="line">    margin-right: .5rem;</span><br><span class="line">    width: 22px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap #letlogo &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    /*margin-right: 60px;*/</span><br><span class="line">    align-self: center;</span><br><span class="line">    margin: auto 0;</span><br><span class="line">    max-width: 200px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap #letlink .link_group &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    margin-right: 20px;</span><br><span class="line">    min-width: 180px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-wrap #letlink &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: row;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">    margin: 0 0 1rem 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#weblogo i &#123;</span><br><span class="line">    font-size: 2rem;</span><br><span class="line">    line-height: 2rem;</span><br><span class="line">    letter-spacing: -10px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer:before &#123;</span><br><span class="line">    position: absolute !important;</span><br><span class="line">    width: 100% !important;</span><br><span class="line">    height: 100% !important;</span><br><span class="line">    content: &#x27;&#x27; !important;</span><br><span class="line">    z-index: -1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#Jay-footer .footer-links &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#Jay-footer &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: row;</span><br><span class="line">    width: 100%;</span><br><span class="line">    max-width: 1200px;</span><br><span class="line">    margin: 1rem auto;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    margin-bottom: 3rem;</span><br><span class="line">    padding: 0 1rem</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#Jay-footer .footer-item &#123;</span><br><span class="line">    font-size: 1rem;</span><br><span class="line">    line-height: .8rem;</span><br><span class="line">    margin: .38rem 0;</span><br><span class="line">    color: #363636;</span><br><span class="line">    /*margin-right: auto*/</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#Jay-footer .footer-item:hover &#123;</span><br><span class="line">    color: #425AEF</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#Jay-footer .footer-group &#123;</span><br><span class="line">    min-width: 120px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#Jay-footer .footer-title &#123;</span><br><span class="line">    color: rgba(60, 60, 67, 0.6);</span><br><span class="line">    font-size: 1rem</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-banner &#123;</span><br><span class="line">    padding: 1rem;</span><br><span class="line">    color: #fff;</span><br><span class="line">    font-size: 1rem;</span><br><span class="line">    margin-top: 1rem;</span><br><span class="line">    display: flex;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    z-index: 1002;</span><br><span class="line">    transition: .3s;</span><br><span class="line">    /*border-top: var(--style-border)*/</span><br><span class="line">    background: linear-gradient(208deg,#4584ff 0,#4584ff 11%,#ff7676 100%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=dark] #footer-banner &#123;</span><br><span class="line">    background: #30343f</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-banner .footer-banner-links &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    max-width: 1400px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    align-items: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-banner .footer-banner-left &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    min-height: 32px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-banner .footer-banner-link &#123;</span><br><span class="line">    margin-right: 1rem;</span><br><span class="line">    color: #fff;</span><br><span class="line">    font-size: 1rem;</span><br><span class="line">    font-weight: 700;</span><br><span class="line">    white-space: nowrap</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-banner .footer-banner-link.cc &#123;</span><br><span class="line">    margin-right: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-banner .footer-banner-link.cc i &#123;</span><br><span class="line">    margin-right: .5rem</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-banner .footer-banner-link:hover &#123;</span><br><span class="line">    color: #425AEF</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-banner &gt; div &gt; div.footer-banner-left &gt; span &#123;</span><br><span class="line">    margin-right: 1rem</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer-banner .footer-banner-right a:hover &#123;</span><br><span class="line">    color: #425AEF</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer_deal i &#123;</span><br><span class="line">    font-size: 1.6rem;</span><br><span class="line">    transition: .3s;</span><br><span class="line">    line-height: 1.3rem;</span><br><span class="line">    height: 1.3rem</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.footer-github &#123;</span><br><span class="line">    font-size: 1.3rem;</span><br><span class="line">    line-height: 1.3rem;</span><br><span class="line">    height: 1.3rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.footer-dribbble &#123;</span><br><span class="line">    font-size: 1.5rem;</span><br><span class="line">    line-height: 1.5rem;</span><br><span class="line">    height: 1.5rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.footer-pinterest &#123;</span><br><span class="line">    font-size: 1.3rem;</span><br><span class="line">    line-height: 1.3rem;</span><br><span class="line">    height: 1.3rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.footer-mail &#123;</span><br><span class="line">    font-size: 1.3rem;</span><br><span class="line">    line-height: 1.3rem;</span><br><span class="line">    height: 1.3rem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="引入css"><a href="#引入css" class="headerlink" title="引入css"></a>引入css</h1><p>在主题的配置文件_config.butterfly.yml中，添加如下内容：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Inject</span><br><span class="line"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # 自定义css</span><br><span class="line"><span class="addition">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/footer.css&quot;&gt;</span></span><br><span class="line">  bottom:</span><br><span class="line">    # 自定义js</span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">hexo教程，美化博客的页脚样式。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="热门文章" scheme="https://blog.shineyu.cn/tags/%E7%83%AD%E9%97%A8%E6%96%87%E7%AB%A0/"/>
    
  </entry>
  
  <entry>
    <title>页脚的随机友链</title>
    <link href="https://blog.shineyu.cn/footer-random-flink.html"/>
    <id>https://blog.shineyu.cn/footer-random-flink.html</id>
    <published>2023-01-27T17:02:13.000Z</published>
    <updated>2023-02-05T04:23:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p> 需要先更换成<a href="https://blog.shineyu.cn/beautify-footer.html">新美化的页脚</a>再往下看，因为挺多小伙伴问我这个功能是怎么实现的，所以今天把bug修的差不多了，我就来写一遍小教程，希望能帮助到有需要的小伙伴们。鸣谢<a href="https://blog.leonus.cn/">Leonus大佬</a>提供的脚本代码😁!!!</p><h1 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h1><p>效果如下图：<br><img src="/img/footer-random.webp" width="100px" height="100px"></p><h1 id="添加js功能"><a href="#添加js功能" class="headerlink" title="添加js功能"></a>添加js功能</h1><h2 id="1-生成友链数据的功能实现"><a href="#1-生成友链数据的功能实现" class="headerlink" title="1. 生成友链数据的功能实现"></a>1. 生成友链数据的功能实现</h2><p>博客项目的根目录下新建link.js文件，用于生成友链数据，文件代码如下：</p><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">无友链范围限制</button></li><li class="tab"><button type="button" data-href="#test4-2">有友链范围限制</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">YML</span> = <span class="built_in">require</span>(<span class="string">&#x27;yamljs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ls   = [],</span><br><span class="line">    data = <span class="variable constant_">YML</span>.<span class="title function_">parse</span>(fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;source/_data/link.yml&#x27;</span>).<span class="title function_">toString</span>().<span class="title function_">replace</span>(<span class="regexp">/(?&lt;=rss:)\s*\n/g</span>, <span class="string">&#x27; &quot;&quot;\n&#x27;</span>));</span><br><span class="line"></span><br><span class="line">data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">e, i</span>) =&gt;</span> &#123;</span><br><span class="line">    ls = ls.<span class="title function_">concat</span>(e.<span class="property">link_list</span>)  <span class="comment">//获取link.yml文件内所有的数据</span></span><br><span class="line">&#125;);</span><br><span class="line">fs.<span class="title function_">writeFileSync</span>(<span class="string">&#x27;source/link.json&#x27;</span>, <span class="string">`&#123;&quot;link_list&quot;: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(ls)&#125;</span>,&quot;length&quot;:<span class="subst">$&#123;ls.length&#125;</span>&#125;`</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;友链文件已生成。&#x27;</span>);</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">YML</span> = <span class="built_in">require</span>(<span class="string">&#x27;yamljs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ls   = [],</span><br><span class="line">    data = <span class="variable constant_">YML</span>.<span class="title function_">parse</span>(fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;source/_data/link.yml&#x27;</span>).<span class="title function_">toString</span>().<span class="title function_">replace</span>(<span class="regexp">/(?&lt;=rss:)\s*\n/g</span>, <span class="string">&#x27; &quot;&quot;\n&#x27;</span>));</span><br><span class="line"></span><br><span class="line">data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">e, i</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> j = data.<span class="property">length</span>-<span class="number">1</span>;  <span class="comment">//获取友链数组的范围（除了最后一栏，前面的都获取）</span></span><br><span class="line">    <span class="keyword">if</span> (i != j) ls = ls.<span class="title function_">concat</span>(e.<span class="property">link_list</span>) </span><br><span class="line">&#125;);</span><br><span class="line">fs.<span class="title function_">writeFileSync</span>(<span class="string">&#x27;source/link.json&#x27;</span>, <span class="string">`&#123;&quot;link_list&quot;: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(ls)&#125;</span>,&quot;length&quot;:<span class="subst">$&#123;ls.length&#125;</span>&#125;`</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;友链文件已生成。&#x27;</span>);</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>将link.js脚本放至博客根目录<br>使用node运行link.js脚本来生成友链的json数据</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">在博客根目录下运行下面命令，运行完会生成json格式的友链数据</span></span><br><span class="line">npm i yamljs  #安装依赖的yamljs模块</span><br><span class="line">node link.js  #生成友链json数据</span><br></pre></td></tr></table></figure><p>运行后，在source目录下会生成一个link.json文件，里面就是json格式的友链数据。</p><h2 id="2-保存-x2F-读取友链数据的功能实现"><a href="#2-保存-x2F-读取友链数据的功能实现" class="headerlink" title="2. 保存&#x2F;读取友链数据的功能实现"></a>2. 保存&#x2F;读取友链数据的功能实现</h2><p>新建source&#x2F;js&#x2F;flink_random.js文件，添加内容如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flink_random = &#123;</span><br><span class="line">    <span class="attr">saveData</span>: <span class="function">(<span class="params">e,t</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(e, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">            <span class="attr">time</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(),</span><br><span class="line">            <span class="attr">data</span>: t</span><br><span class="line">        &#125;))</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">loadData</span>: <span class="function">(<span class="params">e,t</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> n = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(e));</span><br><span class="line">        <span class="keyword">if</span> (n) &#123;</span><br><span class="line">            <span class="keyword">let</span> e = <span class="title class_">Date</span>.<span class="title function_">now</span>() - n.<span class="property">time</span>;</span><br><span class="line">            <span class="keyword">if</span> (e &lt; <span class="number">60</span> * t * <span class="number">1e3</span> &amp;&amp; e &gt; -<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> n.<span class="property">data</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">randomLink</span>: <span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> e = flink_random.<span class="title function_">loadData</span>(<span class="string">&quot;links&quot;</span>, <span class="number">30</span>);</span><br><span class="line">        <span class="keyword">if</span> (e) &#123;</span><br><span class="line">            <span class="keyword">let</span> t = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#friend-links-in-footer .footer-item&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (!t.<span class="property">length</span>)</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> n = <span class="number">0</span>; n &lt; <span class="number">5</span>; n++) &#123;</span><br><span class="line">                <span class="keyword">let</span> o = <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * e.<span class="property">length</span>);</span><br><span class="line">                t[n].<span class="property">innerText</span> = e[o].<span class="property">name</span>,</span><br><span class="line">                t[n].<span class="property">href</span> = e[o].<span class="property">link</span>,</span><br><span class="line">                e.<span class="title function_">splice</span>(o, <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title function_">fetch</span>(<span class="string">&quot;/link.json&quot;</span>).<span class="title function_">then</span>((<span class="function"><span class="params">e</span>=&gt;</span>e.<span class="title function_">json</span>())).<span class="title function_">then</span>((<span class="function"><span class="params">e</span>=&gt;</span>&#123;</span><br><span class="line">                flink_random.<span class="title function_">saveData</span>(<span class="string">&quot;links&quot;</span>, e.<span class="property">link_list</span>),</span><br><span class="line">                flink_random.<span class="title function_">randomLink</span>()</span><br><span class="line">            &#125;</span><br><span class="line">            ))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">flink_random.<span class="title function_">randomLink</span>();</span><br></pre></td></tr></table></figure><h1 id="修改pug模板"><a href="#修改pug模板" class="headerlink" title="修改pug模板"></a>修改pug模板</h1><p>找到themes\butterfly\layout\includes\footer.pug，修改内容如下</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">  .footer-group</span><br><span class="line">    h3.footer-title</span><br><span class="line">      | 友链 </span><br><span class="line">      button(</span><br><span class="line">        href=&quot;javascript:;&quot;</span><br><span class="line"><span class="deletion">-        onclick=&quot;shine.randomLink()&quot;</span></span><br><span class="line"><span class="addition">+        onclick=&quot;flink_random.randomLink()&quot;</span></span><br><span class="line">        title=&quot;换一批&quot;</span><br><span class="line">        class=&quot;fa-rotate-righ-button&quot;</span><br><span class="line">      )</span><br><span class="line">        i.fa-rotate-right.fa-solid</span><br><span class="line">    .footer-links#friend-links-in-footer</span><br><span class="line">      a.footer-item(href=&quot;&quot;)</span><br><span class="line">      a.footer-item(href=&quot;&quot;)</span><br><span class="line">      a.footer-item(href=&quot;&quot;)</span><br><span class="line">      a.footer-item(href=&quot;&quot;)</span><br><span class="line">      a.footer-item(href=&quot;&quot;)</span><br><span class="line">      a.footer-item(data-pjax-state=&quot;&quot; href=&quot;/link/&quot;) 查看更多</span><br></pre></td></tr></table></figure><h1 id="引入js脚本"><a href="#引入js脚本" class="headerlink" title="引入js脚本"></a>引入js脚本</h1><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Inject</span><br><span class="line"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # 自定义css</span><br><span class="line">  bottom:</span><br><span class="line">    # 自定义js</span><br><span class="line"><span class="addition">+    - &lt;script async data-pjax src=&quot;/js/flink_random.js&quot;&gt;&lt;/script&gt;  #添加的自定义js文件</span></span><br></pre></td></tr></table></figure><h1 id="Hexo三连"><a href="#Hexo三连" class="headerlink" title="Hexo三连"></a>Hexo三连</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">hexo教程，实现页脚的随机友链功能。</summary>
    
    
    
    <category term="博客相关" scheme="https://blog.shineyu.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="Hexo" scheme="https://blog.shineyu.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://blog.shineyu.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="热门文章" scheme="https://blog.shineyu.cn/tags/%E7%83%AD%E9%97%A8%E6%96%87%E7%AB%A0/"/>
    
  </entry>
  
  <entry>
    <title>Slolo 一款多人射击游戏</title>
    <link href="https://blog.shineyu.cn/GameUE-Slolo.html"/>
    <id>https://blog.shineyu.cn/GameUE-Slolo.html</id>
    <published>2022-12-01T14:55:19.000Z</published>
    <updated>2022-12-01T14:55:19.000Z</updated>
    
    
    
    
    <category term="技术探讨" scheme="https://blog.shineyu.cn/categories/%E6%8A%80%E6%9C%AF%E6%8E%A2%E8%AE%A8/"/>
    
    
    <category term="虚幻游戏开发" scheme="https://blog.shineyu.cn/tags/%E8%99%9A%E5%B9%BB%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>设计模式</title>
    <link href="https://blog.shineyu.cn/Design-Patterns.html"/>
    <id>https://blog.shineyu.cn/Design-Patterns.html</id>
    <published>2022-11-30T18:25:51.000Z</published>
    <updated>2022-11-30T18:25:51.000Z</updated>
    
    
    
    
    <category term="技术探讨" scheme="https://blog.shineyu.cn/categories/%E6%8A%80%E6%9C%AF%E6%8E%A2%E8%AE%A8/"/>
    
    
    <category term="设计模式" scheme="https://blog.shineyu.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>我眼中的游戏制作</title>
    <link href="https://blog.shineyu.cn/Game-making-from-my-perspective.html"/>
    <id>https://blog.shineyu.cn/Game-making-from-my-perspective.html</id>
    <published>2022-11-30T18:21:24.000Z</published>
    <updated>2022-11-30T18:21:24.000Z</updated>
    
    
    
    
    <category term="生活点滴" scheme="https://blog.shineyu.cn/categories/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/"/>
    
    
    <category term="游戏开发" scheme="https://blog.shineyu.cn/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>实现一套RPC框架(EasyRPC)</title>
    <link href="https://blog.shineyu.cn/EasyRPC.html"/>
    <id>https://blog.shineyu.cn/EasyRPC.html</id>
    <published>2022-11-30T18:03:23.000Z</published>
    <updated>2022-11-30T18:03:23.000Z</updated>
    
    
    <summary type="html">EasyRPC项目的介绍和使用。</summary>
    
    
    
    <category term="技术探讨" scheme="https://blog.shineyu.cn/categories/%E6%8A%80%E6%9C%AF%E6%8E%A2%E8%AE%A8/"/>
    
    
    <category term="EasyRPC" scheme="https://blog.shineyu.cn/tags/EasyRPC/"/>
    
  </entry>
  
  <entry>
    <title>Rust实现一款简易数据库(EasyDB)</title>
    <link href="https://blog.shineyu.cn/EasyDB.html"/>
    <id>https://blog.shineyu.cn/EasyDB.html</id>
    <published>2022-11-30T18:00:14.000Z</published>
    <updated>2022-11-30T18:00:14.000Z</updated>
    
    
    <summary type="html">EasyDB项目的介绍和使用，介绍B树和存储模式，使用Rust语言。</summary>
    
    
    
    <category term="技术探讨" scheme="https://blog.shineyu.cn/categories/%E6%8A%80%E6%9C%AF%E6%8E%A2%E8%AE%A8/"/>
    
    
    <category term="EasyDB" scheme="https://blog.shineyu.cn/tags/EasyDB/"/>
    
  </entry>
  
  <entry>
    <title>GO复刻一款Docker虚拟容器(EasyDocker)</title>
    <link href="https://blog.shineyu.cn/EasyDocker.html"/>
    <id>https://blog.shineyu.cn/EasyDocker.html</id>
    <published>2022-11-30T18:00:08.000Z</published>
    <updated>2022-11-30T18:00:08.000Z</updated>
    
    
    <summary type="html">EasyDocker项目的介绍和使用，了解Linux的Namespace、cgroup和aufs等系统与网络技术。</summary>
    
    
    
    <category term="技术探讨" scheme="https://blog.shineyu.cn/categories/%E6%8A%80%E6%9C%AF%E6%8E%A2%E8%AE%A8/"/>
    
    
    <category term="EasyDocker" scheme="https://blog.shineyu.cn/tags/EasyDocker/"/>
    
  </entry>
  
  <entry>
    <title>复刻Lua脚本语言(EasyLua)</title>
    <link href="https://blog.shineyu.cn/EasyLua.html"/>
    <id>https://blog.shineyu.cn/EasyLua.html</id>
    <published>2022-11-19T17:19:20.000Z</published>
    <updated>2022-11-19T17:19:20.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h1><p>脚本语言是解释型语言，很早之前就学过这种解释型的语言，例如python。但是一直没有深入的去研究解释型语言与编译型语言到底有什么区别。只知道浅显的区别肯定不满足我的好奇心，所以，既然自己对这个脚本语言已经有疑问且好奇了，那么这个项目也就应运而生了。</p><h1 id="二、项目介绍"><a href="#二、项目介绍" class="headerlink" title="二、项目介绍"></a>二、项目介绍</h1><blockquote><p>Github: <a href="https://github.com/ShineYull/EasyLua">https://github.com/ShineYull/EasyLua</a><br>git: <a href="https://github.com/ShineYull/EasyLua.git">https://github.com/ShineYull/EasyLua.git</a>  </p></blockquote><p>该项目是使用Go语言，从零到一复刻一个lua脚本语言。它应该包含编译器与反编译器、虚拟机和标准库，这四大基础软件是头号目标。</p><h1 id="三、API介绍"><a href="#三、API介绍" class="headerlink" title="三、API介绍"></a>三、API介绍</h1>]]></content>
    
    
    <summary type="html">EasyLua项目的介绍和使用，了解脚本语言的运行机制，了解脚本语言的反编译。</summary>
    
    
    
    <category term="技术探讨" scheme="https://blog.shineyu.cn/categories/%E6%8A%80%E6%9C%AF%E6%8E%A2%E8%AE%A8/"/>
    
    
    <category term="EasyLua" scheme="https://blog.shineyu.cn/tags/EasyLua/"/>
    
  </entry>
  
  <entry>
    <title>自制简易游戏引擎(EasyEngine)</title>
    <link href="https://blog.shineyu.cn/EasyEngine.html"/>
    <id>https://blog.shineyu.cn/EasyEngine.html</id>
    <published>2022-11-19T17:19:10.000Z</published>
    <updated>2022-11-19T17:19:10.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h1><p>游戏引擎是一个神秘的大家伙，现在开始，我们就一步一步将它制作出来。当然，我达不到人月神话的地步，只能是凭着自己的兴趣和业余时间，慢慢将其维护完整。为此，写下这篇文章让想要参与贡献维护的小伙伴们，能快速的上手。  </p><h1 id="二、项目介绍"><a href="#二、项目介绍" class="headerlink" title="二、项目介绍"></a>二、项目介绍</h1><blockquote><p>Github: <a href="https://github.com/ShineYull/EasyEngine">https://github.com/ShineYull/EasyEngine</a><br>git: <a href="https://github.com/ShineYull/EasyEngine.git">https://github.com/ShineYull/EasyEngine.git</a></p></blockquote><p>该项目是从零制作一个游戏引擎，它包含游戏编辑器、UI、动画、模型、物理、音频、脚本等最基础的模块。  </p><h1 id="三、API介绍"><a href="#三、API介绍" class="headerlink" title="三、API介绍"></a>三、API介绍</h1>]]></content>
    
    
    <summary type="html">EasyEngine项目的介绍和使用，读者能自行调试和修改源代码。</summary>
    
    
    
    <category term="技术探讨" scheme="https://blog.shineyu.cn/categories/%E6%8A%80%E6%9C%AF%E6%8E%A2%E8%AE%A8/"/>
    
    
    <category term="EasyEngine" scheme="https://blog.shineyu.cn/tags/EasyEngine/"/>
    
  </entry>
  
</feed>
